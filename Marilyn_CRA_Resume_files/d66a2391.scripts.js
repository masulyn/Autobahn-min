var presentation=angular.module("presentation",["ngLocalize","ngLocalize.Config","ngLocalize.InstalledLanguages","ngRoute","services.config","tmh.dynamicLocale"]).config(["tmhDynamicLocaleProvider",function(a){a.localeLocationPattern("bower_components/angular-i18n/angular-locale_{{locale}}.js")}]).value("localeConf",{basePath:"languages",defaultLocale:"en-US",sharedDictionary:"strings",fileExtension:".lang.json",observableAttrs:new RegExp("^i18n")}).value("localeSupported",["en-US","fr-FR","nl-NL"]);presentation.config(["$sceDelegateProvider","ConfigService",function(a,b){a.resourceUrlWhitelist(["self",b.layoutUrl+"/styles/save"])}]);var match=location.search.match(/person=(\w+)/),SIGN_IN_PATH="persons/sign_in",SIGN_OUT_PATH="persons/sign_out";(function(){var a,b,c=function(a,b){return function(){return a.apply(b,arguments)}};b=angular.module("presentation"),a=function(){function a(a,b,d){var e=this;this.$rootScope=a,this.ComponentService=b,this.HttpService=d,this.removeDuplicates=c(this.removeDuplicates,this),this.moveEmptyComponents=c(this.moveEmptyComponents,this),this.initHelpers=c(this.initHelpers,this),this.swapElements=c(this.swapElements,this),this.setAreaFormat=c(this.setAreaFormat,this),this.rebuild=c(this.rebuild,this),this.moveToSimple=c(this.moveToSimple,this),this.moveToOnePage=c(this.moveToOnePage,this),this.moveElement=c(this.moveElement,this),this.findComponent=c(this.findComponent,this),this.initHelpers(),this.areaFormat={p1:{},p2:{}},this.emptyComponents=[],this.areaKeys=["s1","s2","s3","s4","s5"],this.unusedComponents=[],this.simple=function(){return"simple"===e.ComponentService.components.base.modifiers.format},this.split=function(){return"yes"===e.ComponentService.components.employment.modifiers.split},this.dim={areaHeight:function(a,c,d){var f,g;return e.areaFormat[a]?(f=35*Math.max(e.areaFormat[a][c].length,e.areaFormat[a][d||c].length)+35,g=b.components.base.modifiers||{},"p2"===a&&"yes"===g.second_page_one_column&&(f=35*e.areaFormat[a][c].length+35),f):0}},this.$rootScope.$on("area.moveTo.onePage",this.moveToOnePage),this.$rootScope.$on("area.moveTo.simple",this.moveToSimple),this.$rootScope.$on("components.empty",function(a,b){return e.emptyComponents=b.components}),this.$rootScope.$on("modifier.base",function(a,c){var d,f,g;return("second_page_nameplate"===c.modifier||"second_page_contact"===c.modifier)&&(f="second_page_nameplate"===c.modifier?"nameplate":"contact","yes"===c.value?(d=e.findComponent(f).area,"no"===b.components.base.modifiers.header&&"yes"===b.components.base.modifiers.second_page_one_column&&(d=1),e.$rootScope.$broadcast("area.add",{areaIndex:d,componentType:f,pageIndex:2})):(d=e.findComponent(f,2).area,"no"===b.components.base.modifiers.header&&"yes"===b.components.base.modifiers.second_page_one_column&&(d=1),e.$rootScope.$broadcast("area.remove",{areaIndex:d,componentType:f,pageIndex:2}))),"second_page_one_column"===c.modifier&&"yes"===b.components.base.modifiers.second_page_nameplate&&"no"===b.components.base.modifiers.header&&(e.$rootScope.$broadcast("area.remove",{areaIndex:"yes"===c.value?3:1,componentType:"nameplate",pageIndex:2}),e.$rootScope.$broadcast("area.add",{areaIndex:"yes"===c.value?1:3,componentType:"nameplate",pageIndex:2})),"pages"===c.modifier&&"2"===c.value&&"yes"===b.components.base.modifiers.second_page_nameplate?(g=b.components.base.modifiers.header,e.$rootScope.$broadcast("area.add",{areaIndex:"yes"===g?1:3,componentType:"nameplate",pageIndex:2})):void 0})}return a.$inject=["$rootScope","ComponentService","HttpService"],a.prototype.findComponent=function(a){var b,c,d,e,f;f=this.areaFormat;for(e in f){d=f[e];for(c in d)if(b=d[c],b.indexOf(a)>-1)return{page:parseInt(e[1]),area:parseInt(c[1])}}},a.prototype.moveElement=function(a){var b,c,d,e,f,g,h;return b="s"+a.destArea,c="p"+a.destPage,g="s"+a.sourceArea,h="p"+a.sourcePage,g!==b||h!==b||void 0!==a.destPos?(e=null,a.sourceArea&&a.sourcePage&&6!==a.sourceArea?(e=this.areaFormat[h][g].indexOf(a.componentType),d=this.areaFormat[h][g].slice(0,e),f=this.areaFormat[h][g].slice(e+1),this.areaFormat[h][g]=d.concat(f)):(e=this.unusedComponents.indexOf(a.componentType),d=this.unusedComponents.slice(0,e),f=this.unusedComponents.slice(e+1),this.unusedComponents=d.concat(f)),a.destArea&&a.destPage&&6!==a.destArea?isNaN(a.destPos)?this.areaFormat[c][b].push(a.componentType):(a.destPos>e&&g===b&&a.destPos--,d=this.areaFormat[c][b].slice(0,a.destPos),f=this.areaFormat[c][b].slice(a.destPos),this.areaFormat[c][b]=d.concat([a.componentType],f)):(this.unusedComponents.push(a.componentType),this.$rootScope.$apply()),this.rebuild(a)):void 0},a.prototype.moveToOnePage=function(){var a,b,c,d,e,f,g,h,i,j,k;for(d={docType:this.$rootScope.docType,p1:{},p2:{}},a=e=1;5>=e;a=++e)if(b="s"+a,this.areaFormat.p2[b].length>0){for(j=this.areaFormat.p2[b],f=0,h=j.length;h>f;f++)c=j[f],this.areaFormat.p1[b].push(c),this.$rootScope.$broadcast("area.remove",{areaIndex:a,componentType:c,pageIndex:2}),this.$rootScope.$broadcast("area.add",{areaIndex:a,componentType:c,pageIndex:1});this.areaFormat.p2[b]=[]}for(this.removeDuplicates(),k=this.areaKeys,g=0,i=k.length;i>g;g++)b=k[g],d.p1[b]=this.areaFormat.p1[b].join(","),d.p2[b]="";return this.simple&&(d.p1.s4=d.p1.s4.concat(d.p1.s5)),d!=={}?this.HttpService.postLayoutThemeAreaFormatUpdate(d):void 0},a.prototype.moveToSimple=function(){var a,b,c,d,e,f,g,h;for(b={docType:this.$rootScope.docType,p1:{},p2:{}},c=e=1;2>=e;c=++e)if(d="p"+c,this.areaFormat[d].s5.length>0){for(h=this.areaFormat[d].s5,f=0,g=h.length;g>f;f++)a=h[f],this.areaFormat[d].s4.push(a),this.$rootScope.$broadcast("area.remove",{areaIndex:5,componentType:a,pageIndex:c}),this.$rootScope.$broadcast("area.add",{areaIndex:4,componentType:a,pageIndex:c});this.areaFormat[d].s5=[],b[d].s4=this.areaFormat[d].s4.join(","),b[d].s5=[]}return b!=={}?this.HttpService.postLayoutThemeAreaFormatUpdate(b):void 0},a.prototype.rebuild=function(a){var b,c,d,e,f;return c="s"+a.destArea,d="p"+a.destPage,e="s"+a.sourceArea,f="p"+a.sourcePage,a.sourceArea===a.destArea&&a.sourcePage===a.destPage?this.$rootScope.$broadcast("area.change",{areaIndex:a.destArea,pageIndex:a.sourcePage,sourceIndex:a.sourceArea}):(this.$rootScope.$broadcast("area.move.source",{componentType:a.componentType,destArea:a.destArea,destPage:a.destPage,sourceArea:a.sourceArea,sourcePage:a.sourcePage}),this.$rootScope.$broadcast("area.move.dest",{componentType:a.componentType,destArea:a.destArea,destPage:a.destPage,sourceArea:a.sourceArea,sourcePage:a.sourcePage})),this.$rootScope.$broadcast("areas.change"),6!==a.sourceArea&&this.$rootScope.$broadcast("font.resize"),this.$rootScope.$apply(),b={},b[f]={},b[d]={},a.sourcePage&&a.sourceArea&&6!==a.sourceArea&&(b[f][e]=this.areaFormat[f][e].join(",")),a.destPage&&a.destArea&&6!==a.destArea&&(b[d][c]=this.areaFormat[d][c].join(",")),b.docType=this.$rootScope.docType,this.HttpService.postLayoutThemeAreaFormatUpdate(b)},a.prototype.setAreaFormat=function(a){var b=this;return this.areaFormat=a,this.unusedComponents=this.ComponentService.includedComponents.filter(function(a){var c,d,e,f,g;g=b.areaFormat;for(f in g){e=g[f];for(d in e)if(c=e[d],-1!==c.indexOf(a))return!1}return!0}),this.removeDuplicates(),this.moveEmptyComponents(),this.$rootScope.$broadcast("areas.change","",{areaFormat:this.areaFormat}),this.$rootScope.firstLoad&&this.$rootScope.$broadcast("prebuild","",{areaFormat:this.areaFormat}),this.$rootScope.$broadcast("area.rebuild"),setTimeout(function(){var a,c,d,e,f,g,h;g=b.areaFormat,h=[];for(f in g)e=g[f],h.push(function(){var b;b=[];for(c in e)a=e[c],b.push(function(){var b,c,e;for(e=[],b=0,c=a.length;c>b;b++)d=a[b],e.push(this.$rootScope.$broadcast("component.activate",{active:!0,component:d}));return e}.call(this));return b}.call(b));return h},0)},a.prototype.swapElements=function(a,b,c,d){var e,f,g,h,i,j,k;return h="s"+c,g="s"+d,j="p1",f="p1",i=this.areaFormat[j][h].indexOf(a),e=this.areaFormat[f][g].indexOf(b),k=this.areaFormat[j][h][i],this.areaFormat[j][h][i]=this.areaFormat[f][g][e],this.areaFormat[f][g][e]=k,this.rebuild(h,g)},a.prototype.initHelpers=function(){var a;return a=this.ComponentService,this.cl={sh:function(){var b;return b=a.components.base.modifiers||{},{"sh-background":null!==b.top_background_color.match(/primary/)||null!==b.top_background_color.match(/secondary/),"cr-as-d":"no"===b.header}},s1:function(b){var c;return c=a.components.base.modifiers||{},"1"===b||"2"===b&&"no"===c.second_page_one_column?{"col-xs-9":"left"===c.header_wide_column&&"extra_wide"===c.header_wide_column_width,"col-xs-8":"left"===c.header_wide_column&&"wide"===c.header_wide_column_width,"col-xs-6":"none"===c.header_wide_column,"col-xs-4":"right"===c.header_wide_column&&"wide"===c.header_wide_column_width,"col-xs-3":"right"===c.header_wide_column&&"extra_wide"===c.header_wide_column_width,"cr-as-d":"no"===c.header}:void 0},s2:function(b){var c;return c=a.components.base.modifiers||{},"1"===b||"2"===b&&"no"===c.second_page_one_column?{"col-xs-9":"right"===c.header_wide_column&&"extra_wide"===c.header_wide_column_width,"col-xs-8":"right"===c.header_wide_column&&"wide"===c.header_wide_column_width,"col-xs-6":"none"===c.header_wide_column,"col-xs-4":"left"===c.header_wide_column&&"wide"===c.header_wide_column_width,"col-xs-3":"left"===c.header_wide_column&&"extra_wide"===c.header_wide_column_width,"cr-as-d":"no"===c.header}:void 0},s3:function(b){var c;return c=a.components.base.modifiers||{},"1"===b||"2"===b&&"no"===c.second_page_one_column?{"col-xs-9":"left"===c.wide_column&&"extra_wide"===c.wide_column_width,"col-xs-8":"left"===c.wide_column&&"wide"===c.wide_column_width,"col-xs-6":"none"===c.wide_column,"col-xs-4":"right"===c.wide_column&&"wide"===c.wide_column_width,"col-xs-3":"right"===c.wide_column&&"extra_wide"===c.wide_column_width}:void 0},s4:function(b){var c;return c=a.components.base.modifiers||{},"1"===b||"2"===b&&"no"===c.second_page_one_column?{"col-xs-9":"right"===c.wide_column&&"extra_wide"===c.wide_column_width,"col-xs-8":"right"===c.wide_column&&"wide"===c.wide_column_width,"col-xs-6":"none"===c.wide_column,"col-xs-4":"left"===c.wide_column&&"wide"===c.wide_column_width,"col-xs-3":"left"===c.wide_column&&"extra_wide"===c.wide_column_width}:void 0}},this.ngif={oneColumn:function(){return"1"===(a.components.base.modifiers||{}).columns},oneHeaderColumn:function(){return"1"===(a.components.base.modifiers||{}).header_columns}}},a.prototype.moveEmptyComponents=function(){var a,b,c,d,e,f=this;for(a=function(a){return-1===f.emptyComponents.indexOf(a)},e=this.areaKeys,c=0,d=e.length;d>c;c++)b=e[c],this.areaFormat.p1[b]=this.areaFormat.p1[b].filter(a),this.areaFormat.p2[b]=this.areaFormat.p2[b].filter(a);return this.unusedComponents=this.unusedComponents.concat(this.emptyComponents.filter(function(a){return f.unusedComponents.indexOf(a)<0&&!a.match("freeform-2")&&!a.match("freeform-3")}))},a.prototype.removeDuplicates=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;for(a=[],b=function(b,c){return c=a.indexOf(b),a.push(b),0>c},c=function(a,b,c){return c.indexOf(a)===b},m=this.areaKeys,e=0,i=m.length;i>e;e++)d=m[e],this.areaFormat.p1[d]=this.areaFormat.p1[d].filter(c);for(n=this.areaKeys,f=0,j=n.length;j>f;f++)d=n[f],this.areaFormat.p2[d]=this.areaFormat.p2[d].filter(c);for(o=this.areaKeys,g=0,k=o.length;k>g;g++)d=o[g],this.areaFormat.p1[d]=this.areaFormat.p1[d].filter(b);for(p=this.areaKeys,q=[],h=0,l=p.length;l>h;h++)d=p[h],q.push(this.areaFormat.p2[d]=this.areaFormat.p2[d].filter(b));return q},a}(),b.service("AreaService",a)}).call(this),function(){var a;a=angular.module("presentation"),a.service("ClassService",function(){return{clAlign:function(a){return{"align-center":"center"===a.align,"align-justify":"justify"===a.align,"align-right":"right"===a.align}},clCase:function(a,b){return null==b&&(b="case"),{lowercase:"lower"===a[b],uppercase:"upper"===a[b]}},clColorsSh:function(a,b){return{"bg-primary-light":null!==a[b].match(/primary/),"bg-secondary-light":null!==a[b].match(/secondary/)}},clColorsBg:function(a,b){return{"bg-primary":"primary"===a[b],"bg-primary-dark":"primary_dark"===a[b],"bg-primary-light":"primary_light"===a[b],"bg-secondary":"secondary"===a[b],"bg-secondary-dark":"secondary_dark"===a[b],"bg-secondary-light":"secondary_light"===a[b]}},clColorsFg:function(a,b){return{"fg-primary":"primary"===a[b],"fg-primary-dark":"primary_dark"===a[b],"fg-primary-light":"primary_light"===a[b],"fg-secondary":"secondary"===a[b],"fg-secondary-dark":"secondary_dark"===a[b],"fg-secondary-light":"secondary_light"===a[b],"fg-black":"none"===a[b],"fg-white":"white"===a[b]}},clColorsUnderline:function(a,b){return{"bg-black":"none"===a[b],"bg-primary":"primary"===a[b],"bg-primary-dark":"primary_dark"===a[b],"bg-primary-light":"primary_light"===a[b],"bg-secondary":"secondary"===a[b],"bg-secondary-dark":"secondary_dark"===a[b],"bg-secondary-light":"secondary_light"===a[b]}},clColorsHv:function(a,b){return{"hv-primary":"primary"===a[b],"hv-primary-dark":"primary_dark"===a[b],"hv-primary-light":"primary_light"===a[b],"hv-secondary":"secondary"===a[b],"hv-secondary-dark":"secondary_dark"===a[b],"hv-secondary-light":"secondary_light"===a[b],"hv-black":"none"===a[b],"hv-white":"white"===a[b]}},clContentWrapper:function(a){return{block:"two_column"===a.configuration,"col-md-8":"two_column"===a.configuration&&"wide"===a.detail_column_width,"col-md-9":"two_column"===a.configuration&&"normal"===a.detail_column_width}},clDetailsWrapper:function(a){return{"align-right":"two_column"===a.configuration,block:"two_column"===a.configuration,"col-md-3":"two_column"===a.configuration&&"normal"===a.detail_column_width,"col-md-4":"two_column"===a.configuration&&"wide"===a.detail_column_width}},clFontWeight:function(a,b){return null==b&&(b="font_weight"),{"font-weight-normal":"normal"===a[b],bold:"bold"===a[b]}},clOuterRow:function(a){return{row:"two_column"===a.configuration}},clSize:function(a){return{small:"small"===a.size,medium:"medium"===a.size,large:"large"===a.size}},clUnderline:function(a){return{"underline-short":"short"===a.underline,"underline-full":"full"===a.underline,"underline-thin":"thin"===a.underline_thickness,"underline-medium":"medium"===a.underline_thickness,"underline-thick":"thick"===a.underline_thickness}}}})}.call(this),function(){var a,b,c=function(a,b){return function(){return a.apply(b,arguments)}};b=angular.module("presentation"),a=function(){function a(a,b){this.$rootScope=a,this.HttpService=b,this.initHelpers=c(this.initHelpers,this),this.setColors=c(this.setColors,this),this.setColor=c(this.setColor,this),this.postColors=c(this.postColors,this),this.getNoneColor=c(this.getNoneColor,this),this.getColor=c(this.getColor,this),this.colors={},this.initHelpers()}return a.$inject=["$rootScope","HttpService"],a.prototype.getColor=function(a){return"primary_light"===a&&(a="primaryLight"),"primary_dark"===a&&(a="primaryDark"),"secondary_light"===a&&(a="secondaryLight"),"secondary_dark"===a&&(a="secondaryDark"),"white"===a?"#ffffff":this.colors[a]},a.prototype.getNoneColor=function(a){return"background_color"===a.type&&"section_header"===a.component?"#fff":"#000"},a.prototype.postColors=function(){return this.HttpService.postThemeData(null,{primaryColor:this.colors.primary,secondaryColor:this.colors.secondary})},a.prototype.setColor=function(a,b){switch(b){case"primary":this.setColors({primary:a,secondary:this.colors.secondary});break;case"secondary":this.setColors({primary:this.colors.primary,secondary:a})}return this.postColors()},a.prototype.setColors=function(a){var b,c,d,e,f,g,h,i,j;return g=chroma.interpolate(a.primary,"#f0f0f0",.95).hex(),h=chroma.interpolate(a.primary,"#000",.33).hex(),f=chroma.interpolate(a.primary,"#000",.5).hex(),j=chroma.interpolate(a.secondary,"#f0f0f0",.95).hex(),i=chroma.interpolate(a.secondary,"#000",.5).hex(),d=.21,c=.72,b=.07,e=function(a){var e,f;return f=chroma(a).rgb(),e=d*f[0]+c*f[1]+b*f[2],chroma(e,e,e).hex()},this.colors.primaryGray=e(a.primary),this.colors.primaryLightGray=e(g),this.colors.primaryMediumGray=e(h),this.colors.primaryDarkGray=e(f),this.colors.secondaryGray=e(a.secondary),this.colors.secondaryLightGray=e(j),this.colors.secondaryDarkGray=e(i),this.colors.primary=a.primary,this.colors.primaryLight=g,this.colors.primaryMedium=h,this.colors.primaryDark=f,this.colors.secondary=a.secondary,this.colors.secondaryLight=j,this.colors.secondaryDark=i,this.$rootScope.$broadcast("colors.change")},a.prototype.initHelpers=function(){var a,b,c,d,e;for(this.options=[{value:"#000000",name:"Black"},{value:"#901611",name:"Brick Red"},{value:"#b72200",name:"Dark Red"},{value:"#cf102f",name:"Red"},{value:"#d2334f",name:"Pink Red"},{value:"#b66a6c",name:"Pale Red"},{value:"#f4c4dc",name:"Light Pink"},{value:"#e099c5",name:"Pink"},{value:"#e47296",name:"Pale Pink"},{value:"#f80c8c",name:"Bright Pink"},{value:"#fd4403",name:"Orange Red"},{value:"#fb9b2b",name:"Orange"},{value:"#f3c82c",name:"Gold"},{value:"#d3e27d",name:"Lime Green"},{value:"#a2fe7a",name:"Seafoam Green"},{value:"#97ce8a",name:"Pale Sea Green"},{value:"#51bb59",name:"Green"},{value:"#326d33",name:"Forest Green"},{value:"#25604a",name:"Pale Forest Green"},{value:"#339595",name:"Teal"},{value:"#005c64",name:"Dark Teal"},{value:"#00406e",name:"Dark Blue"},{value:"#141d2c",name:"Deep Navy Blue"},{value:"#000066",name:"Indigo"},{value:"#1f14a1",name:"Blue"},{value:"#4d89ff",name:"Sky Blue"},{value:"#0290fc",name:"Bright Blue"},{value:"#8ca4d4",name:"Periwinkle"},{value:"#ac7aff",name:"Light Purple"},{value:"#9900ff",name:"Bright Purple"},{value:"#7a29cc",name:"Purple"},{value:"#732c7c",name:"Dark Purple"},{value:"#988692",name:"Pale Lavender"},{value:"#b2a595",name:"Pale Tan"},{value:"#dfc6a8",name:"Wheat"},{value:"#e8dca8",name:"Sand"},{value:"#d8d0b9",name:"Light Tan"},{value:"#c2ac7a",name:"Dark Khaki"},{value:"#9b8412",name:"Dark Gold"},{value:"#665a20",name:"Olive Green"},{value:"#733f03",name:"Brown"},{value:"#433f40",name:"Very Dark Gray"},{value:"#586261",name:"Dark Gray 1"},{value:"#736b6a",name:"Dark Gray 2"},{value:"#797979",name:"Gray 1"},{value:"#888888",name:"Gray 2"},{value:"#949391",name:"Gray 3"},{value:"#9ba4a9",name:"Slate Gray"},{value:"#b2b7ba",name:"Silver"},{value:"#c8c8c8",name:"Light Gray"}],this.optionsMap={},d=this.options,e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(this.optionsMap[a.value]=a.name);return e},a}(),b.service("ColorService",a)}.call(this),angular.module("services.config",[]).constant("ConfigService",{contentUrl:"https://content.creddle.io",landingUrl:"http://creddle.io",layoutUrl:"https://layout.creddle.io",presentationUrl:"https://resume.creddle.io"}),function(){var ComponentService,module,__bind=function(a,b){return function(){return a.apply(b,arguments)}};module=angular.module("presentation"),ComponentService=function(){function ComponentService(a,b,c,d){var e=this;this.$rootScope=a,this.$filter=b,this.$timeout=c,this.HttpService=d,this.setModifiers=__bind(this.setModifiers,this),this.setModifier=__bind(this.setModifier,this),this.setComponent=__bind(this.setComponent,this),this.getCoverLetterData=__bind(this.getCoverLetterData,this),this.meetsConstraints=__bind(this.meetsConstraints,this),this.build=__bind(this.build,this),this.path=__bind(this.path,this),this.modifiers={},this.$scope=null,this.fonts={},this.components={base:{},activities:{},awards:{},contact:{},cover_letter:{},education:{},employment:{},"freeform-1":{},"freeform-2":{},"freeform-3":{},nameplate:{},projects:{},section_header:{},skills:{},summary:{},volunteering:{}},this.employmentSplitModifiers=[],this.employmentSplitModifierTypes=[],this.fontSizingModifiers=[],this.flexHeightComponents=[],this.headerValueComponents=[],this.pageLayoutModifiers=[],this.pageLayoutModifierTypes=[],this.dateModifiers=["date_connector","date_current_label","date_month_format","date_period_connector","date_year_format"],this.editing={},this.sorters={employment:[]},this.toggleEdit=function(a){return e.editing[a]=!e.editing[a]},this.$rootScope.$on("data.coverLetter.get",this.getCoverLetterData),this.validComponents=["nameplate","contact","summary","education","employment","skills","projects","awards","activities","volunteering","freeform-1"],this.includedComponents=[],this.$rootScope.$on("data.layout.get",function(a,b){var c,d,f,g,h;for(e.includedComponents=[],g=b.data.person.theme.components,h=[],d=0,f=g.length;f>d;d++)c=g[d],e.validComponents.indexOf(c.type)>-1?(e.includedComponents.push(c.type),h.push("employment"===c.type?e.includedComponents.push("employment_2"):void 0)):h.push(void 0);return h}),this.$rootScope.$on("getLayoutOptions",function(a,b){return e.setModifiers(b.data.modifierOptions)}),this.$rootScope.$on("setComponent",function(a,b){return e.setComponent(b.type,b.key)}),this.$rootScope.$on("modifier",function(a,b){return e.setModifier(b.component,b.modifier,b.value)}),this.$rootScope.$on("component.service.fonts.update",function(a,b){return e.fonts=b})}return ComponentService.$inject=["$rootScope","$filter","$timeout","HttpService"],ComponentService.prototype.path=function(a,b){var c;return c=this.$filter("underscore")(b.value),"views/components/"+a+"/"+c+".html"},ComponentService.prototype.build=function(a){var b,c,d,e,f=this;for(e=a.components,c=0,d=e.length;d>c;c++)b=e[c],this.setComponent(b);return this.components.base.sections=a.area_format.p1,this.$timeout(function(){return f.$rootScope.$broadcast("setSections",{sections:f.components.base.sections})},1e3)},ComponentService.prototype.meetsConstraints=function(modifiers,constraints){var component,condition,constraint,result,split,type,_i,_len,_ref,_ref1;if(!constraints)return!0;for(_i=0,_len=constraints.length;_len>_i;_i++)if(constraint=constraints[_i],split=constraint.split(";"),component=split[0],type=split[1],condition=split[2],null!=(null!=(_ref=this.components[component])?null!=(_ref1=_ref.modifiers)?_ref1[type]:void 0:void 0)&&(result=eval("this.components[component].modifiers[type] "+condition),!result))return!1;return!0},ComponentService.prototype.getCoverLetterData=function(){},ComponentService.prototype.setComponent=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u=this;h=a.type,d=this.$filter("camelCase")(a.value),(k=this.components)[h]||(k[h]={}),(l=this.components[h]).modifiers||(l.modifiers={});for(d in a)if(j=a[d],d.match(/modifier_/)&&(f=d.substring(9),f.match(/input_/)&&(f=f.substring(6)),"header_value"===f&&(e=h.replace("-","_")+"_name",j=(this.$rootScope.contentMetadata||{})[e]||j),this.components[h].modifiers[f]=j,this.components[h].path=this.path(h,a),-1!==this.dateModifiers.indexOf(f)))for(s=["activities","awards","education","projects","volunteering","freeform-1"],o=0,q=s.length;q>o;o++)i=s[o],(m=this.components)[i]||(m[i]={}),(n=this.components[i]).modifiers||(n.modifiers={}),this.components[i].modifiers[f]=j;"cover_letter"===this.$rootScope.docType&&"base"===a.type&&(this.components.base.modifiers.pages="1"),this.$rootScope.$broadcast("component."+h+".set"),c=$("[cr-"+h+"]"),g="",t=this.components[h].modifiers;for(d in t)j=t[d],"true"===j&&(g+=""+d+" "),isNaN(j)||(g+=""+d+j+" ");for(this.$rootScope.broadcastModifiers({modifiers:this.components[h].modifiers,component:h}),p=0,r=c.length;r>p;p++)b=c[p],$(b).attr("modifiers",g);return"employment"===a?this.$rootScope.split=function(){return"yes"===u.components.employment.modifiers.split}:void 0},ComponentService.prototype.setModifier=function(a,b,c){var d,e,f,g,h,i;if(this.components[a].modifiers[b]=c,-1!==this.dateModifiers.indexOf(b))for(i=["activities","awards","education","projects","volunteering","freeform-1"],g=0,h=i.length;h>g;g++)d=i[g],(e=this.components)[d]||(e[d]={}),(f=this.components[d]).modifiers||(f.modifiers={}),this.components[d].modifiers[b]=c,this.$rootScope.$broadcast("modifier."+d,{component:d,modifier:b,value:c});return"base"===a&&b.match("link_")?this.$rootScope.$broadcast("colors.change"):void 0},ComponentService.prototype.setModifiers=function(a){var b,c,d,e,f,g,h,i;for(this.modifiers={},this.editing={},i=[],g=0,h=a.length;h>g;g++)e=a[g],b=e.component,e.integer=!isNaN(e.value),-1!==["top_background_color","left_background_color","right_background_color"].indexOf(e.type)&&(e.color=!0),e.type.match(/flex_height_/)&&(-1===this.flexHeightComponents.indexOf(b)&&this.flexHeightComponents.push(b),e.flexHeight=!0),"header_value"===e.type&&(-1===this.headerValueComponents.indexOf(b)&&(this.headerValueComponents.push(b),d=e.component.replace("-","_")+"_name",e.value=(this.$rootScope.contentMetadata||{})[d]||e.value),e.headerValue=!0),"header_value_2"===e.type&&(e.headerValue2=!0),f=["pages","page_break_section_split","second_page_nameplate","second_page_contact","second_page_one_column"],f.indexOf(e.type)>-1&&-1===this.pageLayoutModifierTypes.indexOf(e.type)&&(this.pageLayoutModifiers.push(e),this.pageLayoutModifierTypes.push(e.type)),"font_sizing_scheme"===e.type&&(this.fontSizingModifiers=[e]),e.type.match("section_spacing")&&this.fontSizingModifiers.push(e),c=["split","entries_in_first_group","split_header"],c.indexOf(e.type)>-1&&-1===this.employmentSplitModifierTypes.indexOf(e.type)&&(this.employmentSplitModifiers.push(e),this.employmentSplitModifierTypes.push(e.type)),this.modifiers[b]||(this.modifiers[b]=[]),-1===this.pageLayoutModifierTypes.indexOf(e.type)&&-1===this.employmentSplitModifierTypes.indexOf(e.type)&&"font_sizing_scheme"!==e.type&&this.modifiers[b].push(e),i.push(this.editing[b]=!1);return i},ComponentService}(),module.service("ComponentService",ComponentService)}.call(this),function(){var a,b;b=angular.module("presentation"),a=function(){function a(){}return a.prototype.apply=function(a){return a.ngif||(a.ngif={}),a.ngif.date={current:function(a){return a.current},endRange:function(a){return a.endDate.month>0&&!a.current&&0!==a.endDate.year},endYear:function(a){return 0===a.endDate.month&&!a.current&&0!==a.endDate.year},period:function(a){return null!=a.startDate.year&&0!==a.startDate.year&&(null!=a.endDate.year&&0!==a.endDate.year||a.current)},startRange:function(a){return a.startDate.month>0&&0!==a.startDate.year},startYear:function(a){return 0===a.startDate.month&&0!==a.startDate.year}}},a.prototype.nonempty=function(a){return a.startDate&&a.startDate.year||a.startDate&&a.startDate.month||a.endDate&&a.endDate.year||a.endDate&&a.endDate.month||a.current},a.prototype.period=function(a){return null!=a.startDate.year&&0!==a.startDate.year&&(null!=a.endDate.year&&0!==a.endDate.year||a.current)},a}(),b.service("DateService",a)}.call(this),function(){var a,b,c=function(a,b){return function(){return a.apply(b,arguments)}};b=angular.module("presentation"),a=function(){function a(a,b,d,e,f){this.$rootScope=a,this.$filter=b,this.ColorService=d,this.ComponentService=e,this.FontService=f,this.traverse=c(this.traverse,this),this.prepare=c(this.prepare,this),this.modifiers=c(this.modifiers,this),this.ignore=c(this.ignore,this),this.getLineHeight=c(this.getLineHeight,this),this.getInnerPageWidthWithMargins=c(this.getInnerPageWidthWithMargins,this),this.getInnerPageWidth=c(this.getInnerPageWidth,this),this.getFontSize=c(this.getFontSize,this),this.getFont=c(this.getFont,this),this.getColumnWidth=c(this.getColumnWidth,this),this.getColumnMargins=c(this.getColumnMargins,this),this.exportStyles=c(this.exportStyles,this),this.buildTable=c(this.buildTable,this),this.buildSplitPoint=c(this.buildSplitPoint,this),this.buildSkillsVertical=c(this.buildSkillsVertical,this),this.buildSkillsHorizontal=c(this.buildSkillsHorizontal,this),this.buildSkills=c(this.buildSkills,this),this.buildSectionHeaders=c(this.buildSectionHeaders,this),this.buildNameplate=c(this.buildNameplate,this),this.buildMediumViewer=c(this.buildMediumViewer,this),this.buildHorizontalHeaderOrientation=c(this.buildHorizontalHeaderOrientation,this),this.buildHorizontalConfiguration=c(this.buildHorizontalConfiguration,this),this.buildEmploymentDetails=c(this.buildEmploymentDetails,this),this.buildDefault=c(this.buildDefault,this),this.buildDate=c(this.buildDate,this),this.buildContactTwoColumn=c(this.buildContactTwoColumn,this),this.buildContact=c(this.buildContact,this),this.buildAbstractTable=c(this.buildAbstractTable,this),this.applyMargins=c(this.applyMargins,this),this.applyBackgrounds=c(this.applyBackgrounds,this),this.align=c(this.align,this),this.adjustTable=c(this.adjustTable,this),this.addTableSpacer=c(this.addTableSpacer,this),this.addCommand=c(this.addCommand,this),this.init=c(this.init,this),this.init()}return a.$inject=["$rootScope","$filter","ColorService","ComponentService","FontService"],a.prototype.init=function(){return this.addingCommandsToTable=!1,this.collectingContacts=!1,this.commands=[],this.contactIndex=-1,this.contactRow=[],this.contactRowFirstElement=null,this.contactsSecondRow=!1,this.index=0,this.leftIndex=-1,this.leftElement=null,this.midLeftElement=null,this.midLeftIndex=-1,this.midLeftParent=null,this.midRightElement=null,this.midRightIndex=-1,this.midRightParent=null,this.numbering={},this.numberingIndex=0,this.secondPageIndex=-1,this.thirdPageIndex=-1,this.fourthPageIndex=-1,this.socialContacts=["facebook","twitter","linkedin","github"],this.splitElementIndex=-1,this.splitPointIndex=-1,this.topHeaderFirstIndex=-1,this.topHeaderLastIndex=-1,this.topLeftElement=null,this.topLeftIndex=-1,this.topLeftParent=null,this.topRightElement=null,this.topRightIndex=-1,this.topRightParent=null,this.ignoreClasses=["date","nameplate-name-value","nameplate-occupation-value"],this.ignoreSelfs=[".skills-list.block"],this.ignoreParents=[".content-group .block","[cr-section-header]","[cr-icon-link]",".crd-row",".date",".hidden-components",".skills-container",".skills-container .block"]},a.prototype.addCommand=function(a,b,c){var d,e,f,g,h;return null==c&&(c=this.commands),a&&(this.prepare(a),d=a.parents(".section-3.col-md-3").length>0||a.parents(".section-3.col-md-4").length>0||a.parents(".section-3.col-md-6").length>0||a.parents(".section-3.col-md-8").length>0||a.parents(".section-3.col-md-9").length>0,g=a.parents(".section-1.col-md-3").length>0||a.parents(".section-1.col-md-4").length>0||a.parents(".section-1.col-md-6").length>0||a.parents(".section-1.col-md-8").length>0||a.parents(".section-1.col-md-9").length>0,h=a.parents(".section-2.col-md-3").length>0||a.parents(".section-2.col-md-4").length>0||a.parents(".section-2.col-md-6").length>0||a.parents(".section-2.col-md-8").length>0||a.parents(".section-2.col-md-9").length>0,e=a.parents(".section-3.col-md-3").length>0||a.parents(".section-3.col-md-4").length>0||a.parents(".section-3.col-md-6").length>0||a.parents(".section-3.col-md-8").length>0||a.parents(".section-3.col-md-9").length>0,f=a.parents(".section-4.col-md-3").length>0||a.parents(".section-4.col-md-4").length>0||a.parents(".section-4.col-md-6").length>0||a.parents(".section-4.col-md-8").length>0||a.parents(".section-4.col-md-9").length>0,a.parents(".page-2").length>0&&-1===this.secondPageIndex&&(this.secondPageIndex=this.index),a.parents(".page-3").length>0&&-1===this.thirdPageIndex&&(this.thirdPageIndex=this.index),a.parents(".page-4").length>0&&-1===this.fourthPageIndex&&(this.fourthPageIndex=this.index),a.parents(".top-header").length>0&&(-1===this.topHeaderFirstIndex&&(this.topHeaderFirstIndex=this.index),a.parents(".page-1").length>0&&(this.topHeaderLastIndex=this.index)),g&&(this.topLeftElement=a,this.topLeftParent=$(a.parents(".section-1")),this.topLeftIndex=this.index),h&&(this.topRightElement=a,this.topRightParent=$(a.parents(".section-2")),this.topRightIndex=this.index),e&&(this.midLeftElement=a,this.midLeftParent=$(a.parents(".section-3")),this.midLeftIndex=this.index),f&&(this.midRightElement=a,this.midRightParent=$(a.parents(".section-4")),this.midRightIndex=this.index),d&&(this.leftIndex=this.index,this.leftElement=a),a.parents(".contact-container").length>0&&(this.contactIndex=this.index)),c.push(b),this.index++},a.prototype.addTableSpacer=function(a){return this.addCommand(a,{paragraphRun:{spacer:!0,lineHeight:1,size:1,text:""}})},a.prototype.adjustTable=function(a){var b,c,d,e,f,g,h,i,j,k,l,m;
d=0,g=0,e=0,h=0,i=a.commands.left[0];for(c in i)b=i[c],b.lineHeight&&(d=parseInt(b.lineHeight));j=a.commands.right[0];for(c in j)b=j[c],b.lineHeight&&(g=parseInt(b.lineHeight));e=(d-g)/2,h=(g-d)/2,f=Math.max(d||0,g||0),k=a.commands.left[0];for(c in k)b=k[c],f>0&&(b.lineHeight=f),!isNaN(e)&&e>0&&d>0&&g>0&&(b.margin||(b.margin={}),b.margin.before=parseInt(0)+e);l=a.commands.right[0],m=[];for(c in l)b=l[c],!isNaN(h)&&h>0&&d>0&&g>0?(b.margin||(b.margin={}),m.push(b.margin.before=parseInt(0)+h)):m.push(void 0);return m},a.prototype.align=function(a){return{left:"left",center:"center",right:"right",justify:"both"}[a]||"left"},a.prototype.applyBackgrounds=function(){var a;return"yes"===this.modifiers("base","header")&&(a=this.ColorService.getColor(this.modifiers("base","top_background_color")),"#ffffff"!==a&&void 0!==a&&this.commands.push({rect:{color:a,height:$(".top-header").outerHeight(),position:"top",top:"0"}})),a=this.ColorService.getColor(this.modifiers("base","left_background_color")),"#ffffff"!==a?this.commands.push({rect:{color:a,position:"left",top:"0",width:$(".left-panel").outerWidth()}}):void 0},a.prototype.applyMargins=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L;if(b=this.getColumnMargins(),i=parseInt(this.modifiers("base","left_padding"))+b.offset,i=this.$filter("docx.twips")(i),j=parseInt(this.modifiers("base","right_padding"))+b.offset,j=this.$filter("docx.twips")(j),q=["col6","col6"],y=["col6","col6"],m="left"===this.modifiers("base","wide_column"),o="right"===this.modifiers("base","wide_column"),l="extra_wide"===this.modifiers("base","wide_column_width"),u="left"===this.modifiers("base","header_wide_column"),w="right"===this.modifiers("base","header_wide_column"),t="extra_wide"===this.modifiers("base","header_wide_column_width"),m&&l&&(q=["col9","col3"]),m&&!l&&(q=["col8","col4"]),o&&l&&(q=["col3","col9"]),o&&!l&&(q=["col4","col8"]),u&&t&&(y=["col9","col3"]),u&&!t&&(y=["col8","col4"]),w&&t&&(y=["col3","col9"]),w&&!t&&(y=["col4","col8"]),n=q[0],p=q[1],v=y[0],x=y[1],k=15,k=this.$filter("docx.twips")(k),o&&this.contactIndex>=0){B=this.commands[this.contactIndex];for(f in B)c=B[f],a=this.$filter("docx.twips")(10),c.margin||(c.margin={}),c.margin={after:a}}if(this.topHeaderFirstIndex>=0){s=this.$filter("docx.twips")(15),C=this.commands[this.topHeaderFirstIndex];for(f in C)c=C[f],c.margin?(c.margin.before=parseInt(c.margin.before)+parseInt(s),c.margin.after=parseInt(c.margin.after)-parseInt(s)):c.margin={before:s},this.$rootScope.express&&(c.margin.before=60)}if(this.splitElementIndex>=0){s=this.$filter("docx.twips")(15),D=this.commands[this.splitElementIndex];for(f in D)c=D[f],c.margin?c.margin.before=parseInt(c.margin.before)+parseInt(s):c.margin={before:s}}if(this.topHeaderLastIndex>=0){a=this.$filter("docx.twips")(25),E=this.commands[this.topHeaderLastIndex];for(f in E)c=E[f],c.margin?(c.margin.before=parseInt(c.margin.before)+parseInt(s),c.margin.after=parseInt(c.margin.after)+parseInt(a)):c.margin={before:s,after:a},2===parseInt(this.modifiers("contact","columns"))&&(c.sectPr={columns:1,margin:{bottom:"0",left:i,top:"0",right:j}})}if("2"===this.modifiers("base","header_columns")){F=this.commands[this.topLeftIndex+1];for(f in F)c=F[f],c.margin||(c.margin={}),c.margin={before:k};G=this.commands[this.topRightIndex];for(f in G)c=G[f],c.sectPr={columns:2,margin:{bottom:"0",left:i,top:k,right:j},leftColumnWidth:this.$filter("docx.twips")($(".section-1").width()),rightColumnWidth:this.$filter("docx.twips")($(".section-2").width())}}if("2"===this.modifiers("base","columns")){for(r=this.midLeftIndex+1,e=!0,h=-1;e;){H=this.commands[r];for(f in H)if(c=H[f],"rect"===f&&(h=r),c.spacer!==!0&&"rect"!==f){e=!1;break}e&&r++}I=this.commands[r];for(f in I)c=I[f],c.margin||(c.margin={before:k}),c["break"]=!0;if(h>0){g=this.commands.splice(h,1)[0];for(f in g)c=g[f],c.top="-0.4in";this.commands.splice(h+1,0,g)}J=this.commands[this.midRightIndex];for(f in J)c=J[f],c.sectPr={columns:2,margin:{bottom:"0",left:i,top:k,right:j},leftColumnWidth:this.$filter("docx.twips")($(".section-3").width()),rightColumnWidth:this.$filter("docx.twips")($(".section-4").width())},"no"===this.modifiers("base","header")&&(c.sectPr.rightColumnMargin=this.$filter("docx.twips")(50))}for(K=[this.secondPageIndex],L=[],z=0,A=K.length;A>z;z++)d=K[z],d>=0?(s=this.$filter("docx.twips")(35),L.push(function(){var a,b;a=this.commands[this.secondPageIndex],b=[];for(f in a)c=a[f],c.pageBreak=!0,c.margin?(c.margin.before=parseInt(c.margin.before||0)+parseInt(s),b.push(c.margin.after=Math.max(0,parseInt(c.margin.after||0)-parseInt(s)))):b.push(c.margin={before:s});return b}.call(this))):L.push(void 0);return L},a.prototype.buildAbstractTable=function(a,b){var c,d,e,f,g,h,i=this;for(null==b&&(b={}),f={columns:[]},f.cellSpacing=this.$filter("docx.twips")(15),e=this.commands,this.commands=[],b.pre&&b.pre(),d=this.addCommand,this.addingCommandsToTable=!0,this.addCommand=function(a,b,c){return c?d(a,b,c):i.commands.push(b)},g=0,h=a.length;h>g;g++)c=a[g],(b.traverse||this.traverseJq)(c,this.traverse),f.columns.push({commands:this.commands,width:this.$filter("docx.twips")(c.width()+30)}),this.commands=[];return b.post&&b.post(),this.commands=e,this.addCommand=d,this.addingCommandsToTable=!1,f},a.prototype.buildContact=function(a,b){var c,d,e,f,g,h;return null==b&&(b=".icon-link-text"),this.collectingContacts=!0,h=$(".contact-icon-link .cr-text",a),g=$(b,a),d=this.modifiers("contact","link_color"),d="none"===d?"000000":this.$filter("docx.color")(this.ColorService.getColor(d))||"000000",f=a.attr("cr-icon-link")||a.attr("cr-icon-html"),e={contact:{contactType:f,color:d,icon:"yes"===this.modifiers("contact","icons"),lineHeight:this.$filter("docx.size.line")(g.css("line-height")),size:this.$filter("docx.size")($(".contact-icon-link",a).css("font-size")),text:g.text().trim()}},$(".contact-icon-link").last().attr("id")===$(".contact-icon-link",a).attr("id")&&(c=this.$filter("docx.twips")(20),e.contact.margin={after:c}),"horizontal"===this.modifiers("contact","orientation")?(this.contactRowFirstElement||(this.contactRowFirstElement=a),"yes"!==this.modifiers("contact","stack_rows")||this.contactsSecondRow||-1!==this.socialContacts.indexOf(f)&&(this.addCommand(this.contactRowFirstElement,{contactRow:{align:this.modifiers("contact","align"),contacts:this.contactRow}}),this.contactRow=[],this.socialContacts=[]),this.contactRow.push(e)):this.addCommand(a,e)},a.prototype.buildContactTwoColumn=function(a){var b,c,d,e,f,g,h,i;return e="vertical"===this.modifiers("contact","orientation"),d="2"===this.modifiers("contact","columns"),e&&d?(b=$(".col-md-6:first-child",a),c=$(".col-md-6:last-child",a),this.addTableSpacer(a),i=this.buildTable(b,c),f=i.commands.left,h=i.commands.right,g=parseInt(this.$filter("docx.twips")(10)),this.ignoreSelfs.push("[cr-icon-link], [cr-icon-html]"),this.addCommand(a,{table:i}),this.addTableSpacer(a)):void 0},a.prototype.buildDate=function(a){var b,c,d,e;return d=this.$filter("docx.size.line")(a.css("line-height")),c={paragraphRun:{align:this.align(a.css("text-align")),condense:this.$rootScope["break"],font:this.getFont(a),lineHeight:d,size:this.$filter("docx.size")(a.css("font-size")),text:a.text().trim()}},b=a.parents(".inline-block"),e=this.$filter("docx.twips")(parseInt(b.css("margin-top"))),c.paragraphRun.margin={before:e},this.addCommand(a,c)},a.prototype.buildDefault=function(a){var b,c,d,e,f,g,h,i,j,k,l,m;for(c=["icon-link-text"],j=!1,l=0,m=c.length;m>l;l++)d=c[l],a.hasClass(d)&&(j=!0);return k=a.text().trim(),j||0===k.length?void 0:(h=this.$filter("docx.size.line")(a.css("line-height")),e={paragraphRun:{align:this.align(a.css("text-align")),condense:this.$rootScope["break"],font:this.getFont(a),lineHeight:h,text:a.text().trim(),size:this.$filter("docx.size.pt")(a.css("font-size"))}},"bold"===a.css("font-weight")&&(e.paragraphRun.bold=!0),"italic"===a.css("font-style")&&(e.paragraphRun.italic=!0),g=null,f=null,i=a.parents(".content-group"),1===i.length&&(f=$(".ng-binding, [markdown-viewer]",i).first()),1===i.length&&(g=$(".ng-binding, [markdown-viewer]",i).last()),f&&f.attr("id")===a.attr("id")&&i.attr("page-break")&&(e.paragraphRun.margin={before:"240"},e.paragraphRun.pageBreak=!0),g&&g.attr("id")===a.attr("id")&&(b=this.$filter("docx.twips")(a.parents("[cr-education]").length>0?10:20),e.paragraphRun.margin={after:b}),a.hasClass("sg-name")&&(e.paragraphRun.caps="upper"===this.modifiers("skills","group_name_case"),e.paragraphRun.bold="bold"===this.modifiers("skills","group_name_font_weight")),(a.hasClass("description")||a.hasClass("content-paragraph"))&&(e.paragraphRun.margin={before:"40"}),this.addCommand(a,e))},a.prototype.buildEmploymentDetails=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;for(k=[],m={tab:!0},o=!1,f=0,h=0,t=$(".crd-col",a),p=0,r=t.length;r>p;p++){for(c=t[p],u=$(".ng-binding, .separator, .date",$(c)),q=0,s=u.length;s>q;q++)b=u[q],l=null,n=null,h=Math.max(h,this.$filter("docx.size.line")($(b).css("line-height"))),$(b).hasClass("separator")?(l="F0B7",1!==f||o||(k.push(m),o=!0),j={preserveSpace:!0,size:this.$filter("docx.size")($(b).css("font-size"))},"comma"===this.ComponentService.components.employment.modifiers.separator?j.text=", ":j.sym=l,k.push(j)):$(b).hasClass("date")?(n=$(b).text().trim(),n.length>0&&(1!==f||o||(k.push(m),o=!0),k.push({font:this.getFont($(b)),preserveSpace:!0,text:n,size:this.$filter("docx.size")($(b).css("font-size"))}))):0===$(b).parents(".date").length&&(n=$(b).text().trim(),n&&n.length>0&&(1!==f||o||(k.push(m),o=!0),j={font:this.getFont($(b)),preserveSpace:!0,size:this.$filter("docx.size")($(b).css("font-size")),text:n},"bold"===$(b).css("font-weight")&&(j.bold=!0),"italic"===$(b).css("font-style")&&(j.italic=!0),k.push(j)));f+=1}return k.length>0?(d="col12",a.parents(".section-3.col-md-6, .section-4.col-md-6").length>0&&(d="col6"),a.parents(".section-3.col-md-9, .section-4.col-md-9").length>0&&(d="col9"),a.parents(".section-3.col-md-8, .section-4.col-md-8").length>0&&(d="col8"),a.parents(".section-3.col-md-4, .section-4.col-md-4").length>0&&(d="col4"),a.parents(".section-3.col-md-3, .section-4.col-md-3").length>0&&(d="col3"),g=a.parents(".section-3").length>0,e=this.$filter("docx.twips")(a.width()),i={paragraph:{columnWidth:e,condense:this.$rootScope["break"],lineHeight:h,runs:k,tabs:o}},a.parents(".content-group[page-break]").length>0&&(i.paragraph.pageBreak=!0,i.paragraph.margin={before:"240"}),a.next().hasClass("description")||a.parent().next().hasClass("description")||(i.paragraph.margin={after:"120"}),this.addCommand(a,i)):void 0},a.prototype.buildHorizontalConfiguration=function(a){var b,c,d,e=this;return b=$(".block.col-md-3",$(a)),c=$(".block.col-md-9",$(a)),this.addTableSpacer(a),d=this.buildTable(b,c,{pre:function(){return e.ignoreParents.splice(e.ignoreParents.indexOf(".content-group .block"),1),e.ignoreParents.splice(e.ignoreParents.indexOf(".skills-container .block"),1),e.ignoreParents.splice(e.ignoreParents.indexOf(".skills-container"),1),e.ignoreSelfs.splice(e.ignoreSelfs.indexOf(".skills-list.block"),1),e.ignoreClasses.splice(e.ignoreClasses.indexOf("date"),1),e.ignoreParents.push(".skills-list")},post:function(){return e.ignoreSelfs.push(".skills-list.block"),e.ignoreParents.push(".skills-container .block"),e.ignoreParents.push(".skills-container"),e.ignoreParents.push(".content-group .block"),e.ignoreParents.splice(e.ignoreParents.indexOf(".skills-list"),1),e.ignoreClasses.push(".date")}}),this.adjustTable(d),this.addCommand(a,{table:d}),this.addTableSpacer(a)},a.prototype.buildHorizontalHeaderOrientation=function(a){var b,c,d,e,f,g,h;for(b=$("> .col-md-3",$(a)),c=$("> .col-md-9",$(a)),this.addCommand(a,{table:this.buildTable(b,c)}),e=["[cr-activities]","[cr-awards]","[cr-education]","[cr-employment]","[cr-projects]","[cr-skills]","[cr-summary]","[cr-volunteering]"],h=[],f=0,g=e.length;g>f;f++)d=e[f],h.push(a.parents(d).length>0?this.ignoreParents.push(d):void 0);return h},a.prototype.buildMediumViewer=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E=this;if(s=[],r=!1,t=function(a,b){var c,d,e,f,g,h,i,j,k,l;if(null==b&&(b=!0),e=$.parseHTML(a.html()),j="",!e)return!1;if(c=!1,1!==e.length||0!==a.children().length)for(k=0,l=e.length;l>k;k++)d=e[k],h=d.innerHTML,i=d.outerHTML,f=i,void 0===i?f="<span>"+d.textContent+"</span>":h.length>0&&b&&(c||(c=t($(d)))),j+=f;return j.length>0&&!c?(g=a.attr("id"),g?$("#"+g).html(j):a.html(j),!0):!1},c=function(b,c){var d,e,f,g,h,i;if(null==c&&(c=!1),0!==b.length){for(g=E.$filter("docx.size.pt")(a.css("font-size")),void 0===E.numbering[g]&&(E.numbering[g]=++E.numberingIndex),e=[],h=0,i=b.length;i>h;h++)f=b[h],e.push(f);return d={paragraph:{align:E.align(a.css("text-align")),bulleted:c,condense:E.$rootScope["break"],font:E.getFont(a),runs:e,size:g}},(a.hasClass("description")||a.hasClass("content-paragraph"))&&(d.paragraph.margin={before:"40"}),c&&(d.paragraph.numbering=E.numbering[g]),c||(d.paragraph.lineSpacing="260"),r||(d.paragraph.margin={before:"60"}),s.push(d),r=!0}},l=function(a){var b;return b={text:a.text()},"bold"===a.css("font-weight")&&(b.bold=!0),"italic"===a.css("font-style")&&(b.italic=!0),("U"===x||a.parents("u").length>0)&&(b.underline=!0),b.preserveSpace=!0,b},d=function(a){var b,c,d,e,f,g,h,i;if(""===a.text())return[];if(f=[],a.children().length>0)for(t(a),i=$("*",a),g=0,h=i.length;h>g;g++)d=i[g],b=$(d),b.children().length>0||(t(b),c={preserveSpace:!0,text:b.text()},e=b.prop("tagName"),"bold"===b.css("font-weight")&&(c.bold=!0),"italic"===b.css("font-style")&&(c.italic=!0),("U"===e||b.parents("u").length>0)&&(c.underline=!0),f.push(c));else f.push(l(a));return f},m=a.html(),v=[],h=function(){return v.length>0?(c(v),v=[]):void 0},t(a,!1),$("*",a).length>0)for(g=$("*",a),n=z=0,B=g.length;B>z;n=++z)switch(i=g[n],b=$(i),o=b.attr("id"),o&&(b=$("#"+o)),x=b.prop("tagName"),q=b.parents("li").length>0,u=b.parents("p").length>0,f=b.parents("li, p, b, i, u").length>0,x){case"UL":continue;case"BR":h(),w=n>0&&n<g.length-1&&"SPAN"===g[n-1].tagName&&"UL"===g[n+1].tagName,f||w||0===b.parents().length||c([{text:""}]);break;case"LI":h(),c(d(b),!0);break;case"P":if(q)continue;j=0===b.text().length,k=b.attr("id")===$(a.children().first()).attr("id"),p=b.attr("id")===$(a.children().last()).attr("id"),0===b.children().length&&(j&&(k||p)||(h(),c(d(b)))),j&&1===b.children().length&&c([{text:""}]);break;default:(0===b.children().length||$("br",b).length>0)&&!q&&b.parents().length>0&&(u?(h(),c(d(b))):b.text().length>0&&(t(b),v.push(l(b))))}else h(),c(d(a));for(h(),D=[],n=A=0,C=s.length;C>=0?C>A:A>C;n=C>=0?++A:--A)n===s.length-1?(e=this.$filter("docx.twips")(10),(y=s[n].paragraph).margin||(y.margin={}),s[n].paragraph.margin.after=e,D.push(this.addCommand(a,s[n]))):D.push(this.addCommand(null,s[n]));return D},a.prototype.buildNameplate=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x;return null==b&&(b=!0),h=$(".ng-binding",a),j=$(h[0]).text(),j=j.substr(0,j.length-1),k=$(h[1]).text(),t=$(h[2]).text(),i=this.modifiers("nameplate","configuration"),q=this.modifiers("nameplate","name_size"),q=.5*this.$filter("docx.size.font")(q),s=this.modifiers("nameplate","align"),m="lower"===this.modifiers("nameplate","case"),m&&(j=j.toLowerCase(),k=k.toLowerCase(),t=t.toLowerCase()),e=$(h[2]),c=$(".nameplate-name",a),l=1.2*parseFloat(c.css("line-height")),l=this.$filter("docx.size.line")(l),q=parseFloat(c.css("font-size")),p=parseInt(c.height()/q),o=parseFloat(c.css("line-height")),w=parseFloat(e.css("font-size")),v=parseInt(e.height()/w),u=parseFloat(e.css("line-height")),n=e.height()-v*u,x=e.parents("[cr]").width(),(e.parents(".top-header").length>0||!b)&&(x=null),r={nameplate:{align:s,configuration:i,firstName:j,lastName:k,nameHeight:c.height(),nameLineHeight:l,nameSize:q,occupation:t,occupationLineHeight:this.$filter("docx.size.line")(e.css("line-height")),occupationMarginTop:c.height()-n,occupationWidth:x}},r.nameplate.margin={before:0},b?(d=$("+ [cr]",c.parents("[cr]")),g=0,d.length>0?g=d.offset().top-c.offset().top-c.height()+10:(f=c.parents("[cr]").parents(".row"),g=(f.height()-c.height())/2),r.nameplate.margin.after=this.$filter("docx.twips")(g)):r.nameplate.margin.after=this.$filter("docx.twips")(25),this.addCommand(a,r)},a.prototype.buildSectionHeaders=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;if(this.commands.length>0&&this.commands[this.commands.length-1].table){r=this.commands[this.commands.length-1].table,g=r.commands.right[r.commands.right.length-1];for(k in g)h=g[k],h.margin||(h.margin={}),h.margin.after=this.$filter("docx.twips")(25)}return a.hasClass("ng-hide")?void 0:(s=$(".ng-binding",a).text().trim(),"lower"===this.modifiers("section_header","case")&&(s.length>0&&(l=s[0].toLowerCase()),s.length>1&&(l+=s.slice(1)),s=l),d="180",a.parents("[cr-employment], [cr-awards], [cr-skills]").length>0&&(d="120"),e=this.modifiers("section_header","background_color"),"none"!==e&&e&&(f=this.ColorService.getColor(e),c=$(".document-container"),j=a.height(),i=parseInt(a.css("font-size")),u=(j-i)/2,b=$("> div > div",a),this.addTableSpacer(a),this.prepare(a,this.commands),this.addCommand(a,{rect:{color:f,height:b.height(),horizontalPosition:"absolute",horizontalRelative:"text",left:"-0.15in",position:"top",top:"0in",verticalRelative:"text",width:$(".section-header",a).width()}})),"short"===this.modifiers("section_header","underline")&&(v=this.modifiers("section_header","underline_color"),t=this.modifiers("section_header","underline_thickness"),j=this.$filter("docx.border.height")(t),this.prepare(a,this.commands),w=$(".section-header-underline",a).width(),m=parseInt(this.modifiers("base","left_padding")),n=parseInt(this.modifiers("base","right_padding")),o=850-m-n,p={color:this.ColorService.getColor(v),height:j,horizontalPosition:"absolute",horizontalRelative:"text",left:"0in",position:"top",top:parseInt($(".section-header",a).css("line-height"))-10,verticalRelative:"text",width:w},"center"===this.modifiers("section_header","align")&&(p.left=""+((o/2-w)/100-.075).toFixed(2)+"in"),this.addCommand(a,{rect:p})),q={align:this.modifiers("section_header","align"),margin:{after:d},text:s},a.parents('[cr][page-break="true"]').length>0&&(q.pageBreak=!0),this.addCommand(a,{sectionHeader:q}))},a.prototype.buildSkills=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o=this;if(c=$(".sg-name",a),(d=$(".skills-list",a)).length>0&&this.buildSkillsHorizontal(d,c),(e=$(".skill-row",a)).length>0){if(h=$("> div",a),"yes"===this.modifiers("skills","stack_columns")){for(n=[],j=0,l=h.length;l>j;j++)b=h[j],this.buildDefault($(".sg-name",b)),n.push(this.buildSkillsVertical($(".skill-row",b)));return n}for(f=[],k=0,m=h.length;m>k;k++)g=h[k],f.push($(g));return i=this.buildAbstractTable(f,{traverse:function(a){return o.buildDefault($(".sg-name",a)),o.buildSkillsVertical($(".skill-row",a))}}),this.addCommand(a,{paragraphRun:{lineHeight:1,size:1,text:""}}),this.addCommand(a,{abstractTable:i}),this.addCommand(a,{paragraphRun:{lineHeight:1,size:1,text:""}})}},a.prototype.buildSkillsHorizontal=function(a,b){var c,d,e,f,g,h,i,j;for(g=$(".ng-binding",a),c=g.first(),e=$(".skills-list").last().attr("id")===a.attr("id"),h="",i=0,j=g.length;j>i;i++)f=g[i],h+=""+$(f).text().trim()+" ";return h.length>0?(d={paragraph:{runs:[]}},b&&d.paragraph.runs.push({bold:"bold"===this.modifiers("skills","group_name_font_weight"),caps:"upper"===this.modifiers("skills","group_name_case"),preserveSpace:!0,size:this.$filter("docx.size")(b.css("font-size")),text:b.text().trim()+" "}),d.paragraph.runs.push({font:this.getFont(c),size:this.$filter("docx.size")(c.css("font-size")),text:h.trim()}),d.paragraph.lineHeight=this.$filter("docx.size.line")(c.css("line-height")),e&&(d.paragraph.margin={after:this.$filter("docx.twips")(20)}),this.addCommand(a,d)):void 0},a.prototype.buildSkillsVertical=function(a){var b,c,d,e,f,g,h,i;for(f=$(".ng-binding",a),i=[],g=0,h=f.length;h>g;g++)e=f[g],b=$(e),c={paragraphRun:{condense:this.$rootScope["break"],font:this.getFont(a.parent()),lineSpacing:"240",size:this.getFontSize(b),text:b.text()}},e===f[f.length-1]&&(d=this.$filter("docx.twips")(20),c.paragraphRun.margin={after:d}),i.push(this.addCommand(a,c));return i},a.prototype.buildSplitPoint=function(){return this.splitElementIndex=this.index,this.buildNameplate($(".split-element-wrapper [cr-nameplate]"),!1)},a.prototype.buildTable=function(a,b,c){var d,e,f,g=this;return null==c&&(c={}),f={commands:{},width:{}},f.cellSpacing=this.$filter("docx.twips")(15),e=this.commands,this.commands=[],c.pre&&c.pre(),d=this.addCommand,this.addingCommandsToTable=!0,this.addCommand=function(a,b,c){return c&&d(a,b,c),c?void 0:g.commands.push(b)},this.traverseJq(a,this.traverse),f.commands.left=this.commands,f.width.left=this.$filter("docx.twips")(a.width()+30),this.commands=[],this.traverseJq(b,this.traverse),f.commands.right=this.commands,f.width.right=this.$filter("docx.twips")(b.width()+30),this.commands=[],c.post&&c.post(),this.commands=e,this.addCommand=d,this.addingCommandsToTable=!1,f},a.prototype.exportStyles=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M;return g="bold"===this.modifiers("section_header","font_weight"),h="short"===this.modifiers("section_header","underline"),i=this.modifiers("section_header","underline_thickness"),i=this.$filter("docx.border.size")(i),"none"===this.modifiers("section_header","underline")&&(i=0),j="upper"===this.modifiers("section_header","case"),j=j.toString(),k=this.ColorService.colors[this.modifiers("section_header","color")],k=this.$filter("docx.color")(k),m="none"!==this.modifiers("section_header","icon"),n="both"===this.modifiers("section_header","icon_placement"),o="left"===this.modifiers("section_header","icon_placement"),p="right"===this.modifiers("section_header","icon_placement"),q=this.modifiers("section_header","icon"),s=this.modifiers("section_header","size"),s=this.$filter("docx.size.sectionHeader")(s),t=this.modifiers("section_header","underline_color"),t=this.ColorService.colors[this.$filter("docx.color.prep")(t)],t=this.$filter("docx.color")(t),t||(t="000000"),r=0,r+=parseInt($(".section-header").css("marginBottom")),r+=parseInt($(".section-header-underline").css("marginBottom")),r=this.$filter("docx.twips")(r),r||(r=0),J=35,"no"===this.modifiers("base","header")&&(J=20),x=parseInt(this.modifiers("base","bottom_padding")),x=this.$filter("docx.twips")(x),y=parseInt(this.modifiers("base","left_padding"))+J,y=this.$filter("docx.twips")(y),z=parseInt(this.modifiers("base","right_padding"))+J,z=this.$filter("docx.twips")(z),A=parseInt(this.modifiers("base","top_padding")),A=this.$filter("docx.twips")(A),l="col12",w="col6",K="col6","left"===this.modifiers("base","wide_column")?"extra_wide"===this.modifiers("base","wide_column_width")?(w="col9",K="col3"):(w="col8",K="col4"):"right"===this.modifiers("base","wide_column")&&("extra_wide"===this.modifiers("base","wide_column_width")?(w="col3",K="col9"):(w="col4",K="col8")),c="bold"===this.modifiers("nameplate","first_name_font_weight"),d=this.ColorService.getColor(this.modifiers("nameplate","first_name_color")),d=this.$filter("docx.color")(d),u="bold"===this.modifiers("nameplate","last_name_font_weight"),v=this.ColorService.getColor(this.modifiers("nameplate","last_name_color")),v=this.$filter("docx.color")(v),G="bold"===this.modifiers("nameplate","occupation_font_weight"),H=this.ColorService.getColor(this.modifiers("nameplate","occupation_color")),H=this.$filter("docx.color")(H)||"000000",C=this.modifiers("nameplate","align"),D=this.modifiers("nameplate","underline_thickness"),D=this.$filter("docx.border.size")(D),"none"===this.modifiers("nameplate","underline")&&(D=0),E=("upper"===this.modifiers("nameplate","case")).toString(),B=this.modifiers("nameplate","name_size"),B=this.$filter("docx.size.font")(B),F=this.modifiers("nameplate","underline_color"),F=this.ColorService.colors[this.$filter("docx.color.prep")(F)],F=this.$filter("docx.color")(F),I=this.modifiers("nameplate","occupation_size"),I=this.$filter("docx.size.font")(I),b="upper"===this.modifiers("contact","contact_type_case"),b=b.toString(),L=this.modifiers("base","top_background_color"),L=this.ColorService.colors[this.$filter("underscore.camelCase")(L)],L=this.$filter("docx.color")(L),M=parseInt($(".top-header").css("marginBottom")),M=this.$filter("docx.twips")(M),e=-1!==this.FontService.options.web.indexOf(this.ComponentService.fonts.primary),f=-1!==this.FontService.options.web.indexOf(this.ComponentService.fonts.secondary),a={contactType:{caps:b},font:{primary:{embed:e,face:this.ComponentService.fonts.primary},secondary:{embed:f,face:this.ComponentService.fonts.secondary}},firstName:{bold:c,color:d,size:B},lastName:{bold:u,color:v,size:B},nameplate:{align:C,caps:E,colWidth:l,font:this.ComponentService.fonts.primary},occupation:{bold:G,color:H,font:this.ComponentService.fonts.primary,size:I},page:{margin:{bottom:x,left:y,top:A,right:z},columns:1,leftColumnWidth:this.$filter("docx.twips")($(".section-3").width()),rightColumnWidth:this.$filter("docx.twips")($(".section-4").width()),leftColumn:w,rightColumn:K,innerWidth:this.getInnerPageWidth(),innerWidthWithMargins:this.getInnerPageWidthWithMargins()},sectionHeader:{bold:g,caps:j,color:k,font:this.ComponentService.fonts.primary,icon:{left:m&&(o||n),right:m&&(p||n),type:q},margin:{bottom:r},size:s},text:{font:this.ComponentService.fonts.secondary},top:{background:L,margin:{bottom:M}}},parseInt(D)>0&&!isNaN(i)&&(a.nameplate.border={bottom:{color:F,size:D}}),parseInt(i)>0&&!isNaN(i)&&(h||(a.sectionHeader.border={bottom:{color:t,size:i}})),"vertical"===this.modifiers("nameplate","configuration")&&(a.occupation.caps=E),a},a.prototype.getColumnMargins=function(){var a,b,c,d;return c=20,b=50,d=50,a=50,"yes"===this.modifiers("base","header")&&(c=35,b=65,d=45,a=35),{offset:c,lcm:this.$filter("docx.twips")(b),rcm:this.$filter("docx.twips")(d),cs:this.$filter("docx.twips")(a)}},a.prototype.getColumnWidth=function(a,b){var c,d,e,f;return c=this.getColumnMargins(),f=this.getInnerPageWidth(),e={col12:parseInt(f),col9:parseInt(.75*f),col8:parseInt(.666*f),col6:parseInt(.5*f),col4:parseInt(.333*f),col3:parseInt(.25*f)},d=e[a]-(b?c.lcm:c.rcm)},a.prototype.getFont=function(a){return a.hasClass("font-primary")?this.FontService.fonts.primary:a.hasClass("font-secondary")?this.FontService.fonts.secondary:null},a.prototype.getFontSize=function(a){return this.$filter("docx.size")(a.css("font-size"))},a.prototype.getInnerPageWidth=function(){var a,b,c;return b=12240,a=parseInt(this.modifiers("base","left_padding")),a>0&&(b-=this.$filter("docx.twips")(a)),c=parseInt(this.modifiers("base","right_padding")),c>0&&(b-=this.$filter("docx.twips")(c)),b},a.prototype.getInnerPageWidthWithMargins=function(){return this.getInnerPageWidth()-this.$filter("docx.twips")(70)},a.prototype.getLineHeight=function(a){return this.$filter("docx.size.line")(a.css("line-height"))},a.prototype.ignore=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n;for(b=!1,$(a).attr("id")||(b=!0),l=this.ignoreClasses,f=0,i=l.length;i>f;f++)if(c=l[f],a.hasClass(c)){b=!0;break}for(m=this.ignoreSelfs,g=0,j=m.length;j>g;g++)if(e=m[g],$(a).is(e)){b=!0;break}for(n=this.ignoreParents,h=0,k=n.length;k>h;h++)if(d=n[h],$(a).parents(d).length>0){b=!0;break}return b},a.prototype.modifiers=function(a,b){return this.ComponentService.components[a].modifiers[b]},a.prototype.prepare=function(a,b){return this.collectingContacts&&void 0===a.attr("cr-icon-link")&&(this.collectingContacts=!1,this.contactRow.length>0)?this.addCommand(this.contactRowFirstElement,{contactRow:{align:this.modifiers("contact","align"),contacts:this.contactRow}},b):void 0},a.prototype.traverse=function(a){var b;return b=$(a),this.ignore(b)?void 0:(b.hasClass("content-group")||b.hasClass("skills-container"))&&$(".block",b).length>0?void this.buildHorizontalConfiguration(b):b.hasClass("section-horizontal")?void this.buildHorizontalHeaderOrientation(b):(b.hasClass("split-point")&&this.buildSplitPoint(b),void 0!==b.attr("cr-section-header")?this.buildSectionHeaders(b):void 0!==b.attr("cr-nameplate")?this.buildNameplate(b):b.hasClass("contact-container")?this.buildContactTwoColumn(b):void 0!==b.attr("cr-icon-link")?this.buildContact(b):void 0!==b.attr("cr-icon-html")?this.buildContact(b,"[markdown-viewer]"):b.hasClass("crd-row")?this.buildEmploymentDetails(b):void 0!==b.attr("markdown-viewer")&&0===b.parents(".contact-icon-link").length?this.buildMediumViewer(b):b.hasClass("skills-container")?this.buildSkills(b):b.hasClass("skills-list")?this.buildSkillsHorizontal(b):b.hasClass("date")?this.buildDate(b):b.hasClass("ng-binding")?this.buildDefault(b):void 0)},a.prototype.traverseJq=function(a,b){var c,d,e,f,g;for(a=$(a),b(a),f=a.children(),g=[],d=0,e=f.length;e>d;d++)c=f[d],g.push(this.traverseJq($(c),b));return g},a}(),b.service("DocxService",a)}.call(this),function(){var a,b,c=function(a,b){return function(){return a.apply(b,arguments)}};b=angular.module("presentation"),a=function(){function a(a,b,d,e,f,g,h,i,j){this.$rootScope=a,this.$timeout=b,this.$http=d,this.ComponentService=e,this.ConfigService=f,this.FontService=g,this.HttpService=h,this.PageService=i,this.ResumeService=j,this.showSavingMessage=c(this.showSavingMessage,this),this.showSavedMessage=c(this.showSavedMessage,this),this.restore=c(this.restore,this),this.saveMessageTimeout=1}return a.$inject=["$rootScope","$timeout","$http","ComponentService","ConfigService","FontService","HttpService","PageService","ResumeService"],a.prototype.clean=function(){return $("#export-container").html("")},a.prototype.hideNonPrintElements=function(){return $(".navbar").hide(),$("[ng-controller='CustomizerCtrl']").hide(),$("[ng-controller='ThemeCtrl']").hide(),$(".export-btn").hide(),$(".error-message").hide()},a.prototype.html=function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o=this;for(null==d&&(d=""),null==e&&(e=!0),null==f&&(f=!0),null==g&&(g=!1),e||this.showSavingMessage(),i=a.element.clone(),this.traverse(i,function(a){return a.hasClass("ng-hide")?a.remove():void 0}),this.traverse(i,function(a){var b,c,d,e;for(c=["ng-bind","ng-class","ng-show","ng-repeat","ng-if","fill","fit","fixed"],d=0,e=c.length;e>d;d++)b=c[d],a.removeAttr(b);return""===a.attr("class")&&a.removeAttr("class"),a.removeClass("ng-binding ng-scope ng-show"),a.attr("id",a.attr("id")+"-c")}),this.replace(i,/<!--[^<>]*-->/g,""),$(".main-column").addClass("export-page"),$("#export-container").empty(),$("#export-container").append(i),$(".btn-quick-customize").css("display","none");$("ng-include","#e-0-c").length>0;)this.traverse(i,function(a){var b,c,d,e;if("NG-INCLUDE"===a.prop("tagName")){for(e=a.children(),c=0,d=e.length;d>c;c++)b=e[c],a.before($(b));return a.remove()}});return j=parseInt($(".document-container").css("height")),j>this.PageService.dim.pageHeight()&&(j-=50*this.PageService.pages,$("#export-container .document-container").attr("style","height: "+j+"px !important")),$("#export-container").removeClass("font-sizing-fixed"),$("#document-ctrl").hasClass("font-sizing-fixed")&&$("#export-container").addClass("font-sizing-fixed"),h=$(".main-column"),h.attr("prev-height",h.height()),h.height(this.PageService.dim.pageHeight()*this.PageService.pages),l="",m=function(a){var g,i,j,k;return null==a&&(a=1),e&&window.print(),f?(h.height(h.attr("prev-height")),h.attr("prev-height",""),g=$(".a4").length>0,j=g?"a4":"",g&&$("#document-ctrl, #export-container, html, body").addClass("a4"),$("#export-container .footer-row").remove(),i=$("#export-container").html(),k=""+o.styles(d)+'<style type="text/css">'+b+"</style>",k+='<base target="_parent" />',l='<html class="'+j+'"><head>'+k+"</head>",l+="<title>Creddle | Resume</title>",l+='<link rel="icon" href="https://resume.creddle.io/favicon.ico" type="image/x-icon">',l+='<body class="'+j+'">'+o.navbar(),l+='<div style="margin-top:100px;margin-bottom:100px">',l+=""+i+"</div></body>",l+="</html>",$("#export-container").html(i),$("html").attr("style",""),$(".main-column").attr("style",""),e||o.showSavedMessage(function(){return c?void 0:o.HttpService.getPublish(function(){return $("#link-modal").modal({show:!0})
})}),o.restore()):void 0},g?(k=$("#export-container .page").eq(0).height(),Math.abs(1100-k)<=50&&(k=1100),Math.abs(1168-k)<=50&&(k=1168),$("#export-container > div").eq(0).attr("style","height: "+k+"px !important"),n=""+this.ConfigService.presentationUrl+"/embed/"+this.ResumeService.selectedUuid(),this.$http.get(n).success(function(a){var b,c,d,e;return"error"===a?(o.restore(),void o.$rootScope.$broadcast("modal.coverLetterResumePublish.show")):(a=a.replace(/(\r\n|\n|\r)/gm,""),b=$(a.match(/<body[^>]*>(.*)<\/body>/)[0]),b.attr("id","added-resume"),"cover-letter-resume"===g?$("#export-container").append(b):$("#export-container").prepend(b),c=$("#export-container .page").eq(1).height(),d=$("#export-container .page").eq(2).height()||0,console.log(k,c,d),Math.abs(1100-c)<=50&&(c=1100),Math.abs(1168-c)<=50&&(c=1168),Math.abs(1100-d)<=50&&(d=1100),Math.abs(1168-d)<=50&&(d=1168),console.log(k,c,d),$("#export-container > div").eq(1).attr("style","height: "+(c+d)+"px !important"),e=k+c+d,"resume-cover-letter"===g&&$("body").hasClass("a4")&&$("#export-container > div").eq(1).attr("style","height: "+k+"px !important; top: "+(c+d)+"px"),$("#export-container").attr("style","height: "+e+"px !important"),$(".main-column").attr("style","height: "+e+"px !important"),$("#export-container").height(""+e+"px"),$("html").attr("style","height: "+e+"px !important"),"cover-letter-resume"===g||"resume-cover-letter"===g?o.$timeout(function(){return m()},0):m())}).error(function(){return console.log("3000 failure"),m()})):m(),l},a.prototype.navbar=function(){return'<nav class="navbar navbar-default navbar-fixed-top main-navbar">  <div class="navbar-center">   <a href="http://creddle.io" class="home-link">creddle</a> </div></nav>'},a.prototype.replace=function(a,b,c){return a.html(a.html().replace(b,c))},a.prototype.restore=function(){return $(".btn-export-back").css("visibility","hidden"),this.restoreNonPrintElements(),$(".main-column").addClass("edit-page"),$(".main-column").removeClass("export-page"),$("#document-ctrl").show(),$("#export-container").empty(),$("#document-ctrl, #export-container, html, body").removeClass("a4"),$(".btn-quick-customize").css("display","")},a.prototype.restoreNonPrintElements=function(){return $(".navbar").show(),$("[ng-controller='CustomizerCtrl']").show(),$("[ng-controller='ThemeCtrl']").show(),$(".export-btn").show(),$(".error-message").show()},a.prototype.showSavedMessage=function(a){var b,c=this;return this.saveMessageTimeout++,b=this.saveMessageTimeout,this.$timeout(function(){return b===c.saveMessageTimeout&&($(".save-message").html("Published"),a&&a(),b===c.saveMessageTimeout)?c.$timeout(function(){return b===c.saveMessageTimeout?$(".save-message").fadeOut():void 0},3e3):void 0},3e3)},a.prototype.showSavingMessage=function(){return $(".save-message").html("Publishing..."),$(".save-message").stop(),$(".save-message").show()},a.prototype.styles=function(a){var b,c,d,e,f,g;return d=this.FontService.fonts.primary,e=-1!==this.FontService.options.web.indexOf(d),f=this.FontService.fonts.secondary,g=-1!==this.FontService.options.web.indexOf(f),d===f&&(g=!1),d=d.replace(new RegExp(" ","g"),"+"),f=f.replace(new RegExp(" ","g"),"+"),c=['<meta charset="utf-8">','<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">','<meta name="viewport" content="width=device-width">','<meta property="fb:app_id" content="281452685369287">','<meta property="og:type" content="creddle:resume">','<meta property="og:title" content="'+a+"'s Rsum\">",'<meta property="og:image" content="http://creddle.io/images/logo_1024.png">','<meta name="robots" content="noindex">','<link rel="icon" href="favicon.ico" type="image/x-icon"/> ','<link rel="shortcut icon" href="favicon.ico" type="image/x-icon"/> ','<link href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">','<link href="https://fonts.googleapis.com/css?family=Varela+Round:400,700" rel="stylesheet" type="text/css">','<script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>','<link rel="stylesheet" href="/stylesheets/bootstrap.css" media="all">','<link rel="stylesheet" href="/stylesheets/main.css" media="all">','<link rel="stylesheet" href="/stylesheets/print.css" media="print">'].join(""),b="",e&&(b+='<link href="https://fonts.googleapis.com/css?family='+d+':400,700" rel="stylesheet" type="text/css">'),g&&(b+='<link href="https://fonts.googleapis.com/css?family='+f+':400,700" rel="stylesheet" type="text/css">'),c+b},a.prototype.traverse=function(a,b){var c,d,e,f,g;for(b(a),f=a.children(),g=[],d=0,e=f.length;e>d;d++)c=f[d],g.push(this.traverse($(c),b));return g},a}(),b.service("ExportService",a)}.call(this),function(){var a,b,c=function(a,b){return function(){return a.apply(b,arguments)}};b=angular.module("presentation"),a=function(){function a(a,b,d){this.$rootScope=a,this.ComponentService=b,this.AreaService=d,this.extend=c(this.extend,this),this.applyFixedFontSize=c(this.applyFixedFontSize,this),this.DOC_HEIGHT=1100}return a.$inject=["$rootScope","ComponentService","AreaService"],a.prototype.applyFixedFontSize=function(a,b){var c,d,e,f=this;e=function(){var a;return a=document.createElement("style"),a.appendChild(document.createTextNode("")),document.head.appendChild(a),a.sheet},c=function(a,b,c){return a.addRule?a.addRule(b,c):a.insertRule&&a.insertRule(""+b+"{"+c+"}",0),a},d=e(),d=c(d,'[flex-height="3"]',"font-size: 10pt"),d=c(d,'[flex-height="4"]',"font-size: 11pt"),d=c(d,'[flex-height="5"]',"font-size: 11pt"),clearTimeout(this.applyFixedFontSizeTimeout),this.applyFixedFontSizeTimeout=setTimeout(function(){var c;return a.prepareForExport(b.callback1),c=!1,a.build(function(){return c?void 0:(f.balanced=!0,f.extend(a.prepareForExport,b.callback1,b.callback2))},!0)},3e3)},a.prototype.extend=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;if(this.CONTENT_HEIGHT=1050,q=2,g=$(".page-1"),this.$rootScope["break"])for(n=this.AreaService.areaFormat,p=0,w=$(".page-1 [cr]"),s=0,u=w.length;u>s;s++)if(m=w[s],f=$(m),r=f.offset().top-g.offset().top,h=r+f.height(),o="page-2",q=1,h-p>this.CONTENT_HEIGHT)if(r-p>this.CONTENT_HEIGHT)q++,p+=this.DOC_HEIGHT+50;else if(e=$(".content-group",f),e.length>0)for(i=t=0,v=e.length;v>t;i=++t)j=e[i],d=$(j),l=d.offset().top-g.offset().top,k=l+d.height(),k-p>this.CONTENT_HEIGHT&&console.log("----"),console.log(f.attr("cr"),i,k-p,this.DOC_HEIGHT+p-l),k-p>this.CONTENT_HEIGHT&&(i>0?d.attr("page-break",!0):d.parents("[cr]").first().attr("page-break",!0),p+=this.CONTENT_HEIGHT-(p+this.DOC_HEIGHT-l),q++);else f.attr("page-break",!0),q++,p+=this.DOC_HEIGHT;return a(b,c)},a}(),b.service("ExtensionService",a)}.call(this),function(){var a,b,c=function(a,b){return function(){return a.apply(b,arguments)}};b=angular.module("presentation"),a=function(){function a(a,b){this.$rootScope=a,this.HttpService=b,this.updateFonts=c(this.updateFonts,this),this.setOptions=c(this.setOptions,this),this.setFonts=c(this.setFonts,this),this.setFont=c(this.setFont,this),this.postFonts=c(this.postFonts,this),this.loadMissingFonts=c(this.loadMissingFonts,this),this.loadFont=c(this.loadFont,this),this.fonts={primary:"",secondary:""},this.options=[],this.loadFonts=!1,this.missingFonts=["Arimo","Droid+Sans","Droid+Serif","Noto+Sans","Open+Sans","Roboto","Roboto+Slab"],this.loadedFonts=[]}return a.$inject=["$rootScope","HttpService"],a.prototype.loadFont=function(a){return-1===this.loadedFonts.indexOf(a)?($("head").append('<link href="https://fonts.googleapis.com/css?family='+a+':400,700" rel="stylesheet" type="text/css">'),this.loadedFonts.push(a)):void 0},a.prototype.loadMissingFonts=function(){var a,b,c,d,e;for(d=this.missingFonts,e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(this.loadFont(a));return e},a.prototype.postFonts=function(){return this.HttpService.postThemeData(null,{primaryFont:this.fonts.primary,secondaryFont:this.fonts.secondary})},a.prototype.setFont=function(a,b){var c;return c=a.replace(new RegExp(" ","g"),"+"),-1!==this.missingFonts.indexOf(c)&&this.loadFont(c),this.fonts[b]=a,this.updateFonts(),this.postFonts()},a.prototype.setFonts=function(a){var b,c,d;for(d in a)b=a[d],c=b.replace(new RegExp(" ","g"),"+"),-1!==this.missingFonts.indexOf(c)&&this.loadFont(c);return this.fonts=a,this.updateFonts()},a.prototype.setOptions=function(a){return this.options=a},a.prototype.updateFonts=function(){return this.$rootScope.$broadcast("component.service.fonts.update",this.fonts),this.$rootScope.$broadcast("fonts.change"),this.$rootScope.$broadcast("build")},a}(),b.service("FontService",a)}.call(this),function(){var a,b,c=function(a,b){return function(){return a.apply(b,arguments)}};b=angular.module("presentation"),b.service("HttpService",a=function(){function a(a,b,d){this.$http=a,this.$rootScope=b,this.postUnlockExtras=c(this.postUnlockExtras,this),this.postThemeSelect=c(this.postThemeSelect,this),this.postThemeDelete=c(this.postThemeDelete,this),this.postThemeData=c(this.postThemeData,this),this.postThemeCoverLetterReset=c(this.postThemeCoverLetterReset,this),this.postThemeCopyBase=c(this.postThemeCopyBase,this),this.postThemeCopy=c(this.postThemeCopy,this),this.postSaveHtml=c(this.postSaveHtml,this),this.postResumeSelect=c(this.postResumeSelect,this),this.postPrint=c(this.postPrint,this),this.postLayoutUpdatePlacement=c(this.postLayoutUpdatePlacement,this),this.postLayoutUpdateModifier=c(this.postLayoutUpdateModifier,this),this.postLayoutThemeDefault=c(this.postLayoutThemeDefault,this),this.postLayoutData=c(this.postLayoutData,this),this.postLayoutThemeAreaFormatUpdate=c(this.postLayoutThemeAreaFormatUpdate,this),this.postExport=c(this.postExport,this),this.postDeleteHtml=c(this.postDeleteHtml,this),this.postDeleteComment=c(this.postDeleteComment,this),this.postCoverLetterUpdate=c(this.postCoverLetterUpdate,this),this.postContentPersonMetadataUpdate=c(this.postContentPersonMetadataUpdate,this),this.postComment=c(this.postComment,this),this.postClearPerson=c(this.postClearPerson,this),this.getThemeData=c(this.getThemeData,this),this.getRevision=c(this.getRevision,this),this.getPublish=c(this.getPublish,this),this.getPdfExport=c(this.getPdfExport,this),this.getPdfDownload=c(this.getPdfDownload,this),this.getName=c(this.getName,this),this.getLayoutOptions=c(this.getLayoutOptions,this),this.getLayoutData=c(this.getLayoutData,this),this.getDocumentData=c(this.getDocumentData,this),this.getCoverLetterStatus=c(this.getCoverLetterStatus,this),this.getCoverLetterContent=c(this.getCoverLetterContent,this),this.post=c(this.post,this),this.get=c(this.get,this),this.contentUrl=d.contentUrl,this.layoutUrl=d.layoutUrl,this.presentationUrl=d.presentationUrl}return a.$inject=["$http","$rootScope","ConfigService"],a.prototype.get=function(a,b,c){if(window.preset){if(!a.match(/layout/))return void(b&&b({}));a+="?crToken="+window.preset.cr_token}return this.$http.get(a).success(function(a){return b?b(a):void 0}).error(function(a){return c?c(a):void 0})},a.prototype.post=function(a,b,c,d){var e=this;return window.preset&&a.match(/layout/)&&(a+="?crToken="+window.preset.cr_token),this.$http.post(a,b).success(function(a){return c?c(a):void 0}).error(function(a){return d?d(a):e.$rootScope.$broadcast("showErrorModal")})},a.prototype.getCoverLetterContent=function(a){var b=this;return this.get(""+this.presentationUrl+"/content/api/persons/cover_letter",function(c){return a&&a(c),b.$rootScope.onGetDocumentData()})},a.prototype.getCoverLetterStatus=function(a,b){return this.get(""+this.presentationUrl+"/content/status/cover_letter",function(b){return a?a(b):void 0},function(){return b?b():void 0})},a.prototype.getDocumentData=function(a){var b,c=this;return window.preset?(a&&a(window.preset.json),this.$rootScope.contentMetadata=window.preset.json.person.content_metadata,this.$rootScope.onGetDocumentData()):(b=this.$rootScope.batch?"batch/"+this.$rootScope.batchRId:"show",this.get(""+this.presentationUrl+"/content/api/persons/"+b,function(b){return a&&a(b),c.$rootScope.onGetDocumentData()}))},a.prototype.getLayoutData=function(a){var b,c,d=this;return b=this.$rootScope.batch?"/batch?theme="+this.$rootScope.batchTheme:"",c=""+this.presentationUrl+"/layout/api/persons"+b,"cover_letter"===this.$rootScope.docType&&(c+="/cover_letter"),this.get(c,function(b){return b.person.themes.length>0||d.$rootScope.batch?(a&&a(b),d.$rootScope.onGetLayoutData(),d.$rootScope.$broadcast("selector.theme.hide")):d.$rootScope.$broadcast("selector.theme.show")})},a.prototype.getLayoutOptions=function(a){var b;return b=""+this.presentationUrl+"/layout/api/options",this.get(b,function(b){return a(b)})},a.prototype.getName=function(a){return this.$http.get(""+this.presentationUrl+"/content/api/persons/name").success(function(b){return a?a(b):void 0}).error(function(){return console.log("3000 failure")})},a.prototype.getPdfDownload=function(a,b){return this.$http.get(""+this.presentationUrl+"/export/pdf/download/"+a).success(function(a){return b?b(a):void 0}).error(function(a){return b?b(a):void 0})},a.prototype.getPdfExport=function(a,b){return this.$http.get(""+this.presentationUrl+"/export/pdf/export/"+a).success(function(a){return b?b(a):void 0}).error(function(a){return b?b(a):void 0})},a.prototype.getPublish=function(a){return this.$http.get(""+this.presentationUrl+"/content/persons/publish").success(function(b){return a?a(b):void 0}).error(function(b){return a?a(b):void 0})},a.prototype.getRevision=function(a,b){return this.$http.get(""+this.presentationUrl+"/content/api/revisions/"+a).success(function(a){return b?b(a):void 0}).error(function(){return console.log("3000 failure")})},a.prototype.getThemeData=function(a,b){return this.post(""+this.presentationUrl+"/layout/api/themes/"+a,{},b)},a.prototype.postClearPerson=function(a){return this.$http.post(""+this.presentationUrl+"/content/persons/"+a+"/clear",{})},a.prototype.postComment=function(a,b){return this.$http.post(""+this.presentationUrl+"/content/comments/create",a).success(function(a){return b?b(a):void 0})},a.prototype.postContentPersonMetadataUpdate=function(a,b,c){return this.post(""+this.presentationUrl+"/content/persons/metadata/update",a,b,c)},a.prototype.postCoverLetterUpdate=function(a,b,c){var d;return d={content:a},this.post(""+this.presentationUrl+"/content/persons/cover_letter/update",d,b,c)},a.prototype.postDeleteComment=function(a,b,c,d){return this.post(""+this.presentationUrl+"/content/comments/"+a+"/delete",b,c,d)},a.prototype.postDeleteHtml=function(a,b,c){return this.post(""+this.presentationUrl+"/delete",a,b,c)},a.prototype.postExport=function(a,b){var c=this;return this.post(""+this.presentationUrl+"/export",a,b,function(){return c.$rootScope.$broadcast("showErrorModal")})},a.prototype.postLayoutThemeAreaFormatUpdate=function(a,b){return this.post(""+this.presentationUrl+"/layout/theme/area_format/update",a,b)},a.prototype.postLayoutData=function(a,b){return this.post(""+this.presentationUrl+"/layout/data",a,b)},a.prototype.postLayoutThemeDefault=function(a,b){return this.post(""+this.presentationUrl+"/layout/theme/default",a,b)},a.prototype.postLayoutUpdateModifier=function(a,b){var c;return c={component:a.component,docType:this.$rootScope.docType,modifier:a.modifier,value:a.value},["header_value","header_value_2"].indexOf(a.modifier)>-1&&(c.input=!0),this.post(""+this.presentationUrl+"/layout/modifier",c,b)},a.prototype.postLayoutUpdatePlacement=function(a,b,c){var d;return d={component:a,placement:b},this.post(""+this.presentationUrl+"/layout/placement",d,c)},a.prototype.postPrint=function(){return this.post(""+this.presentationUrl+"/persons/print")},a.prototype.postResumeSelect=function(a,b){return this.post(""+this.presentationUrl+"/content/resumes/"+a+"/select",{},b)},a.prototype.postSaveHtml=function(a,b,c){var d;return d={html:a,id:b},this.post(""+this.presentationUrl+"/save",d,c)},a.prototype.postThemeCopy=function(a,b,c){return this.post(""+this.presentationUrl+"/layout/theme/"+a+"/copy",b,c)},a.prototype.postThemeCopyBase=function(a,b){return this.post(""+this.presentationUrl+"/layout/theme/copy_base",a,b)},a.prototype.postThemeCoverLetterReset=function(a){return this.post(""+this.presentationUrl+"/layout/theme/cover_letter/reset",{},a)},a.prototype.postThemeData=function(a,b,c){return null==a&&(a=null),a?this.post(""+this.presentationUrl+"/layout/theme/"+a+"/update",b,c):this.post(""+this.presentationUrl+"/layout/theme/update",b,c)},a.prototype.postThemeDelete=function(a,b){return this.post(""+this.presentationUrl+"/layout/theme/"+a+"/delete",{},b)},a.prototype.postThemeSelect=function(a,b){return this.post(""+this.presentationUrl+"/layout/theme/"+a+"/select",{},b)},a.prototype.postUnlockExtras=function(a){return this.post(""+this.presentationUrl+"/content/persons/extras/unlock",{},a)},a}())}.call(this),function(){var a,b,c=function(a,b){return function(){return a.apply(b,arguments)}};b=angular.module("presentation"),a=function(){function a(a,b){var d=this;this.$rootScope=a,this.HttpService=b,this.set=c(this.set,this),this.seenReview=c(this.seenReview,this),this.newReviewComments=c(this.newReviewComments,this),this.metadata={},this.$rootScope.$on("data.document.get",function(a,b){return d.metadata=b.data.person.metadata})}return a.$inject=["$rootScope","HttpService"],a.prototype.newReviewComments=function(){return this.metadata.new_review_comments},a.prototype.seenReview=function(){return this.metadata.seen_review},a.prototype.set=function(a){return this.HttpService.postContentPersonMetadataUpdate(a)},a}(),b.service("MetadataService",a)}.call(this),function(){var a,b,c=function(a,b){return function(){return a.apply(b,arguments)}};b=angular.module("presentation"),a=function(){function a(){this.requiresResize=c(this.requiresResize,this),this.aliases={awarder_font_style:"font_style",background_color:"color_none",bottom_padding:"padding",color:"color",columns:"number",contact_type_case:"case",contact_type_font_weight:"font_weight",degree_font:"font",entries_in_first_group:"slider",first_name_color:"color",first_name_font_weight:"font_weight",font:"font",font_size:"font_slider",group_name_case:"case",group_name_font_weight:"font_weight",header:"checkbox",header_columns:"number",header_wide_column:"wide_column",header_wide_column_width:"wide_column_width",icons:"icon_visibility",last_name_color:"color",last_name_font_weight:"font_weight",left_background_color:"color_none",left_padding:"padding",letter_spacing:"slider",link_color:"color",link_hover_color:"color",name_font_weight:"font_weight",name_size:"font_slider",note_font:"font",occupation_color:"color",occupation_size:"font_slider",page_footer:"checkbox",pages:"number",right_background_color:"color_none",right_padding:"padding",second_page_contact:"checkbox",second_page_nameplate:"checkbox",second_page_one_column:"checkbox",section_spacing:"font_size_manual",section_spacing_scheme:"font_sizing_scheme",show_links:"show_links",social:"checkbox",split:"checkbox",split_header:"checkbox",stack_columns:"checkbox",stack_rows:"checkbox",title_color:"color",title_font_style:"font_style",title_font_weight:"font_weight",top_background_color:"color_none",top_padding:"padding",underline_color:"color"},this.componentAliases={activities:{align:"align_justify",configuration:"details_configuration"},awards:{align:"align_justify",configuration:"details_configuration"},contact:{configuration:"details_configuration",orientation:"contact_orientation"},cover_letter:{align:"align_justify_only",font_size:"font_size_manual"},education:{align:"align_justify",configuration:"details_configuration"},employment:{align:"align_justify",configuration:"details_configuration",sort_by:"employment_sort_by"},"freeform-1":{align:"align_justify",configuration:"details_configuration"},"freeform-2":{align:"align_justify",configuration:"details_configuration"},"freeform-3":{align:"align_justify",configuration:"details_configuration"},projects:{align:"align_justify",configuration:"details_configuration"},skills:{configuration:"details_configuration",orientation:"skills_orientation",sort_by:"skills_sort_by"},summary:{align:"align_justify"},volunteering:{align:"align_justify",configuration:"details_configuration"}},this.inputCancel=["padding","slider"],this.manifest=["align","awarder_font_style","background_color","bottom_padding","case","color","columns","contact_type_case","contact_type_font_weight","configuration","date_connector","date_current_label","date_month_format","date_period_connector","date_year_format","degree_font","detail_column_width","first_name_color","first_name_font_weight","format","font","font_size","font_sizing_scheme","font_weight","group_name_case","group_name_font_weight","header","header_columns","header_orientation","header_wide_column","header_wide_column_width","icon","icons","icon_visibility","icon_placement","last_name_color","last_name_font_weight","left_background_color","left_padding","letter_spacing","link_color","show_links","link_hover_color","entries_in_first_group","name_font_weight","name_size","note_font","occupation_color","occupation_size","orientation","pages","page_footer","second_page_contact","second_page_nameplate","second_page_one_column","paper_size","right_background_color","right_padding","section_spacing","section_spacing_scheme","separator","size","social","sort_by","split","split_header","stack_columns","stack_rows","title_color","title_font_style","title_font_weight","top_background_color","top_padding","underline","underline_color","underline_thickness","vertical_align","wide_column","wide_column_width"],this.resizers=["bottom_padding","case","color","columns","configuration","date_connector","date_current_label","date_month_format","date_period_connector","date_year_format","detail_column_width","entries_in_first_group","first_name_font_weight","font","font_size","font_sizing_scheme","font_weight","format","header","header_columns","header_orientation","header_wide_column","header_wide_column_width","icon","icon_placement","icons","last_name_font_weight","left_padding","letter_spacing","name_size","occupation_size","orientation","pages","paper_size","right_padding","second_page_contact","second_page_nameplate","second_page_one_column","section_spacing","section_spacing_scheme","size","social","sort_by","split","split_header","stack_columns","stack_rows","top_padding","underline","underline_thickness","vertical_align","wide_column","wide_column_width"]}return a.prototype.requiresResize=function(a){return-1!==this.resizers.indexOf(a)||null!==a.match("flex_height")},a}(),b.service("modifierService",a)}.call(this),function(){var a,b;b=angular.module("presentation"),a=function(){function a(a,b){var c=this;this.$rootScope=a,this.ComponentService=b,this.customizerVisible=!1,this.pages=1,this.dim={pageGap:50,pageHeight:function(){return"a4"===(c.ComponentService.components.base.modifiers||{}).paper_size?1168:1100}},this.documentHeight=this.dim.pageHeight(),this.dim.docHeight=function(){return c.pages*c.dim.pageHeight()+(c.pages-1)*c.dim.pageGap},this.$rootScope.$on("pages.update",function(a,b){return c.pages=parseInt(b)}),this.$rootScope.$on("customizer.hide",function(){return c.customizerVisible=!1,c.documentHeight=c.dim.pageHeight()}),this.$rootScope.$on("customizer.show",function(){return c.customizerVisible=!c.customizerVisible,c.documentHeight=c.customizerVisible?c.dim.pageHeight()/2:c.dim.pageHeight()}),this.$rootScope.$on("customizer.toggle",function(){return c.customizerVisible=!0,c.documentHeight=c.dim.pageHeight()/2})}return a.$inject=["$rootScope","ComponentService"],a.prototype.traverse=function(a,b){var c,d,e,f,g;for(b(a),f=a.children,g=[],d=0,e=f.length;e>d;d++)c=f[d],g.push(this.traverse(c,b));return g},a}(),b.service("PageService",a)}.call(this),function(){var a,b,c=function(a,b){return function(){return a.apply(b,arguments)}};b=angular.module("presentation"),a=function(){function a(a,b){this.$rootScope=a,this.ComponentService=b,this.setModifiers=c(this.setModifiers,this),this.getModifiers=c(this.getModifiers,this),this.filters={employment:{date:["date_connector","date_current_label","date_month_format","date_period_connector","date_year_format"]}},this.modifiers={},this.$rootScope.$on("modifiers",this.setModifiers)}return a.$inject=["$rootScope","ComponentService"],a.prototype.getModifiers=function(a){var b,c,d,e,f,g,h,i,j,k=this;if(g=a.split("."),b=g[0],f=this.ComponentService.modifiers[b],!f)return f;for(h=0,i=f.length;i>h;h++)e=f[h],e.value=this.ComponentService.components[e.component].modifiers[e.type];if(!this.filters[b])return f;if(1===g.length){j=this.filters[b];for(d in j)c=j[d],f=f.filter(function(a){return-1===c.indexOf(a.type)})}else f=this.filters[b][g[1]]?f.filter(function(a){return-1!==k.filters[b][g[1]].indexOf(a.type)}):[];return f},a.prototype.setModifiers=function(a,b){var c,d,e,f;if(this.modifiers[b.component]=this.getModifiers(b.component),this.filters[b.component]){e=this.filters[b.component],f=[];for(d in e)c=e[d],f.push(this.modifiers[""+b.component+"."+d]=this.getModifiers(""+b.component+"."+d));return f}},a}(),b.service("panelService",a)}.call(this),function(){var a,b;b=angular.module("presentation"),a=function(){function a(){this.pathname=window.location.pathname,this.search=window.location.search,this.batch=null!==(this.search.match(/batch=(\w+)/)||[0,null])[1],this.bId=(this.search.match(/bId=([\w-_]+)/)||[0,null])[1],this["break"]="0"!==(this.search.match(/break=(\w+)/)||[0,null])[1],this.code=(this.search.match(/code=(\w+)/)||[0,null])[1],this.docType=(this.search.match(/docType=(\w+)/)||[0,null])[1],this.error=(this.search.match(/error=(\w+)/)||[0,null])[1],this["export"]="true"===(this.search.match(/export=(\w+)/)||[0,null])[1],this.express=(this.search.match(/express=(\w+)/)||[0,null])[1],this.fixed="1"===(this.search.match(/fixed=(\w+)/)||[0,null])[1],this.review=(this.pathname.match(/review\/(\w+)/)||[0,null])[1],this["new"]="1"===(this.search.match(/new=(\w+)/)||[0,null])[1],this.theme=(this.search.match(/theme=(\w+)/)||[0,null])[1]}return a}(),b.service("ParamService",a)}.call(this),function(){var a,b,c=function(a,b){return function(){return a.apply(b,arguments)}};b=angular.module("presentation"),a=function(){function a(a,b){var d=this;this.$rootScope=a,this.HttpService=b,this.validate=c(this.validate,this),this.setRepeaters=c(this.setRepeaters,this),this.setThemeId=c(this.setThemeId,this),this.setPlacements=c(this.setPlacements,this),this.removeRow=c(this.removeRow,this),this.removeColumn=c(this.removeColumn,this),this.moveElement=c(this.moveElement,this),this.addRow=c(this.addRow,this),this.addColumn=c(this.addColumn,this),this.COLS_MIN=1,this.COLS_MAX=2,this.ROWS_MIN=1,this.ROWS_MAX=4,this.placements={},this.repeaters={},this.themeId=null,this.rows={},this.cols={},this.$rootScope.$on("data.layout.get",function(a,b){return b.data.person.theme.placements?d.setPlacements(b.data.person.theme.placements):void 0})}return a.$inject=["$rootScope","HttpService"],a.prototype.addColumn=function(a){return this.cols[a]<=this.COLS_MAX?this.cols[a]++:void 0},a.prototype.addRow=function(a){return this.cols[a]<=this.ROWS_MAX?this.rows[a]++:void 0},a.prototype.isPlacement=function(a){return null!==a.match("placement")},a.prototype.moveElement=function(a,b,c,d,e,f,g,h){return void 0===e?(e=0,this.repeaters[a][c]&&this.repeaters[a][c][d]&&(e=this.repeaters[a][c][d].length)):(this.shiftLeft(this.placements[a],g,h,f),this.shiftRight(this.placements[a],c,d,e)),this.placements[a][b]={row:c,column:d,position:e},this.setRepeaters(a,!0)},a.prototype.removeColumn=function(a){var b,c,d,e,f;if(!(this.cols[a]<=this.COLS_MIN)){f=this.placements[a];for(d in f){for(c=f[d],c.column=Math.min(c.column,this.cols[a]-2),e=c.row,b=c.column;this.repeaters[a][e][b][c.position]&&this.repeaters[a][e][b][c.position]!==d;)c.position++;this.repeaters[a][e][b][c.position]=d}return this.cols[a]--,this.setRepeaters(a,!0)}},a.prototype.removeRow=function(a){var b,c,d,e,f;if(!(this.rows[a]<=this.ROWS_MIN)){f=this.placements[a];for(d in f){for(c=f[d],c.row=Math.min(c.row,this.rows[a]-2),e=c.row,b=c.column;this.repeaters[a][e][b][c.position]&&this.repeaters[a][e][b][c.position]!==d;)c.position++;this.repeaters[a][e][b][c.position]=d}return this.rows[a]--,this.setRepeaters(a,!0)}},a.prototype.setPlacements=function(a){var b,c,d,e,f,g,h,i;for(i=[],d=0,f=a.length;f>d;d++){for(c=a[d],this.placements[c.name]={},h=c.elements,e=0,g=h.length;g>e;e++)b=h[e],this.placements[c.name][b.name]={row:b.row,column:b.column,position:b.position};i.push(this.setRepeaters(c.name))}return i},a.prototype.setThemeId=function(a){return this.themeId=a},a.prototype.setRepeaters=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n;for(null==b&&(b=!1),f=0,e=0,this.repeaters[a]=[],i=j=0,l=this.rows[a];l>=0?l>j:j>l;i=l>=0?++j:--j)for(this.repeaters[a].push([]),c=k=0,m=this.cols[a];m>=0?m>k:k>m;c=m>=0?++k:--k)this.repeaters[a][i].push([]);n=this.placements[a];for(g in n){for(d=n[g],i=d.row,c=d.column,h=d.position;this.repeaters[a].length<=i;)this.repeaters[a].push([]);for(;this.repeaters[a][i].length<=c;)this.repeaters[a][i].push([]);for(;this.repeaters[a][i][c].length<=h;)this.repeaters[a][i][c].push(null);this.repeaters[a][i][c][h]=g,f=Math.max(f,i+1),e=Math.max(e,c+1)}return this.rows[a]=Math.max(this.rows[a]||1,f),this.cols[a]=Math.max(this.cols[a]||1,e),this.validate(a),this.$rootScope.$broadcast("placement.change"),b?this.HttpService.postLayoutUpdatePlacement(a,this.placements[a]):void 0},a.prototype.shiftLeft=function(a,b,c,d){var e,f,g;g=[];for(e in a)f=a[e],g.push(f.row===b&&f.column===c?f.position>d?f.position--:void 0:void 0);return g},a.prototype.shiftRight=function(a,b,c,d){var e,f,g;g=[];for(e in a)f=a[e],g.push(f.row===b&&f.column===c?f.position>=d?f.position++:void 0:void 0);return g},a.prototype.validate=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n;for(f=g=0,k=this.repeaters[a].length;k>=0?k>g:g>k;f=k>=0?++g:--g)for(b=h=0,l=this.repeaters[a][f].length;l>=0?l>h:h>l;b=l>=0?++h:--h)for(e=i=0,m=this.repeaters[a][f][b].length;m>=0?m>i:i>m;e=m>=0?++i:--i)if(null===this.repeaters[a][f][b][e]){for(c=j=e,n=this.repeaters[a][f][b].length;n>=e?n>j:j>n;c=n>=e?++j:--j)d=this.repeaters[a][f][b][c],this.placements[a][d]&&this.placements[a][d].position--;return void this.repeaters[a][f][b].splice(e,1)}},a}(),b.service("PlacementService",a)}.call(this),function(){var a,b,c=function(a,b){return function(){return a.apply(b,arguments)}};b=angular.module("presentation"),a=function(){function a(a){this.$rootScope=a,this.selectedUuid=c(this.selectedUuid,this),this.selectedRuuid=c(this.selectedRuuid,this),this.selectedRevisionUuid=c(this.selectedRevisionUuid,this),this.selectedId=c(this.selectedId,this),this.selectedResume=null,this.resumes=[]}return a.$inject=["$rootScope"],a.prototype.selectedId=function(){return this.selectedResume?this.selectedResume.id:""},a.prototype.selectedRevisionUuid=function(){return this.selectedResume?this.selectedResume.revisionUuid:""},a.prototype.selectedRuuid=function(){return this.selectedResume?this.selectedResume.ruuid:""},a.prototype.selectedUuid=function(){return this.selectedResume?this.selectedResume.uuid:""},a}(),b.service("ResumeService",a)}.call(this),function(){var a,b;b=angular.module("presentation"),a=function(){function a(){}return a.prototype.equilbriumTimer=function(a,b,c,d){var e,f,g,h,i,j;return e=0,f=0,h=0,j=!0,i=function(){return h=setTimeout(function(){return j=!1,clearInterval(f),clearTimeout(e)},d)},g=null,g=function(){return a()?void 0:(clearInterval(f),clearTimeout(e),e=setTimeout(function(){return b(),j?f=setInterval(g,500):void 0},c),clearTimeout(h),i())},f=setInterval(g,500),i()},a}(),b.service("TimerService",a)}.call(this),function(){var a,b,c=function(a,b){return function(){return a.apply(b,arguments)}};b=angular.module("presentation"),b.service("TreeService",a=function(){function a(a,b,d,e,f,g,h,i,j,k,l,m,n){var o=this;this.$rootScope=a,this.$filter=b,this.$timeout=d,this.ColorService=e,this.ComponentService=f,this.DocxService=g,this.ExtensionService=h,this.ExportService=i,this.MetadataService=j,this.PageService=k,this.ParamService=l,this.AreaService=m,this.TimerService=n,this.validateTreeFlexWidth=c(this.validateTreeFlexWidth,this),this.validateTree=c(this.validateTree,this),this.validateMaxHeight=c(this.validateMaxHeight,this),this.validateBottom=c(this.validateBottom,this),this.validateFlexWidth=c(this.validateFlexWidth,this),this.validateHeight=c(this.validateHeight,this),this.validateConstantHeight=c(this.validateConstantHeight,this),this.updateMinHeights=c(this.updateMinHeights,this),this.setNodeHeights=c(this.setNodeHeights,this),this.root=c(this.root,this),this.fontResize=c(this.fontResize,this),this.prepareForExport=c(this.prepareForExport,this),this.resizeFontSizeToFit=c(this.resizeFontSizeToFit,this),this.resetUuids=c(this.resetUuids,this),this.resetMaps=c(this.resetMaps,this),this.resetMargins=c(this.resetMargins,this),this.resetFlexWidth=c(this.resetFlexWidth,this),this.resetFlexHeight=c(this.resetFlexHeight,this),this.reset=c(this.reset,this),this.prebuild=c(this.prebuild,this),this.flexWidth=c(this.flexWidth,this),this.flexHeight=c(this.flexHeight,this),this.flex=c(this.flex,this),this.exportCommands=c(this.exportCommands,this),this.collect=c(this.collect,this),this.calculateMinHeights=c(this.calculateMinHeights,this),this.calculateLines=c(this.calculateLines,this),this.calculateFlexWidthNormals=c(this.calculateFlexWidthNormals,this),this.calculateFontSizes=c(this.calculateFontSizes,this),this.assignUuids=c(this.assignUuids,this),this.applyHorizontalConfigurationMargins=c(this.applyHorizontalConfigurationMargins,this),this.alignVertical=c(this.alignVertical,this),this.adjustFlexWidth=c(this.adjustFlexWidth,this),this.adjustFlexHeight=c(this.adjustFlexHeight,this),this.build=c(this.build,this),this.balancePage=c(this.balancePage,this),this.adjustSkillNoWrap=c(this.adjustSkillNoWrap,this),this.resetSectionSpacing=c(this.resetSectionSpacing,this),this.addSectionSpacing=c(this.addSectionSpacing,this),this.roundFontSize=c(this.roundFontSize,this),this.addPage=c(this.addPage,this),this.idCounter=0,this.constantHeightMap={},this.flexHeightNormals={},this.flexWidthNormals={},this.minHeightMap={},this.bindingComplete=!1,this.resizeTimeout=null,this.$rootScope.$on("font.resize",function(){return o.fontResize()
}),this.$rootScope.$on("font.resize.equilibrium",function(){return o.fontResize(null,null,!0)}),this.firstResumeLoaded=!1,this.$rootScope.$on("resume.change",function(){return o.$rootScope.firstLoad?(o.firstResumeLoaded&&o.fontResize(null,null,!0),o.firstResumeLoaded=!0):void 0})}var b;return a.$inject=["$rootScope","$filter","$timeout","ColorService","ComponentService","DocxService","ExtensionService","ExportService","MetadataService","PageService","ParamService","AreaService","TimerService"],a.prototype.addPage=function(){var a,b;return this.ComponentService.setModifier("base","pages","2"),this.$rootScope.$broadcast("pages.update",2),this.$rootScope.$apply(),a=this.AreaService.areaFormat,"1"===this.ComponentService.components.base.modifiers.columns&&(b=a.p1.s3.indexOf("employment"),a.p2.s3=a.p1.s3.splice(b+1).concat(a.p1.s4),a.p1.s4=[],this.AreaService.setAreaFormat(a)),this.build()},a.prototype.roundFontSize=function(a){return parseFloat(Math.round(10*a)/10).toFixed(2)},a.prototype.addSectionSpacing=function(){var a,b,c,d,e,f,g,h,i,j,k,l;return(a="fixed"!==this.ComponentService.components.base.modifiers.section_spacing_scheme)?(d=$(".document-container").offset().top,g=null,h=0,$(".content-group").each(function(a,b){return $(b).offset().top>h?(h=$(b).offset().top,g=$(b)):void 0}),g?(j=1,"none"!==$("#document-ctrl").css("transform")&&(j=.5),g.length>0&&(i=(g.offset().top-d)/j+g.height(),e=this.documentHeight,e-=this.ComponentService.components.base.modifiers.bottom_padding,b=e-i-10,b>0&&(c=$("[cr]").not(".hidden-components [cr]").not('[cr="nameplate"]').not('[cr-area="1"] [cr], [cr-area="2"] [cr]'),k=Math.min(b/c.length,5),c.css("margin-top",""+.25*k+"px"),c.css("margin-bottom",""+.75*k+"px")),i=(g.offset().top-d)/j+g.height(),b=e-i-10,b>0&&(f=$(".content-group").not(".hidden-components .content-group"),k=Math.max(5,Math.min(b/f.length,10)),f.css("margin-top",""+.125*k+"px"),f.css("margin-bottom",""+.875*k+"px"),f.last().css("margin-bottom","0"),f.each(function(a,b){return 0===$(b).text().length?(b.last().css("margin-bottom","0"),b.last().css("margin-top","0")):void 0})),i=(g.offset().top-d)/j+g.height(),b=e-i-10,b>0)?(c=$("[cr]").not(".hidden-components [cr]").not('[cr="nameplate"]').not('[cr-area="1"] [cr], [cr-area="2"] [cr]'),k=Math.min(b/c.length,10),c.css("margin-top",""+.25*k+"px"),c.css("margin-bottom",""+.75*k+"px")):void 0):void 0):(k=parseInt(this.ComponentService.components.base.modifiers.section_spacing),l=5*(k-1)/2,c=$("[cr]").not(".hidden-components [cr]").not('[cr="nameplate"]').not('[cr-area="1"] [cr], [cr-area="2"] [cr]'),c.css("margin-top",""+l+"px"),c.css("margin-bottom",""+l+"px"))},a.prototype.resetSectionSpacing=function(){var a,b;return a=$("[cr]").not(".hidden-components [cr]"),a.css("margin-bottom","0px"),a.css("margin-top","0px"),b=$(".content-group").not(".hidden-components .content-group"),b.css("margin-bottom","8.75px"),b.css("margin-top","1.25px")},a.prototype.adjustSkillNoWrap=function(){return $("[cr-skills] .no-wrap").each(function(a,b){return $(b).width()>$(b).closest(".skills-padding").width()?$(b).removeClass("no-wrap"):void 0})},a.prototype.balancePage=function(a,b,c,d){var e,f,g,h,i,j,k,l,m=this;if(null==a&&(a=!0),null==b&&(b=!1),null==c&&(c="s3"),null==d&&(d=".section-3"),"1"===this.ComponentService.components.base.modifiers.columns){if(j=$(".page-1 .section-3").height(),k=$(".page-2 "+d).height(),f=$("#document-ctrl [cr-employment] .content-group"),l=f.length-1,g=function(a,b){return a>b},b&&(j=$(".page-1 .page-content").height(),g=function(a){return a>1030}),j>2200)return!1;for(;l>0&&g(j,k);)e=$(f[l]),i=e.height(),k+=i,j-=i,l--;b?l<f.length-1&&l++:(l<f.length-1&&l++,l<f.length-1&&l++),this.ComponentService.setModifier("employment","split","yes"),this.ComponentService.setModifier("employment","entries_in_first_group",""+l),h=this.AreaService.areaFormat,-1===h.p2[c].indexOf("employment_2")&&(h.p2[c]=["employment_2"].concat(h.p2[c]),this.AreaService.setAreaFormat(h))}return a?this.build(function(){return m.pdf=!0,m.balanced=!0}):void 0},a.prototype.build=function(a,b){var c=this;return null==b&&(b=!1),b?(this.$rootScope.$broadcast("buildComplete"),this.$rootScope.$broadcast("cog.hide"),a(),this.$rootScope.$broadcast("html.export.express."+this.$rootScope.expressDocType)):(this.callback2=function(){return c.calculateLines(),c.$rootScope.$evalAsync(function(){return $(".left-panel-wrapper > .left-panel.fill").height(c.PageService.dim.pageHeight()),$(".right-panel-wrapper > .right-panel.fill").height(c.PageService.dim.pageHeight()),$('[ng-class="cl.leftPanelWrapper()"] > .left-panel.fill').height(c.PageService.dim.pageHeight()),$('[ng-class="cl.RightPanelWrapper()"] > .right-panel.fill').height(c.PageService.dim.pageHeight())}),c.$rootScope.$broadcast("buildComplete"),c.$rootScope.$broadcast("cog.hide"),c.ParamService.express&&(c.pdf||b)&&c.$rootScope.$broadcast("html.export.express."+c.$rootScope.expressDocType),c.$rootScope.$broadcast("customizer.build")},this.fontResize(a,this.callback2))},a.prototype.adjustFlexHeight=function(a,b){var c,d,e,f,g,h;for(null==b&&(b=!1),this.minFontSize=100,h=$("[flex-height]"),f=0,g=h.length;g>f;f++)c=h[f],d=this.flexHeightNormals[$(c).attr("id")],d&&(e=this.roundFontSize(d*a),$(c).css("font-size",""+e+"px"),b&&$(c).attr("flex-height-font-size",""+e+"px"),this.minFontSize=Math.min(this.minFontSize,e));return this.validateTree()},a.prototype.adjustFlexWidth=function(a,b){var c,d,e,f,g,h;for(h=$("[flex-width="+b+"]"),f=0,g=h.length;g>f;f++)c=h[f],d=this.flexWidthNormals[$(c).attr("id")],e=d*a,e=(Math.round(10*e)/10).toFixed(2),d&&$(c).css("font-size",""+e+"px");return this.validateTreeFlexWidth(b)},a.prototype.alignVertical=function(){var a,b,c,d,e,f,g;for(g=$("[align-bottom], .align-bottom, [align-middle], .align-middle"),e=0,f=g.length;f>e;e++){for(a=g[e],c=$(a).hasClass("align-middle")||void 0!==$(a).attr("align-middle");!$(a).is("[cr]");)a=$(a).parent();if($(a).css("height",""),d=$(a).parent(),d.children().length>1)return;for(;0===d.height()&&d.parent();)d=d.parent();b=$(d).height()-$(a).height(),c&&(b/=2),$(a).css("margin-top",""+b+"px")}},a.prototype.applyHorizontalConfigurationMargins=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n;for(m=$(".content-group"),n=[],k=0,l=m.length;l>k;k++)a=m[k],b=$(".block.col-md-3",a),e=$(".block.col-md-9",a),c=$(".ng-binding, .date",b).first(),f=$(".ng-binding, .date",e).first(),c.css("line-height","1.1"),f.css("line-height","1.1"),h=parseInt(c.css("line-height")),j=parseInt(f.css("line-height")),d=c.parents(".inline-block"),c.hasClass("date")&&d.length>0&&(c=d),g=f.parents(".inline-block"),f.hasClass("date")&&g.length>0&&(f=g),i=(h-j)/2,f.parents("td")?i>0?(1>i&&(i=1),n.push(f.parents("td").css("padding-top",i))):n.push(void 0):n.push(i>0?f.css("margin-top",i):0>i?c.css("margin-top",-i):void 0);return n},a.prototype.assignUuids=function(){var a,b,c,d,e,f;for(e=$(".document-container, .document-container *"),f=[],c=0,d=e.length;d>c;c++)a=e[c],b=["BR","UL","LI","WBR","B","I","U","STRONG","EM"],f.push($(a).attr("id")||-1!==b.indexOf($(a).prop("tagName"))?void 0:$(a).parents(".hidden-components").length>0&&"cover_letter"===this.$rootScope.docType?void 0:$(a).hasClass("split-element-wrapper")||$(a).parents(".split-element-wrapper").length>0?void 0:$(a).hasClass("hidden-components")?void 0:$(a).attr("id","e-"+this.idCounter++));return f},a.prototype.calculateFontSizes=function(){var a,b,c,d,e,f,g,h,i,j,k,l;for(b=[],j=$("[flex-height]"),d=0,g=j.length;g>d;d++)a=j[d],b.push(a);for(k=$("[expand] > span"),e=0,h=k.length;h>e;e++)a=k[e],b.push(a);for(l=[],f=0,i=b.length;i>f;f++)a=b[f],c=this.flexHeightNormals[$(a).attr("id")],c?l.push(void 0):(c=$(a).attr("base-font-size"),c||(c=parseFloat($(a).css("font-size")),$(a).attr("base-font-size",c)),l.push(this.flexHeightNormals[$(a).attr("id")]=parseFloat(c)));return l},a.prototype.calculateFlexWidthNormals=function(){var a,b,c,d,e,f,g,h,i;for(b=[],h=$("[flex-width]"),d=0,f=h.length;f>d;d++)a=h[d],b.push(a);for(i=[],e=0,g=b.length;g>e;e++)a=b[e],c=this.flexWidthNormals[$(a).attr("id")],c?i.push(void 0):(c=parseInt($(a).css("font-size")),i.push(this.flexWidthNormals[$(a).attr("id")]=c));return i},a.prototype.calculateLines=function(){var a,b,c,d,e,f,g,h,i,j,k;for(b=[],j=$(".contact-icon-link, [flex-height]:not(:has(*)), [flex-height] span, [flex-height] li"),f=0,h=j.length;h>f;f++)a=j[f],b.push($(a));for(k=[],g=0,i=b.length;i>g;g++)a=b[g],c=parseInt(a.height()),d=parseInt(a.css("line-height")),a.hasClass("sk-v")&&(d+=6),e=Math.round(c/d),k.push(a.attr("lines",e>0?e:1));return k},a.prototype.calculateMinHeights=function(a){var b;return b=this.minHeightMap[a.element.attr("id")],b?a.minHeight=b:(this.minHeightMap[a.element.attr("id")]=a.outerHeight(),a.minHeight=a.outerHeight())},a.prototype.collect=function(a){var c,d,e,f,g,h,i,j,k,l,m,n,o,p;if(void 0===a.element.attr("markdown-viewer")){for(f=this.toElementArray($("> [fixed]",a.element)),e=this.toElementArray($("> *",a.element)),d=this.toElementArray($("> [fill], > .fill",a.element)),g=0,k=f.length;k>g;g++)c=f[g],a.children.push(new b("fixed",c,a));for(h=0,l=e.length;l>h;h++)c=e[h],void 0!==$(c).attr("fill")||void 0!==$(c).attr("fixed")||$(c).hasClass("fill")||$(c).hasClass("hidden-components")||a.children.push(new b("fit",c,a));for(i=0,m=d.length;m>i;i++)c=d[i],a.children.push(new b("fill",c,a));for(o=a.children,p=[],j=0,n=o.length;n>j;j++)c=o[j],p.push(this.collect(c));return p}},a.prototype.exportCommands=function(){var a;return a=$(".document-container")[0],this.DocxService.traverseJq(a,this.DocxService.traverse),this.DocxService.applyBackgrounds(),this.DocxService.applyMargins(),this.DocxService.commands},a.prototype.flex=function(){return this.resetSectionSpacing(),this.flexHeight(),this.minHeightMap={},this.flexWidth(),this.traverse(this.tree,this.calculateMinHeights),this.traverse(this.tree,this.setNodeHeights),this.flexWidth(),this.alignVertical(),this.adjustSkillNoWrap(),this.addSectionSpacing()},a.prototype.flexHeight=function(){var a=this;return this.$rootScope.$evalAsync(function(){var b,c,d,e,f,g;if(g=!0,c=1,b=3,a.reset(a.tree),a.traverse(a.tree,a.updateMinHeights),f=!0,a.percentage){for(e=a.percentage,c=Math.min(a.percentage-.25,1),b=Math.max(a.percentage+.25,3),d=c;b-c>.001;)g=a.adjustFlexHeight(e),d=c,g&&(c=e),g||(b=e),e=(c+b)/2;e<a.percentage+.25&&e>a.percentage-.25&&(f=!1,a.percentage=d)}if(f){for(c=1,b=3,e=(c+b)/2;b-c>.001;)g=a.adjustFlexHeight(e),g&&(c=e),g||(b=e),e=(c+b)/2;a.percentage=c}return a.adjustFlexHeight(a.percentage)})},a.prototype.flexWidth=function(){var a,b,c,d,e,f,g,h,i;for(this.resetFlexWidth(),a=["contact","employment-0","employment-1","employment-2","employment-3"],i=[],g=0,h=a.length;h>g;g++)if(b=a[g],f=!0,d=.7,c=1,e=(d+c)/2,this.adjustFlexWidth(c,b))i.push(void 0);else{for(;c-d>.01;)f=this.adjustFlexWidth(e,b),f&&(d=e),f||(c=e),e=(d+c)/2;i.push(f=this.adjustFlexWidth(d,b))}return i},a.prototype.prebuild=function(a,b){var c,d,e,f=this;return e=function(){var a,c,d,e;c="cover_letter"===f.$rootScope.docType?{contact:$("[cr-contact]"),letter:$("[cr-cover-letter]"),nameplate:$("[cr-nameplate]")}:{activities:$("[cr-activities]"),awards:$("[cr-awards]"),contact:$("[cr-contact]"),education:$("[cr-education]"),employment:$("[cr-employment]"),freeform1:$("[cr-freeform1]"),freeform2:$("[cr-freeform2]"),freeform3:$("[cr-freeform3]"),nameplate:$("[cr-nameplate]").first(),projects:$("[cr-projects]"),skills:$("[cr-skills]"),summary:$("[cr-summary]"),volunteering:$("[cr-volunteering]")},e={section_1:$(".section-1"),section_2:$(".section-2"),section_3:$(".section-3"),section_4:$(".section-4"),section_5:$(".section-5")};for(d in c)a=c[d],f.$rootScope.$broadcast("component.activate",{active:!0,component:d});return f.prebuilt=!0,b?b():void 0},c=function(){return $("[cr-nameplate]").length>0&&f.$rootScope.readyForPrebuild?(clearInterval(d),e()):void 0},d=setInterval(c,100)},a.prototype.reset=function(a){var b,c,d;d=this.flexHeightNormals;for(b in d)c=d[b],$("#"+b).css("font-size",""+c+"px");return this.traverse(a,function(a){return"fixed"===a.type||a.element.hasClass("document-container")||a.element.hasClass("page")?void 0:a.element.css("height","")})},a.prototype.resetFlexHeight=function(){var a,b,c,d,e;for(d=$("[flex-height]"),e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push($(a).css("font-size",""));return e},a.prototype.resetFlexWidth=function(){var a,b,c,d,e;for(e=$("[flex-width]"),c=0,d=e.length;d>c;c++)a=e[c],b=$(a).attr("flex-height-font-size")||"",$(a).css("font-size",b);return this.flexWidthNormals={},this.calculateFlexWidthNormals()},a.prototype.resetMargins=function(){var a,b,c,d,e;for(d=$("[cr]"),e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push($(a).css("margin-top",""));return e},a.prototype.resetMaps=function(){return this.constantHeightMap={},this.flexHeightNormals={},this.flexWidthNormals={},this.minHeightMap={}},a.prototype.resetUuids=function(){var a,b,c;for(a=b=0,c=this.idCounter;c>=0?c>=b:b>=c;a=c>=0?++b:--b)$("#e-"+a).attr("id","");return this.idCounter=0},a.prototype.resizeFontSizeToFit=function(){var a,b,c,d,e=this;for(this.$rootScope.$broadcast("cog.show"),d=$("[flex-height]"),b=0,c=d.length;c>b;b++)a=d[b],$(a).attr("base-font-size","");return this.prebuild(this.sections),this.fontResize(function(){},function(){return e.$rootScope.$broadcast("cog.hide")})},a.prototype.prepareForExport=function(a,c){return this.resetFlexHeight(),this.resetMargins(),this.tree=new b("fill",$(".document-container")[0]),this.documentHeight=$(".page-1").height(),a&&a(),this.assignUuids(),this.resetMaps(),this.collect(this.tree),this.traverse(this.tree,function(a){return a.sortChildren()}),this.pages=this.tree.children,c?c():void 0},a.prototype.fontResize=function(a,c,d){var e,f=this;return null==d&&(d=!1),this.bindingComplete?(e=function(d){return f.resetFlexHeight(),f.resetMargins(),f.tree=new b("fill",$(".document-container")[0]),f.documentHeight=$(".page-1").height(),a&&a(),f.assignUuids(),f.resetMaps(),f.calculateFontSizes(),f.collect(f.tree),f.traverse(f.tree,function(a){return a.sortChildren()}),f.pages=f.tree.children,"fixed"!==(f.ComponentService.fontSizingModifiers[0]||{}).value&&(f.traverse(f.tree,f.calculateMinHeights),f.traverse(f.tree,f.setNodeHeights),f.flex()),f.applyHorizontalConfigurationMargins(),f.$rootScope.$broadcast("customizer.build"),!(f.minFontSize<11&&f.minFontSize>0)&&f.minFontSize<100&&(f.pdf=!0),f.callback2&&(c=f.callback2),c&&c(),f.$rootScope.firstLoad=!0,f.callback2=null,f.nodeCount=$(".document-container *").length,d?f.TimerService.equilbriumTimer(function(){return $(".document-container *").length===f.nodeCount},function(){return e(a,c),f.equilibrium=!1},500,5e3):void 0},this.equilibrium||(this.equilibrium=d),clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){return e(d)},100)):void 0},a.prototype.root=function(){return this.tree},a.prototype.setNodeHeights=function(a){var b,c,d;return"fixed"!==a.type?(a.element.hasClass("left-panel")&&a.element.hasClass("fill")&&a.element.parent().hasClass("left-panel-wrapper")&&a.element.height(this.PageService.dim.pageHeight()),a.parent&&"fill"===a.type&&a.height()!==a.parent.fillChildHeight()&&(c=a.parent.fillChildHeight(),a.element.hasClass("left-panel-wrapper")&&(c=this.PageService.dim.pageHeight()),a.element.height(c),b=a.element.height(),d=a.element.outerHeight()),!0):void 0},a.prototype.toElementArray=function(a){return 0===a.length&&(a=[]),1===a.length&&(a=[a[0]]),a},a.prototype.traverse=function(a,b){var c,d,e,f,g;for(b(a),f=a.children,g=[],d=0,e=f.length;e>d;d++)c=f[d],g.push(this.traverse(c,b));return g},a.prototype.traverseJq=function(a,b){var c,d,e,f,g;for(a=$(a),b(a),f=a.children(),g=[],d=0,e=f.length;e>d;d++)c=f[d],g.push(this.traverseJq($(c),b));return g},a.prototype.updateMinHeights=function(a){return a.outerHeight()<a.minHeight?(a.minHeight=a.outerHeight(),this.minHeightMap[a.element.attr("id")]=a.outerHeight()):void 0},a.prototype.validate=function(a,b){var c,d,e,f;if(b(a)===!1)return!1;for(f=a.children,d=0,e=f.length;e>d;d++)if(c=f[d],this.validate(c,b)===!1)return!1;return!0},a.prototype.validate_=function(a){var b,c,d,e;for(b=d=0,e=this.idCounter;e>=0?e>=d:d>=e;b=e>=0?++d:--d)if(c=a($("#e-"+b)),!c)return!1;return!0},a.prototype.validateConstantHeight=function(a){return a.height()===this.constantHeightMap[a.id()]?!0:(this.constantHeightMap[a.id()]=a.height(),!1)},a.prototype.validateHeight=function(){return!0},a.prototype.validateFlexWidth=function(a,b){var c,d,e;return a.element.attr("flex-width")!==b?!0:(e=a.element.width()<=a.parentElement().width()+2,d=a.element.closest("[flex-width-parent='"+b+"']")||a.element,c=d.height()<1.9*parseInt(a.element.css("font-size")),e&&c)},a.prototype.validateBottom=function(a){var b,c,d,e,f;return 0===a.length?!0:a.hasClass("document-container")?!0:a.children().length>0?!0:a.hasClass("left-panel")?!0:a.hasClass("left-panel-wrapper")?!0:a.hasClass("right-panel")?!0:a.hasClass("right-panel-wrapper")?!0:(e=$(".page-1").has(a).length>0,f=$(".page-2").has(a).length>0,c=$(f?".page-2":".page-1"),d=0,a.hasClass("flex-ignore")&&(d=-15),b=a.offset().top+a.height()/this.scale<=c.offset().top+(c.height()-d)/this.scale)},a.prototype.validateMaxHeight=function(a){var b,c,d,e,f,g,h;if(f=a.element.height()<=this.documentHeight,b=a.element.height(),b>1e3&&(e=$("#"+a.element.attr("id")+" > div"),e.length>0)){for(d=0,g=0,h=e.length;h>g;g++)c=e[g],d+=$(c).height();if(d>this.documentHeight)return!1}return f},a.prototype.validateTree=function(){var a,b,c,d,e,f,g;if(this.scale=1,"none"!==$("#document-ctrl").css("transform")&&(c=$("#document-ctrl").css("transform"),a=parseFloat(c.split(",")[0].split("(")[1]),this.scale=1/a),d=this.validate(this.tree,this.validateHeight),!d)return!1;for(g=this.pages,e=0,f=g.length;f>e;e++)if(b=g[e],d=d&&this.validate_(this.validateBottom),!d)return!1;return d},a.prototype.validateTreeFlexWidth=function(a){var b=this;return this.validate(this.tree,function(c){return b.validateFlexWidth(c,a)})},b=function(){function a(a,b,c,d){var e;null==c&&(c=null),null==d&&(d=[]),this.type=a,this.element=$(b),this.parent=c,this.children=d,this.element.hasClass("row")&&(this.orientation="horizontal"),((null!=(e=this.element.attr("class"))?e.match(/col-[a-z]{2}-\d{1,2}/):void 0)||null!=this.element.attr("cr-col"))&&(this.orientation="vertical"),this.element.hasClass("document-container")&&(this.orientation="vertical")}return a.prototype.sortChildren=function(){var a,b,c,d,e;for(this.fixedChildren=[],this.fitChildren=[],this.fillChildren=[],d=this.children,e=[],b=0,c=d.length;c>b;b++)switch(a=d[b],a.type){case"fixed":e.push(this.fixedChildren.push(a));break;case"fit":e.push(this.fitChildren.push(a));break;case"fill":e.push(this.fillChildren.push(a));break;default:e.push(void 0)}return e},a.prototype.id=function(){return this.element.attr("id")},a.prototype.height=function(){return this.element.height()},a.prototype.outerHeight=function(){return this.element.outerHeight()},a.prototype.fillChildHeight=function(){var a,b,c,d,e,f,g,h;for(b=this.height(),g=this.fixedChildren,c=0,e=g.length;e>c;c++)a=g[c],b-=a.outerHeight();for(h=this.fitChildren,d=0,f=h.length;f>d;d++)a=h[d],b-=a.outerHeight();return"horizontal"===this.orientation?b=this.height():"vertical"===this.orientation&&this.fillChildren.length>0&&(b/=this.fillChildren.length),b},a.prototype.parentElement=function(){var a;for(a=this.element.parent();"NG-INCLUDE"===a.prop("tagName")||""===a.attr("flex-width-ignore");)a=a.parent();return a},a}(),a}())}.call(this),function(){var a;a=angular.module("presentation"),a.factory("ComponentCtrlFactory",["$rootScope","$filter","ComponentService","modifierService","ClassService",function(a,b,c,d,e){return this.$rootScope=a,this.ComponentService=c,this.modifierService=d,{init:function(d){var f,g,h=this;return this.type=d,this.cl={},this.list||(this.list=[]),this.modifiers={},this.src={},this.ngif=angular.extend(this.ngif||{},{list:function(a,c){return c?b("resume")(c).length>0:b("resume")(h[a]).length>0}}),null!=(null!=c?null!=(f=c.components)?null!=(g=f[this.type])?g.modifiers:void 0:void 0:void 0)&&(this.modifiers=c.components[this.type].modifiers),this.src.base="/views/components/shared/component_base.html",this.src.header="/views/components/shared/header.html",this.$on("modifier."+this.type,function(a,b){return h.setModifier(b.modifier,b.value)}),this.$on("modifiers."+this.type,function(b,c){return h.setModifiers(c.modifiers),a.firstLoad?a.$broadcast("font.resize"):void 0}),this.$on("active."+this.type,function(){var b,d,e;if(0===Object.keys(h.modifiers).length){e=c.components[h.type].modifiers;for(b in e)d=e[b],h.modifiers[b]=d;if(a.firstLoad)return a.$broadcast("font.resize")}}),this.bindSeparator=function(a){return"hyphen"===a.separator?"&nbsp;-&nbsp;":"comma"===a.separator?",&nbsp;":"semicolon"===a.separator?";&nbsp;":"&nbsp;&middot;&nbsp;"},this.cl.awarder=function(){return{italic:"italic"===h.modifiers.awarder_font_style}},this.cl.container=function(){return angular.extend(e.clAlign(h.modifiers),{"header-padding":"vertical"===h.modifiers.header_orientation,"font-sizing-fixed":"fixed"===h.modifiers.font_sizing_scheme})},this.cl.contentWrapper=function(){return e.clContentWrapper(h.modifiers)},this.cl.detailsWrapper=function(){return e.clDetailsWrapper(h.modifiers)},this.cl.name=function(){return angular.extend(e.clCase(h.modifiers),{bold:"bold"===h.modifiers.name_font_weight})},this.cl.outerRow=function(){return e.clOuterRow(h.modifiers)},this.cl.sectionHeader=function(){return{"header-padding":"vertical"===h.modifiers.header_orientation}},this.cl.title=function(){return{bold:"bold"===h.modifiers.title_font_weight,italic:"italic"===h.modifiers.title_font_style}}},setModifier:function(a,b){return this.modifiers||(this.modifiers={}),a.match(/input_/)&&(a=a.substr(6)),"true"===b&&(this.modifiers[a]=!0),"false"===b&&(this.modifiers[a]=!1),"true"!==b&&"false"!==b?this.modifiers[a]=b:void 0},setModifiers:function(a){var b,c,d;d=[];for(b in a)c=a[b],d.push(this.setModifier(b,c));return d}}}])}.call(this),function(){var a;a=angular.module("presentation"),a.factory("crFocus",["$rootScope","$timeout",function(a,b){return function(c){return b(function(){return a.$broadcast("crFocusOn",c)})}}])}.call(this),function(){var a;a=angular.module("presentation"),a.factory("PlacementComponentCtrlFactory",["$rootScope","ComponentService","modifierService","PlacementService","ComponentCtrlFactory","DateService","ResumeService",function(a,b,c,d,e,f,g){return this.$rootScope=a,this.ComponentService=b,this.modifierService=c,this.PlacementService=d,{init:function(b){var c=this;return this.type=b,this.init_=e.init,this.setModifier_=e.setModifier,this.setModifiers_=e.setModifiers,this.init_(this.type),this.repeaters=[],this.src.awarder="/views/components/shared/awarder.html",this.src.date="/views/components/shared/date.html",this.src.details="/views/components/shared/details.html",this.src.item="/views/components/shared/details_item.html",this.src.name="/views/components/shared/name.html",this.src.title="/views/components/shared/title.html",this.$on("placement.change",function(){return c.repeaters=d.repeaters[c.type],c.$$phase||c.$apply(),a.$broadcast("cog.show"),a.$broadcast("build")})},setModifier:function(a,b){return this.setModifier_(a,b)},setModifiers:function(a){return this.setModifiers_(a)},showSeparator:function(a,b,c,d){var e,h,i,j,k,l,m;try{if(i=this.list.find(function(b){return b.position[g.selectedId()]===a}),h=function(a){var b,c,d;return"date"===a?(b=i.dates&&i.dates.length>0,d=f.nonempty(i),c=i.year,b||d||c?"_":""):i[a]},j=this.repeaters[b][c][d],m=h(j),"date"===j&&"two_column"===this.modifiers.configuration)return!1;for(l="";d>=1&&0===l.length;)d--,k=this.repeaters[b][c][d],l=h(k),"date"===k&&"two_column"===this.modifiers.configuration&&(l="");return l.length>0&&m.length>0}catch(n){return e=n,!1}return!0},sort:function(){var a;return a=g.selectedId(),a&&this.list?(this.fList=this.list.filter(function(b){return b.resume_ids.indexOf(a)>-1}),this.fList=this.fList.sort(function(b,c){return b.position[a]>c.position[a]?1:-1})):void 0}}}])}.call(this),function(){}.call(this),function(){var a,b,c,d,e,f,g,h,i,j;i=angular.module("presentation"),i.directive("crActivities",function(){return{restrict:"AC",scope:!0,templateUrl:"views/components/activities/base.html"}}),i.directive("crAwards",function(){return{restrict:"AC",scope:!0,templateUrl:"views/components/awards/base.html"}}),i.directive("crBase",function(){return{restrict:"AC",scope:!0,templateUrl:"views/components/base/base.html"}}),i.directive("crContact",function(){return{restrict:"AC",scope:!0,templateUrl:"views/components/contact/base.html"}}),i.directive("crEducation",function(){return{restrict:"AC",scope:!0,templateUrl:"views/components/education/base.html"}}),i.directive("crEmployment",function(){return{restrict:"AC",scope:!0,templateUrl:"views/components/employment/base.html",link:function(a,b,c){return a.crSplit=parseInt(c.crSplit)}}}),i.directive("crFreeform1",function(){return{restrict:"AC",scope:!0,templateUrl:"views/components/freeforms/base.html"}}),i.directive("crFreeform2",function(){return{restrict:"AC",scope:!0,templateUrl:"views/components/freeforms/base.html"}}),i.directive("crFreeform3",function(){return{restrict:"AC",scope:!0,templateUrl:"views/components/freeforms/base.html"}}),i.directive("crNameplate",function(){return{restrict:"AC",scope:!0,templateUrl:"views/components/nameplate/base.html"}}),i.directive("crProjects",function(){return{restrict:"AC",scope:!0,templateUrl:"views/components/projects/base.html"}}),i.directive("crSkills",function(){return{restrict:"AC",scope:!0,templateUrl:"views/components/skills/base.html"}}),i.directive("crSummary",function(){return{restrict:"AC",scope:!0,templateUrl:"views/components/summary/base.html"}}),i.directive("crVolunteering",function(){return{restrict:"AC",scope:!0,templateUrl:"views/components/volunteering/base.html"}}),a=function(a){var b;return null!=a.headerModifiers&&null!=a.$parent.modifiers?(a.inheritedAlign=a.$parent.modifiers.align,a.placeIconLeft=!1,a.placeIconRight=!1,a.alignCenter="center"===a.headerModifiers.align,a.alignRight=!1,-1!==["left","both"].indexOf(a.headerModifiers.icon_placement)&&(a.placeIconLeft=!0),-1!==["right","both"].indexOf(a.headerModifiers.icon_placement)&&(a.placeIconRight=!0),"right"===a.headerModifiers.align&&(a.alignRight=!0),"right"===a.inheritedAlign&&(b=a.placeIconLeft,a.placeIconLeft=a.placeIconRight,a.placeIconRight=b,a.alignRight=!a.alignRight),a.alignCenter?a.alignRight=!1:void 0):void 0},b=function(a,b){return null==b&&(b="case"),{lowercase:"lower"===a[b],uppercase:"upper"===a[b]}},c=function(a,b){return{"bg-primary":"primary"===a[b],"bg-primary-dark":"primary_dark"===a[b],"bg-primary-light":"primary_light"===a[b],"bg-secondary":"secondary"===a[b],"bg-secondary-dark":"secondary_dark"===a[b],"bg-secondary-light":"secondary_light"===a[b]}},d=function(a,b){return{"fg-primary":"primary"===a[b],"fg-primary-dark":"primary_dark"===a[b],"fg-primary-light":"primary_light"===a[b],"fg-secondary":"secondary"===a[b],"fg-secondary-dark":"secondary_dark"===a[b],"fg-secondary-light":"secondary_light"===a[b],"fg-black":"none"===a[b],"fg-white":"white"===a[b]}},e=function(a,b){return{"bg-black":"none"===a[b],"bg-primary":"primary"===a[b],"bg-primary-dark":"primary_dark"===a[b],"bg-primary-light":"primary_light"===a[b],"bg-secondary":"secondary"===a[b],"bg-secondary-dark":"secondary_dark"===a[b],"bg-secondary-light":"secondary_light"===a[b]}},f=function(a,b){return null==b&&(b="font_weight"),{"font-weight-normal":"normal"===a[b],bold:"bold"===a[b]}},g=function(a){return{small:"small"===a.size,medium:"medium"===a.size,large:"large"===a.size}},h=function(a){return{"underline-short":"short"===a.underline,"underline-full":"full"===a.underline,"underline-thin":"thin"===a.underline_thickness,"underline-medium":"medium"===a.underline_thickness,"underline-thick":"thick"===a.underline_thickness}},j=function(a,b,c,d){return null==d&&(d="modifiers"),b.match(/input_/)&&(b=b.substr(6)),null!=a[d]?a[d][b]="true"===c?!0:"false"===c?!1:c:void 0},i.directive("crSectionHeader",["$rootScope","$timeout",function(){return{scope:{alignCenter:"&",alignRight:"&",inheritedAlign:"&",placeIconLeft:"&",placeIconRight:"&"},templateUrl:"views/components/section_header/base.html",transclude:!0,link:function(i,k,l){var m,n,o;return void 0===i.headerModifiers&&(i.headerModifiers={},i.headerModifiers=i.$parent.$parent.$parent.components.section_header.modifiers),a(i),m=i.headerModifiers,n=i.inheritedAlign,o=i.modifiers,i.cl={sectionHeader:{base:function(){return angular.extend(c(m,"background_color"),d(m,"color"),b(m),g(m),{"margin-bottom":"none"!==m.color&&"none"===m.underline})},parent:function(){return{"align-center":i.alignCenter,"align-right":i.alignRight,"header-underline":"none"!==m.underline}},text:function(){return f(m)},underline:function(){return angular.extend(e(m,"underline_color"),h(m),{"center-auto":"center"===m.align,"float-right":"right"===n&&"center"!==m.align})}}},i.value=l.value,i.$on("modifier.section_header",function(b,c){return j(i,c.modifier,c.value,"headerModifiers"),i.$apply(function(){return a(i)})}),i.$on("modifiers.section_header",function(b,c){var d,e,f;f=c.modifiers;for(d in f)e=f[d],j(i,d,e,"headerModifiers");return i.$apply(function(){return a(i)})})}}}])}.call(this),function(){var a;a=angular.module("presentation"),a.directive("customizer",["$timeout",function(){return{replace:!0,restrict:"E",templateUrl:"views/customizer.html"}}]),a.directive("document",function(){return{replace:!0,restrict:"E",templateUrl:"views/document.html"}}),a.directive("crArea",["$compile","$rootScope","ComponentService","AreaService",function(a,b,c,d){return{scope:!0,controller:["$scope","$element",function(e,f){var g,h,i,j,k,l,m,n,o;return h=parseInt(f.attr("cr-area")),k={},n=-1,l=0,m=0,window.timeoutResize=0,g=function(c){var d,g,h;return h=c,"employment_2"===c&&(h="employment"),g=angular.element(document.createElement("div")),g.attr("cr",c),"employment"===c&&g.attr("cr-split",1),"employment_2"===c&&g.attr("cr-split",2),g.attr("cr-"+h,""),angular.element("[cr-"+h+"][cr="+c+"]",f).length>0?void 0:(g.addClass("row"),d=a(g)(e),k[c]=d,f.append(d),clearTimeout(window.timeoutResize),window.timeoutResize=setTimeout(function(){return clearTimeout(window.timeoutResize),b.firstLoad?b.$broadcast("font.resize"):void 0},1e3))},i=function(){var a,b,e,i,j,k,l;for(clearInterval(m),n=parseInt(f.attr("page-index")),e=d.areaFormat["p"+n]["s"+h],e||(e=d.unusedComponents),k=0,l=e.length;l>k;k++)b=e[k],g(b);return 2===n&&6>h&&(a=c.components.base.modifiers||{},"yes"===a.second_page_nameplate&&(i=h,j=h,"yes"===a.second_page_one_column&&"no"===a.header&&(i=3,j=1),d.areaFormat.p1["s"+i].indexOf("nameplate")>-1&&j===h&&(g("nameplate"),"yes"===a.second_page_contact)))?g("contact"):void 0},j=function(){var a,b,c,e,g;if(b=d.areaFormat["p"+n]["s"+h]){for(g=[],c=0,e=b.length;e>c;c++)a=b[c],g.push(k[a]?f.append(k[a]):void 0);return g}},o=function(a){return f.children('[cr="'+a+'"]').remove(),delete k[a]},e.$on("area.add",function(a,b){var c;return c=function(){return b.areaIndex!==h||b.pageIndex!==n&&6!==h?void 0:g(b.componentType)},l=setTimeout(function(){return n>-1?c():void 0},1e3)}),e.$on("area.change",function(a,b){return b.areaIndex===h&&b.pageIndex===n?6===b.sourceIndex?g(b.componentType):j():void 0}),e.$on("area.move.dest",function(a,c){var d;return c.destArea===h&&c.destPage===n&&(d=$('[cr-area="'+h+'"][page-index="'+n+'"] [cr="'+c.componentType+'"]'),k[c.componentType]=d,6===c.sourceArea&&b.$broadcast("component.activate",{active:!0,component:c.componentType}),j(),6===c.sourceArea)?b.$broadcast("font.resize.equilibrium"):void 0}),e.$on("area.move.source",function(a,b){var c,d;return b.sourceArea===h&&b.sourcePage===n?(c=$('[cr-area="'+h+'"][page-index="'+n+'"] [cr="'+b.componentType+'"]'),d=$('[cr-area="'+b.destArea+'"][page-index="'+b.destPage+'"]'),d.append(c),delete k[b.componentType]):void 0
}),e.$on("area.rebuild",function(){var a,b;for(b in k)a=k[b],o(b);return k={},i()}),e.$on("area.remove",function(a,b){return b.areaIndex===h&&b.pageIndex===n?o(b.componentType):void 0}),m=setInterval(function(){return d.areaFormat?i():void 0},1e3)}]}}]),a.directive("crComponentBase",function(){return{replace:!0,restrict:"E",templateUrl:"views/components/shared/component_base.html"}}),a.directive("crContent",function(){return{replace:!0,restrict:"E",templateUrl:"views/components/shared/content.html"}}),a.directive("crDelayApply",["$timeout",function(a){return{link:function(b,c,d){var e;return e=null,c.bind("keyup",function(){return a.cancel(e),e=a(function(){return b.$apply(d.crDelayApply)},1e3)})}}}]),a.directive("crDescription",function(){return{replace:!0,restrict:"E",scope:{flexHeight:"@",ngClass:"=",ngModel:"="},templateUrl:"views/components/shared/description.html"}}),a.directive("crDetails",function(){return{replace:!0,restrict:"E",templateUrl:"views/components/shared/details.html"}}),a.directive("crFocusOn",function(){return{link:function(a,b,c){return a.$on("crFocusOn",function(a,d){return d===c.crFocusOn&&b.focus(),"true"===c.selectOnFocus?b.select():void 0})}}}),a.directive("crFontSize",["$rootScope",function(){return{scope:{crFontSize:"="},link:function(a,b,c){return a.$watch("crFontSize",function(a){var d,e,f;return f=parseInt(c.scale)||6,d=parseInt(c.base)||6,e=parseInt(a)*f+d,b.css("font-size",""+e+"px")})}}}]),a.directive("crInputLabel",function(){return{require:"ngModel",restrict:"E",scope:{crFocusOn:"@",disabled:"=",onBlur:"=",ngModel:"=",onSave:"=",placeholder:"@"},templateUrl:"views/directives/input_label.html",link:function(a,b,c,d){return a.onBlurEvent=function(){return a.editing&&d.$viewValue?(0===d.$viewValue.length?(d.$setViewValue(a.resetValue),a.onBlur()):d.$viewValue!==a.resetValue?a.onSave():a.onBlur(),a.editing=!1):void 0},a.onFocus=function(){return a.editing=!0,a.resetValue=d.$viewValue},b.bind("click",function(b){return a.editing?b.stopPropagation():void 0}),b.on("keydown",function(a){return[9,13,27].indexOf(a.keyCode)>-1?$("input",b).blur():void 0})}}}),a.directive("crLetter",function(){return{templateUrl:"views/directives/letter.html"}}),a.directive("crLetterBox",["$rootScope","ComponentService","HttpService",function(a,b,c){return{require:"ngModel",link:function(d,e,f,g){var h,i,j,k;return h=!1,i=[10,11,12,13,14,15,16,17,18,20],d.fontSize=function(){return i[parseInt(b.components.cover_letter.modifiers.font_size||6)-1]},j=function(){return a.$broadcast("showSavingMessage",{message:"Saving..."}),c.postCoverLetterUpdate(e.html(),function(){return a.$broadcast("showSavedMessage",{message:"Saved"})})},d.boxCl=function(){var a,c,d,f;return c=g.$modelValue,a=document.createElement("div"),a.innerHTML=c,d=a.textContent||a.innerText||"",d=d.replace(/(\r\n|\n|\r)/gm,""),c=g.$viewValue,a=document.createElement("div"),a.innerHTML=c,f=a.textContent||a.innerText||"",f=f.replace(/(\r\n|\n|\r)/gm,""),{"align-justify":"justify"===b.components.cover_letter.modifiers.align,empty:(0===e.text().length||0===d.length||0===f.length)&&!h}},g.$render=function(){return e.html(g.$viewValue)},e.bind("blur",function(){return h=!1,j()}),e.bind("focus",function(){return h=!0}),k=0,e.bind("keyup",function(){return clearTimeout(k),k=setTimeout(j,1e3)})}}}]),a.directive("crName",function(){return{replace:!0,restrict:"E",scope:{flexHeight:"@",section:"@",type:"@"},templateUrl:"views/components/shared/name.html"}}),a.directive("markdownLiView",function(){return{require:"ngModel",link:function(a,b,c,d){return d.$render=function(){var a;return a=d.$viewValue,a&&(a=a.replace(/\</g,"&lt;"),a=a.replace(/\>/g,"&gt;"),a=a.replace(/\&lt;ul\&gt;/g,"<ul>"),a=a.replace(/\&lt;\/ul\&gt;/g,"</ul>"),a=a.replace(/\&lt;li\&gt;/g,"<li>"),a=a.replace(/\&lt;\/li\&gt;/g,"</li>"),a=a.replace(/\&lt;br\s*\/?\&gt;/g,"<br/>")),b.html(a)}}}}),a.directive("markdownViewer",["$rootScope",function(){return{require:"ngModel",link:function(a,b,c,d){var e;return e=function(){var c,e,f,g,h,i,j,k,l,m,n,o,p,q,r;for(e=b.html(),i=[],q=e.split("<div>"),k=0,n=q.length;n>k;k++)for(f=q[k],r=f.split("</div>"),l=0,o=r.length;o>l;l++)g=r[l],g.length>0&&i.push(g);for(e="",m=0,p=i.length;p>m;m++)h=i[m],j=h.match(/>(.*)</),j&&(h=j[1]),c="* "===h.substr(0,2),c&&(e+="<ul><li>"+h.substr(2)+"</li></ul>"),c||(e+="<div>"+h+"</div>");return e=e.replace(new RegExp("</ul><ul>","g"),""),a.$apply(function(){return d.$setViewValue(e)}),b.html(e)},b.on("keyup",function(){return a.$apply(function(){return d.$setViewValue(b.html())})}),d.$render=function(){return b.html(d.$viewValue)}}}}]),a.directive("themeselection",function(){return{replace:!0,restrict:"E",templateUrl:"views/theme_selection.html"}}),a.directive("crIconHtml",["$timeout",function(){return{replace:!0,restrict:"A",templateUrl:"views/directives/icon_html.html",scope:{value:"="},link:function(a,b,c){var d,e;return d={location:"map-marker"},e={location:"Location"},a.text=e[c.crIconHtml],a.icon=d[c.crIconHtml]||c.crIconHtml,a.iconSetting=c.icon}}}]),a.directive("crIconLink",["$timeout",function(){return{replace:!0,restrict:"A",templateUrl:"views/directives/icon_link.html",scope:{prefix:"=",value:"="},link:function(a,b,c){var d,e,f,g,h;return f={facebook:"https://www.facebook.com/",twitter:"https://www.twitter.com/",linkedin:"https://www.linkedin.com/",github:"https://www.github.com/",website:"http://",email:"mailto:"},g={facebook:"facebook.com/",twitter:"twitter.com/",linkedin:"linkedin.com/",github:"github.com/",website:"",email:"",phone:"",location:""},e={email:"envelope",location:"map-marker",website:"globe"},h={email:"Email",facebook:"Facebook",github:"GitHub",linkedin:"LinkedIn",phone:"Phone",location:"Location",twitter:"Twitter",website:"Website"},d=a.value,a.filteredValue=function(){var b,d;return b=a.value,"linkedin"===c.crIconLink&&(a.value.length>2&&"in/"===a.value.slice(0,3)&&(b=a.value.slice(3,a.value.length)),a.value.length>3&&"pub/"===a.value.slice(0,4)&&(d=a.value.match(/pub\/([\w\-]+)\//),d&&(b=d[1]))),b},a.text=h[c.crIconLink],a.icon=e[c.crIconLink]||c.crIconLink,"http"===d.slice(0,4)?a.href=d:d.match("linkedin.")?(a.href=d,"http"!==a.href.slice(0,4)&&(a.href="http://"+a.href)):a.prefix?a.href="http"===a.prefix.slice(0,4)?a.prefix+d:"https://"+a.prefix+d:f[c.crIconLink]&&(d.match("facebook.com/")&&(d=d.substr(13)),d.match("twitter.com/")&&(d=d.substr(12)),d.match("github.com/")&&(d=d.substr(11)),a.href=f[c.crIconLink]+d),a.shortLink="",a.iconSetting=c.icon}}}]),a.directive("crThemePreview",["$rootScope","$timeout",function(a,b){return{replace:!0,restrict:"E",scope:{crDisabled:"=",theme:"="},templateUrl:"views/directives/theme_preview.html",link:function(c,d){var e;return e=$("img",d),e.attr("src",$("#img-"+c.theme.toLowerCase()).attr("cr-src")),e.attr("alt",c.theme),c.cl={previewPrompt:function(){return{disabled:c.crDisabled}}},c.message=function(){return c.crDisabled?"Maximum Number of Themes Reached":"Click to Copy as a New Theme"},d.on("click",function(){return c.crDisabled?void 0:(a.$broadcast("selector.theme.hide"),b(function(){return a.$broadcast("theme.copy.base",c.theme)},500))})}}}]),a.directive("crThemeScroll",function(){return{link:function(a,b){var c,d,e,f;return f=$(".theme-previews-wrapper",b),d=$(".theme-previews",b),c=$(".scroll-left",b),e=$(".scroll-right",b),c.bind("click",function(){var a;return a=f.scrollLeft(),f.animate({scrollLeft:Math.max(0,a-(window.innerWidth-250))},300)}),e.bind("click",function(){var a,b;return b=f.scrollLeft(),a=d.width()-window.innerWidth+10+250,f.animate({scrollLeft:Math.min(a,b+window.innerWidth-250)},300)})}}}),a.directive("crcLink",["$rootScope",function(a){return{link:function(b,c,d){return c.bind("click",function(b){return a.mode.quickCustomize?(b.stopPropagation(),a.$broadcast("customizer.panel.open",{path:d.crcLink.split(","),tab:d.crcLinkTab||"global"})):void 0})}}}]),a.directive("crcPanel",["$rootScope","ComponentService","panelService",function(a,b,c){return{restrict:"E",scope:{key:"="},templateUrl:"views/directives/customizer/panel.html",link:function(d){return d.cs=b,d.ps=c,d.grayscale=!1,d.toggleGrayscale=function(){return a.$broadcast("grayscale.toggle"),d.grayscale=!d.grayscale}}}}])}.call(this),function(){var a;a=angular.module("presentation"),a.directive("crAreaOrderingLegendSimple",function(){return{scope:{as:"=",page:"@"},templateUrl:"views/partials/customizer/legend_simple.html",link:function(a){return a.pageKey="p"+a.page}}}),a.directive("crAreaOrderingLegendAdvanced",function(){return{scope:{as:"=",page:"@"},templateUrl:"views/partials/customizer/legend_advanced.html",link:function(a){return a.pageKey="p"+a.page}}}),a.directive("crDragElement",function(){return{link:function(a,b){return b.on("dragend",function(){return b.removeClass("drag")}),b.on("dragenter",function(){return b.hasClass("drag")?void 0:b.addClass("drag-over")}),b.on("dragleave",function(){return b.hasClass("drag")?void 0:b.removeClass("drag-over")}),b.on("dragover",function(a){return a.preventDefault?a.preventDefault():void 0}),b.on("dragstart",function(a){return a.originalEvent.dataTransfer.setData("text/plain",""),b.addClass("drag")}),b.on("drop",function(){return b.removeClass("drag-over")})}}}),a.directive("crDragTarget",function(){return{link:function(a,b){return b.on("dragenter",function(){return b.addClass("drag-over")}),b.on("dragleave",function(){return b.removeClass("drag-over")}),b.on("dragover",function(a){return a.preventDefault()}),b.on("drop",function(a){return a.stopPropagation(),b.removeClass("drag-over")})}}}),a.directive("crcPlacementElement",["$rootScope","PlacementService",function(a,b){return{scope:{row:"@",col:"@",index:"@"},link:function(c,d,e){var f,g,h,i;return i=e.crcPlacementElement,h=$(".drop-mask",d),d.on("dragstart",function(b){return b.originalEvent.dataTransfer.setData("text/plain",""),b.stopPropagation(),d.addClass("drag"),d.removeClass("left right"),a.placementSourceName=i,a.placementSourceRow=parseInt(c.row),a.placementSourceCol=parseInt(c.col),a.placementSourcePos=parseInt(c.index)}),h.on("dragenter",function(a){return a.stopPropagation(),d.addClass("dragover"),d.removeClass("left right")}),d.on("dragend",function(b){return b.stopPropagation(),d.removeClass("drag"),d.removeClass("left right"),a.$broadcast("drag.placement.end")}),g=!1,f=!1,h=$(".drop-mask",d),h.on("dragover",function(a){var b;return a.stopPropagation(),a.preventDefault(),b=a.originalEvent.offsetX||a.originalEvent.layerX,g=b/$(a.target).width()<.5,!g||d.hasClass("drag")||f||d.addClass("left"),g||d.hasClass("drag")||f||d.addClass("right"),g||d.hasClass("drag")||f||d.removeClass("left"),!g||d.hasClass("drag")||f||d.removeClass("right"),f=!1}),h.on("dragleave",function(a){return a.stopPropagation(),d.removeClass("left right"),f=!0}),h.on("drop",function(f){var h,i;return f.stopPropagation(),d.removeClass("dragover"),d.removeClass("left right"),a.$broadcast("order.placement"),i=parseInt(c.index),h=g?0:1,b.moveElement(e.component,a.placementSourceName,parseInt(c.row),parseInt(c.col),i+h,a.placementSourcePos,a.placementSourceRow,a.placementSourceCol)}),a.$on("order.placement",function(){return d.removeClass("left right")}),a.$on("drag.placement.end",function(){return d.removeClass("left right")})}}}]),a.directive("crcPlacementTable",["$rootScope","PlacementService",function(a,b){return{link:function(c,d,e){var f,g;return c.component=e.crcPlacementTable.split(".")[0],f=function(){var a;return c.cols=function(){a=[];for(var d=0,e=b.cols[c.component];e>=0?e>d:d>e;e>=0?d++:d--)a.push(d);return a}.apply(this)},g=function(){var a;return c.rows=function(){a=[];for(var d=0,e=b.rows[c.component];e>=0?e>d:d>e;e>=0?d++:d--)a.push(d);return a}.apply(this)},g(),f(),a.$on("placement.change",function(){return g(),f()}),c.addColumn=function(){return b.addColumn(c.component),f()},c.addRow=function(){return b.addRow(c.component),g()},c.removeColumn=function(){return b.removeColumn(c.component),f()},c.removeRow=function(){return b.removeRow(c.component),g()}}}}]),a.directive("crcPlacementTableTarget",["$rootScope","PlacementService",function(a,b){return{link:function(c,d,e){var f,g;return g=parseInt(e.row),f=parseInt(e.col),d.on("dragenter",function(){return d.addClass("drag-over")}),d.on("dragleave",function(){return d.removeClass("drag-over")}),d.on("dragover",function(a){return a.preventDefault()}),d.on("drop",function(){return d.removeClass("drag-over"),b.moveElement(e.component,a.placementSourceName,g,f)})}}}]),a.directive("crcSectionOrderingElement",["$rootScope","AreaService",function(a,b){return{scope:{index:"@"},link:function(c,d,e){var f,g,h,i;return h=e.crcSectionOrderingElement,g=$(".drop-mask",d),d.on("dragstart",function(b){return b.originalEvent.dataTransfer.setData("text/plain",""),b.stopPropagation(),d.addClass("drag"),d.removeClass("top bottom"),a.orderingSourceName=h,a.orderingSourcePage=d.parent().attr("page"),a.orderingSourcePos=parseInt(c.index),a.orderingSourceSection=d.parent().attr("section")}),g.on("dragenter",function(a){return a.stopPropagation(),d.addClass("dragover"),d.removeClass("top bottom")}),d.on("dragend",function(b){return b.stopPropagation(),d.removeClass("drag"),d.removeClass("top bottom"),a.$broadcast("drag.placement.end")}),i=!1,f=!1,g=$(".drop-mask",d),g.on("dragover",function(a){var b;return a.stopPropagation(),a.preventDefault(),b=a.originalEvent.offsetY||a.originalEvent.layerY,i=b/$(a.target).height()<.5,!i||d.hasClass("drag")||f||d.addClass("top"),i||d.hasClass("drag")||f||d.addClass("bottom"),i||d.hasClass("drag")||f||d.removeClass("top"),!i||d.hasClass("drag")||f||d.removeClass("bottom"),f=!1}),g.on("dragleave",function(a){return a.stopPropagation(),d.removeClass("top bottom"),f=!0}),g.on("drop",function(e){var f,g;return e.stopPropagation(),d.removeClass("dragover"),d.removeClass("top bottom"),a.$broadcast("order.ordering"),g=parseInt(c.index),f=i?0:1,b.moveElement({componentType:a.orderingSourceName,destArea:parseInt(d.parent().attr("section")),destPage:parseInt(d.parent().attr("page")),destPos:g+f,sourceArea:parseInt(a.orderingSourceSection),sourcePage:parseInt(a.orderingSourcePage)})}),a.$on("order.placement",function(){return d.removeClass("top bottom")}),a.$on("drag.placement.end",function(){return d.removeClass("top bottom")})}}}]),a.directive("crcSectionOrdering",["$rootScope","AreaService",function(){return{link:function(){}}}]),a.directive("crcSectionOrderingTarget",["$rootScope","AreaService",function(a,b){return{scope:{sections:"&"},link:function(c,d,e){return e.page&&(c.sections=b.areaFormat["p"+e.page]["s"+e.section]),a.$on("sections.change",function(){return e.page?c.sections=b.areaFormat["p"+e.page]["s"+e.section]:void 0}),d.on("dragenter",function(){return d.addClass("drag-over")}),d.on("dragleave",function(){return d.removeClass("drag-over")}),d.on("dragover",function(a){return a.preventDefault()}),d.on("drop",function(c){return c.stopPropagation(),d.removeClass("drag-over"),b.moveElement({componentType:a.orderingSourceName,destArea:parseInt(e.section),destPage:parseInt(e.page),sourceArea:parseInt(a.orderingSourceSection),sourcePage:parseInt(a.orderingSourcePage)})})}}}])}.call(this),function(){var a;a=angular.module("presentation"),a.directive("progressBar",function(){return{restrict:"E",replace:!0,template:'    <div class="progress cr-progress bd-primary">             <div class="progress-bar bg-primary"             style="width: {{rating * 10}}%;">       </div>                                           </div>                                         ',link:function(a,b,c){return a.rating=parseInt(c.rating)}}}),a.directive("starRating",function(){return{restrict:"E",replace:!0,template:"<div></div>",link:function(a,b,c){var d,e,f,g,h,i,j,k,l,m;for(g='<i class="fa fa-star-o"></i>',h='<i class="fa fa-star"></i>',i='<i class="fa fa-star-half-o"></i>',f=parseInt(c.rating),d="",e=j=0,l=parseInt(f/2);l>=0?l>j:j>l;e=l>=0?++j:--j)d+=h;for(f%2===1&&(d+=i),e=k=0,m=5-parseInt(f/2+f%2);m>=0?m>k:k>m;e=m>=0?++k:--k)d+=g;return b.html(d)}}})}.call(this),function(){var a;a=angular.module("presentation"),a.directive("crcCustomColor",["$rootScope","ColorService",function(a,b){return{scope:{property:"@"},link:function(c,d,e){var f,g;return c.regex={color:/^(#?[0-9a-f]{6}|#?[0-9a-f]{3})$/},d.on("focus",function(){return g()}),d.on("keyup",function(){return g()}),g=function(){var a;return(a=d.val())?(a.length>0&&"#"===a[0]&&(a=a.substr(1)),a.match(c.regex.color)?b.setColor("#"+a,e.crcCustomColor):void 0):void 0},f=function(){return d.val(b.colors[e.crcCustomColor])},f(),a.$on("colors.change",f)}}}]),a.directive("crcGlobalModifier",["$filter","$rootScope","ColorService","FontService",function(a,b,c,d){return{restrict:"E",replace:!0,scope:!0,templateUrl:"views/directives/modifiers/global_base.html",link:function(e,f,g){var h;switch(e.ColorService=c,e.FontService=d,e.src="views/directives/modifiers/"+g.type+".html",e.modifier={},e.property=g.property,h=function(){switch(g.type){case"color_selection":return e.modifier.value=c.colors[g.property],e.modifier.type=""+a("capitalize")(g.property)+" Color";case"font_selection":return e.modifier.value=d.fonts[g.property],e.modifier.type=""+a("capitalize")(g.property)+" Font"}},h(),g.type){case"color_selection":b.$on("colors.change",h);break;case"font_selection":b.$on("fonts.change",h)}return e.setValue=function(a){switch(g.type){case"color_selection":return c.setColor(a,g.property);case"font_selection":return d.setFont(a,g.property)}}}}}]),a.directive("crcModifier",["$rootScope","$timeout","ColorService","ComponentService","modifierService",function(a,b,c,d,e){return{restrict:"E",replace:!0,scope:{modifier:"=",crTitle:"="},templateUrl:"views/directives/modifiers/base.html",link:function(f){var g,h,i,j;return f.ColorService=c,f.ComponentService=d,g=function(){return d.components[f.modifier.component].modifiers?f.modifier.value=d.components[f.modifier.component].modifiers[f.modifier.type]:void 0},g(),a.$on("component."+f.modifier.component+".set",g),i="default",-1!==e.manifest.indexOf(f.modifier.type)&&(i=f.modifier.type,e.aliases[i]&&(i=e.aliases[i]),(null!=(j=e.componentAliases[f.modifier.component])?j[i]:void 0)&&(i=e.componentAliases[f.modifier.component][i])),f.modifier.input&&-1===e.inputCancel.indexOf(i)&&(i="input"),f.modifier.flexHeight&&(i="font_slider"),f.src="views/directives/modifiers/"+i+".html",f.intValue=function(){return parseInt(f.modifier.value)},f.ngif={autoFontSizing:function(){return"fixed"!==(d.fontSizingModifiers[0]||{}).value}},h=null,f.setValue=function(c){return h&&b.cancel(h),h=b(function(){var b;return f.modifier.value=c,b={component:f.modifier.component,modifier:f.modifier.type,value:c.toString()},a.$broadcast("modifier",b),a.$broadcast("modifier."+f.modifier.component,b),"input"===i&&a.$broadcast("modifier.input",b),h=null},500)},f.tooltip=function(b){return a.$broadcast("tooltip."+b)}}}}]),a.directive("crcDefault",function(){return{templateUrl:"views/directives/modifiers/default.html"}})}.call(this),function(){var a;a=angular.module("presentation"),a.filter("components_nonempty",["AreaService",function(a){return function(b){var c,d,e,f;for(c=[],e=0,f=b.length;f>e;e++)d=b[e],-1===a.emptyComponents.indexOf(d.key)&&c.push(d);return c}}]),a.filter("components_nonempty_map",["AreaService",function(a){return function(b){var c,d,e;if(!b)return b;c={};for(d in b)e=b[d],-1===a.emptyComponents.indexOf(d)&&(c[d]=e);return c}}]),a.filter("crc_component_title",["$filter","ComponentService",function(a){return function(b){return b?{base:"Resume Layout",colorsAndFonts:"Colors and Fonts",date:"Date Formatting","employment.split":"Employment Split",fontSizing:"Font Sizing","page.layout":"Page Layout","section.naming":"Section Naming",sectionOrdering:"Section Ordering","freeform-1":"Custom Section 1"}[b]||a("unUnderscore")(b):b}}]),a.filter("crc_modifiers_flexHeight",function(){return function(a){return a?a.filter(function(a){return a.flexHeight}):a}}),a.filter("crc_modifiers_headerValue",["AreaService","ComponentService",function(a,b){return function(c){return c?c.filter(function(c){var d;return d=c.headerValue||c.headerValue2&&b.components.employment.modifiers&&"yes"===b.components.employment.modifiers.split,d=d&&(!c.headerValue||-1===a.emptyComponents.indexOf(c.component))}):c}}]),a.filter("crc_ordering_name",["ComponentService",function(a){return function(b){var c,d,e,f;if("employment_2"===b)for(f=a.sectionTitles,d=0,e=f.length;e>d;d++)if(c=f[d],"employment"===c.key)return c.value+" (2)";return"freeform-1"===b?"Custom Section":b}}]),a.filter("crc_sectionNaming_title",function(){return function(a,b){return"header_value_2"===b?""+a+" (2)":"freeform-1"===a?"Custom Section 1":a.replace(/freeform/g,"custom")}}),a.filter("crDate",["$filter","locale",function(a,b){return function(c,d,e){var f,g,h;return h=d?""+d+"_":"",[null,void 0].indexOf(c[""+h+"month"])>-1?"":(f=parseInt(c[""+h+"month"])-1,12>f?"MMM"===e||"Three"===e||"Ap"===e?(g="Short","MMM"!==e&&(g=e),[b.getString("strings.january"+g),b.getString("strings.february"+g),b.getString("strings.march"+g),b.getString("strings.april"+g),b.getString("strings.may"+g),b.getString("strings.june"+g),b.getString("strings.july"+g),b.getString("strings.august"+g),b.getString("strings.september"+g),b.getString("strings.october"+g),b.getString("strings.november"+g),b.getString("strings.december"+g)][f]):"MMMM"===e?[b.getString("strings.january"),b.getString("strings.february"),b.getString("strings.march"),b.getString("strings.april"),b.getString("strings.may"),b.getString("strings.june"),b.getString("strings.july"),b.getString("strings.august"),b.getString("strings.september"),b.getString("strings.october"),b.getString("strings.november"),b.getString("strings.december")][f]:a("date")(a("utc")(c,d),e):["Summer","Fall","Winter","Spring"][f-12])}}]),a.filter("employer_split",["ComponentService",function(a){return function(b,c){var d;return"yes"===a.components.employment.modifiers.split?(d=parseInt(a.components.employment.modifiers.entries_in_first_group),1===c?b.slice(0,d):b.slice(d)):b}}]),a.filter("event.fn",function(){return function(a){return a?{colorsChange:"colors.change",fontsChange:"fonts.change"}[a]||a:a}}),a.filter("addhttp",function(){return function(a){return a.match(/^http/)?a:"http://"+a}}),a.filter("int",function(){return function(a){return parseInt(a)}}),a.filter("modifierFilter",function(){return function(a){return a?a.replace("flex_height_",""):a}}),a.filter("mod_sort",["ComponentService","modifierService",function(a,b){return function(c){var d,e,f,g,h,i,j,k;return e=[],f=[],g=[],i=[],j=[],k=[],h=[],angular.forEach(c,function(c){var d;return a.meetsConstraints(c,c.constraints)?(d=b.aliases[c.type]||c.type,["color","color_none"].indexOf(d)>-1?e.push(c):-1!==["align","configuration","header_orientation","orientation"].indexOf(d)||-1!==["columns","format","header","header_columns","wide_column","wide_column_width","header_wide_column","header_wide_column_width","vertical_align"].indexOf(c.type)?f.push(c):-1!==["font_slider","slider"].indexOf(d)?j.push(c):-1!==["font_weight","font_style"].indexOf(d)?k.push(c):-1!==["padding"].indexOf(d)?i.push(c):c.input?g.push(c):h.push(c)):void 0}),k.length>0&&(k[0].border="top"),h.length>0&&(h[0].border="top"),e.length>0&&(e[0].border="top"),j.length>0&&(j[0].border="top"),i.length>0&&(i[0].border="top"),d=f.concat(k,h,e,j,g,i),d.length>0&&(d[0].border="top",d[d.length-1].border="bottom"),d}}]),a.filter("positionSort",["ResumeService",function(a){return function(b,c){var d,e;return d=[],e=a.selectedId(),angular.forEach(b,function(a){return d.push(a)}),d.sort(function(a,b){return a.item&&b.item?a.item.position[e]>b.item.position[e]?1:-1:a.position&&b.position?a.position[e]>b.position[e]?1:-1:-1}),c&&d.reverse(),d}}]),a.filter("propercase",function(){return function(a){return a.charAt(0).toUpperCase()+a.slice(1)}}),a.filter("resume",["ResumeService",function(a){return function(b){return b?b.filter(function(b){return b.resume_ids.indexOf(a.selectedId())>-1}):[]}}]),a.filter("section_title",["ComponentService",function(a){return function(b){var c,d,e,f;for(f=a.sectionTitles,d=0,e=f.length;e>d;d++)if(c=f[d],c.key===b)return c.value;return b}}]),a.filter("skillSort",["$filter",function(a){return function(b,c){return"pos"===c.sort_by||void 0===c.sort_by?a("positionSort")(b):a("orderBy")(b,c.sortBy)}}]),a.filter("time_elapsed",function(){return function(a){var b;return b=(new Date-a)/1e3,5>b?"just now":60>b?""+Math.floor(b)+" seconds ago":(b/=60,60>b?""+Math.floor(b)+" minute"+(1===Math.floor(b)?"":"s")+" ago":(b/=60,24>b?""+Math.floor(b)+" hour"+(1===Math.floor(b)?"":"s")+" ago":(b/=24,30>=b?""+Math.floor(b)+" day"+(1===Math.floor(b)?"":"s")+" ago":(b/=30,12>b?""+Math.floor(b)+" month"+(1===Math.floor(b)?"":"s")+" ago":(b/=12,""+Math.floor(b)+" year"+(1===Math.floor(b)?"":"s")+" ago")))))}}),a.filter("trusted",["$sce",function(a){return function(b){return a.trustAsHtml(b)}}]),a.filter("utc",function(){return function(a,b){var c,d;return b=b?""+b+"_":"",c=parseInt(a[""+b+"month"])-1||0,d=parseInt(a[""+b+"year"]),0>c&&(c=0),c=Math.max(0,Math.min(11,c)),a=new Date(d,c,1),a.setUTCMinutes(a.getUTCMinutes())}})}.call(this),function(){var a,b,c,d;d=angular.module("presentation"),c=14.4,b=1.44,a=4*b,d.filter("docx.border.height",function(){return function(a){return a?{thin:"1",medium:"3",thick:"10"}[a]:a}}),d.filter("docx.border.size",function(){return function(b){return b?parseInt(parseInt(b)*a).toString():b}}),d.filter("docx.border.size",function(){return function(b){return b?{thin:parseInt(1*a).toString(),medium:parseInt(3*a).toString(),thick:parseInt(10*a).toString()}[b]:b}}),d.filter("docx.color",function(){return function(a){return a?a.replace(/\#/,""):a}}),d.filter("docx.color.prep",function(){return function(a){var b,c;return a?(c=a.split("_"),b=c[0],c[1]&&(b+=c[1][0].toUpperCase()+c[1].slice(1)),b):a}}),d.filter("docx.in",function(){return function(a){return a?(.01*parseInt(a)).toString()+"in":a}}),d.filter("docx.size",function(){return function(a){return a?parseInt(parseInt(a)*b).toString():a}}),d.filter("docx.size.font",function(){return function(a){return a?parseInt((6*parseInt(a)+6)*b).toString():a}}),d.filter("docx.size.line",function(){return function(a){return a?parseInt(parseFloat(a)*b*10).toString():a}}),d.filter("docx.size.nameplate",function(){return function(a){return a?{small:parseInt(30*b).toString(),medium:parseInt(42*b).toString(),large:parseInt(27*b).toString()}[a]:a}}),d.filter("docx.size.pt",function(){return function(a){return a?(72*parseFloat(a)/96*2).toFixed(0).toString():a}}),d.filter("docx.size.sectionHeader",function(){return function(a){return a?{small:parseInt(15*b).toString(),medium:parseInt(21*b).toString(),large:parseInt(27*b).toString()}[a]:a}}),d.filter("docx.twips",function(){return function(a){return a?parseInt(c*a).toString():a}})}.call(this),function(){var a;a=angular.module("presentation"),a.filter("camelCase",function(){return function(a){var b,c,d,e,f,g,h,i,j;if(!a)return a;for(e=[],b=[],j=a.split(" "),f=0,h=j.length;h>f;f++)d=j[f],e.push(d.toLowerCase());for(c=!1,g=0,i=e.length;i>g;g++)d=e[g],c?b.push(d.charAt(0).toUpperCase()+d.slice(1)):(b.push(d),c=!0);return b.join("")}}),a.filter("capitalize",function(){return function(a){return a?a[0].toUpperCase()+a.slice(1):a}}),a.filter("hyphen",function(){return function(a){var b,c,d,e,f;if(!a)return a;for(c=[],f=a.split(" "),d=0,e=f.length;e>d;d++)b=f[d],c.push(b.toLowerCase());return c.join("-")}}),a.filter("underscore",function(){return function(a){var b,c,d,e,f;if(!a)return a;for(c=[],f=a.split(" "),d=0,e=f.length;e>d;d++)b=f[d],c.push(b.toLowerCase());return c.join("_")}}),a.filter("underscore.camelCase",function(){return function(a){var b,c,d,e,f,g,h,i,j;if(!a)return a;for(e=[],b=[],j=a.split("_"),f=0,h=j.length;h>f;f++)d=j[f],e.push(d.toLowerCase());for(c=!1,g=0,i=e.length;i>g;g++)d=e[g],c?b.push(d.charAt(0).toUpperCase()+d.slice(1)):(b.push(d),c=!0);return b.join("")}}),a.filter("unUnderscore",function(){return function(a){var b,c,d,e,f;if(!a)return a;for("string"==typeof a||a instanceof String||(a=String(a)),c=[],f=a.split("_"),d=0,e=f.length;e>d;d++)b=f[d],c.push(b.charAt(0).toUpperCase()+b.slice(1));return c.join(" ")}})}.call(this),function(){var a;a=angular.module("presentation"),a.controller("CustomizerCtrl",["$scope","$rootScope","$timeout","AreaService","ColorService","ComponentService","FontService","HttpService","modifierService","PlacementService","panelService","TreeService",function(a,b,c,d,e,f,g,h,i,j,k,l){var m,n,o=this;return m=i,n=k,a.activeTab="global",a.as=d,a.cs=f,a.pls=j,a.customizerVisible=!1,a.loadCustomizer=!1,a.sectionTitles=[],a.bind={resetBtn:function(){var a;return a="Theme","cover_letter"===b.docType&&(a="Cover Letter Theme"),"Reset "+a},resetMsg:function(){return"cover_letter"===b.docType?"Reset Cover Letter Theme to Match Rsum Theme":"Reset Theme to Defaults"}},a.cl={areaOrderingLegends:function(){return{"one-page":"1"===(f.components.base.modifiers||{}).pages}}},a.globalComponentKeys=["base","section_header","date"],a.globalKeys=["base","section_header"],a.ngif={autoFontSizing:function(){return"fixed"!==(f.fontSizingModifiers[0]||{}).value},format:function(a){return(f.components.base.modifiers||{}).format===a},pages:function(a){return(f.components.base.modifiers||{}).pages===a}},a.regex={integer:/^\d+$/},a.stack={global:["links"],section:["links"]},a.panelPosition={global:{links:"show"},section:{links:"show"}},a.sectionComponentKeys={nameplate:"nameplate",contact:"contact",summary:"summary",education:"education",employment:"employment",skills:"skills",projects:"projects",awards:"awards",activities:"activities","freeform-1":"freeform-1","freeform-2":"freeform-2","freeform-3":"freeform-3",volunteering:"volunteering",cover_letter:"cover_letter","education.placement":"education.placement","employment.placement":"employment.placement","employment.split":"employment.split","awards.placement":"awards.placement","activities.placement":"activities.placement","projects.placement":"projects.placement","volunteering.placement":"volunteering.placement","freeform-1.placement":"freeform-1.placement","freeform-2.placement":"freeform-2.placement","freeform-3.placement":"freeform-3.placement"},a.show={customizer:!1,links:!1},a.validGlobalKey={colorsAndFonts:!1,fontSizing:!1,"page.layout":!1,"section.naming":!1,sectionOrdering:!0},a.validSectionTitles=["nameplate","contact","summary","education","employment","skills","projects","awards","activities","volunteering","cover_letter","freeform-1","freeform-2","freeform-3"],a.$on("buildComplete",function(){return a.loadCustomizer=!0}),a.$on("colors.change",function(){return o.saveCustomStylesheet()}),a.$on("customizer.build",this.build=function(){return setTimeout(function(){return a.$apply(function(){return a.show.customizer=!0}),setTimeout(function(){return a.show.customizerLinks=!0},1e3)},250)}),a.$on("customizer.hide",this.hide=function(){return a.customizerVisible=!1}),a.$on("customizer.show",this.show=function(){return a.customizerVisible=!0,b.$broadcast("help.close"),b.$broadcast("selector.resume.hide"),b.$broadcast("selector.theme.hide"),o.build()}),a.$on("customizer.toggle",function(){return a.customizerVisible||!b.tooltips?a.customizerVisible?o.hide():o.show():void 0}),a.$on("customizer.panel.open",function(d,e){return c(function(){var c,d,f,g,h,i,j,k;for(b.$broadcast("customizer.show"),a.selectTab(e.tab),i=a.stack[e.tab],d=0,g=i.length;g>d;d++)c=i[d],"links"!==c&&a.stackPop(c);for(j=e.path,k=[],f=0,h=j.length;h>f;f++)c=j[f],k.push(a.stackPush(c));return k})}),a.$on("data.layout.get",function(c,d){var e,f,g,h;for(d=d.data,"resume"===b.docType&&(a.globalKeys.indexOf("date")>-1||a.globalKeys.push("date"),a.globalKeys.indexOf("page.layout")>-1||a.globalKeys.splice(1,0,"page.layout"),a.validGlobalKey.colorsAndFonts=!0,a.validGlobalKey.fontSizing=!0,a.validGlobalKey["page.layout"]=!0,a.validGlobalKey["section.naming"]=!0),h=d.person.theme.components,f=0,g=h.length;g>f;f++)e=h[f],a.validSectionTitles.indexOf(e.type)>-1&&o.setSectionTitle(e.type,e.type);
return o.layoutData=d}),a.$on("exportStylesheet",function(a,b){var c,d;return null==b&&(b={}),c=b.callback,d=o.saveCustomStylesheet(!0),c?c(d):void 0}),a.$on("colors.change",function(){return o.saveCustomStylesheet()}),a.$on("fonts.change",function(){return o.saveCustomStylesheet()}),a.$on("getLayoutOptions",function(b,c){return c=c.data,g.setOptions(c.fonts),a.themeNames=c.themes}),a.$on("modifier",function(a,c){return h.postLayoutUpdateModifier(c,function(){return"base"===c.component&&"format"===c.modifier?h.getLayoutData(function(a){return b.$broadcast("data.layout.get",{data:a})}):"base"===c.component&&m.requiresResize(c.modifier)?l.build():"base"===c.component&&"show_links"===c.modifier?b.$broadcast("colors.change"):m.requiresResize(c.modifier)?l.resizeFontSizeToFit():void 0})}),a.$on("modifiers",function(b,c){var d;return d=c.modifiers.header_value,a.sectionComponentKeys[c.component]&&d&&(o.setSectionTitle(c.component,d),a.sectionComponentKeys[c.component]=d,a.sectionComponentKeys[""+c.component+".placement"])?a.sectionComponentKeys[""+c.component+".placement"]=""+d+" Details":void 0}),a.hideCustomizer=function(){return a.customizerVisible?b.$broadcast("customizer.toggle"):void 0},a.openTwoPagesHelp=function(){return b.$broadcast("help.twoPages.open")},a.rebuild=function(){return a.$emit("build")},a.resetTheme=function(){return"resume"===b.docType?b.$broadcast("theme.set",{reset:!0}):h.postThemeCoverLetterReset(function(){return h.getLayoutData(function(a){return b.$broadcast("data.layout.get",{data:a})})})},a.sectionMoveUp=function(b,c){return a.sectionMoveDown(b,c-1)},a.selectExtraComponent=function(b,c){return a.extraComponent[b]=c},a.selectTab=function(b){return a.activeTab=b},a.setFlexPercentage=function(){return l.adjustFlex(parseFloat(a.percentage),!0)},a.setModifier=function(a,c,d,e){var f;return e&&e.$invalid?void 0:(f={component:a,modifier:c,value:d},b.$broadcast("modifier",f),b.$broadcast("modifier."+a,f))},a.stackPop=function(b){var c;return c=a.activeTab,a.panelPosition[c][b]="hide-right",a.stack[c].pop(),a.stack[c].length>0?a.panelPosition[c][a.stack[c].slice(0).pop()]="show":void 0},a.stackPopPush=function(b,c){return a.stackPop(b),a.stackPush(c)},a.stackPush=function(c){var d;return d=a.activeTab,a.stack[d].length>0&&(a.panelPosition[d][a.stack[d].slice(0).pop()]="hide-left"),a.stack[d].push(c),a.panelPosition[d][c]="show","colorsAndFonts"!==c||(g.loadFonts=!0,b.loadedFonts)?void 0:(b.loadedFonts=!0,g.loadMissingFonts())},a.toggleShowReset=function(){return a.showReset=!a.showReset},this.saveCustomStylesheet=function(a){var b,c,d,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B;for(null==a&&(a=!1),j=e.colors,l=g.fonts,v=function(){var b,c;return a?"":(b=document.getElementById("export-style"),b&&b.parentNode.removeChild(b),c=document.createElement("style"),c.appendChild(document.createTextNode("")),c.setAttribute("id","export-style"),document.head.appendChild(c),c.sheet)},b=function(b,c,d){return a?b+=""+c+"{"+d+"}":b.addRule?b.addRule(c,d):b.insertRule&&b.insertRule(""+c+"{"+d+"}",0),b},u=v(),u=b(u,".font-primary","font-family: "+l.primary+" !important"),u=b(u,".font-secondary","font-family: "+l.secondary+" !important"),$(".document-container").attr("data-font-primary",l.primary),h="background-color",k="color",d="border-color",t=["bg","fg","bd"],c=["background-color","color","border-color"],i=["primary","secondary","primary-light","primary-dark","secondary-light","secondary-dark"],p=["primary","secondary","primaryLight","primaryDark","secondaryLight","secondaryDark"],m=w=0,z=t.length;z>=0?z>w:w>z;m=z>=0?++w:--w)for(o=x=0,A=i.length;A>=0?A>x:x>A;o=A>=0?++x:--x)u=b(u,"."+t[m]+"-"+i[o],""+c[m]+": "+j[p[o]]+";"),u=b(u,".grayscale ."+t[m]+"-"+i[o],""+c[m]+": "+j[p[o]+"Gray"]+";"),"fg"===t[m]&&(u=b(u,"."+t[m]+"-"+i[o]+" .contact-icon-link",""+c[m]+": "+j[p[o]]+";"),u=b(u,".grayscale ."+t[m]+"-"+i[o]+" .contact-icon-link",""+c[m]+": "+j[p[o]+"Gray"]+";"));for(o=y=0,B=i.length;B>=0?B>y:y>B;o=B>=0?++y:--y)u=b(u,".hv-"+i[o]+" .contact-icon-link.hover-enabled:hover","color: "+j[p[o]]+";"),u=b(u,".grayscale .hv-"+i[o]+" .contact-icon-link.hover-enabled:hover","color: "+j[p[o]+"Gray"]+";");return q=j.primaryMedium,r=j.primaryDark,s=function(){var a,c;return f.components.base.modifiers?(a="always"!==f.components.base.modifiers.show_links?":hover":"",c={none:"#000",white:"#fff",primary_light:j.primaryLight,primary:j.primary,primary_dark:j.primaryDark,secondary_light:j.secondaryLight,secondary:j.secondary,secondary_dark:j.secondaryDark},q=c[f.components.base.modifiers.link_color]||q,r=c[f.components.base.modifiers.link_hover_color]||r,u=b(u,".document-container"+a+" [markdown-viewer] a, "+(".document-container"+a+" .link a"),"color: "+q),u=b(u,".document-container"+a+" [markdown-viewer] a, "+(".document-container"+a+" .link a"),"text-decoration: underline"),u=b(u,".document-container"+a+" [markdown-viewer] "+("a"+a+", .document-container"+a+" .link a"+a),"color: "+r),u=b(u,".document-container"+a+" .grayscale "+("[markdown-viewer] a, .document-container"+a+" .grayscale .link a"),"color: "+j.primaryMediumGray),u=b(u,".document-container"+a+" .grayscale "+("[markdown-viewer] a"+a+", .document-container"+a+" .grayscale .link ")+("a"+a),"color: "+j.primaryDarkGray),clearInterval(n)):void 0},n=0,a?s():n=setInterval(s,100),u=b(u,".fg-white","color: #fff"),u=b(u,".fg-white .contact-icon-link","color: #fff")},this.setSectionTitle=function(b,c){var d,e,g,h;for(h=a.sectionTitles,e=0,g=h.length;g>e;e++)if(d=h[e],d.key===b)return void(d.value=c);return a.sectionTitles.push({key:b,value:c}),f.sectionTitles=a.sectionTitles}}])}.call(this),function(){var a;a=angular.module("presentation"),a.controller("DocumentCtrl",["$scope","$rootScope","$compile","$filter","$timeout","locale","ColorService","ComponentService","ConfigService","DocxService","ExportService","FontService","HttpService","PageService","ParamService","PlacementService","ResumeService","AreaService","TreeService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){var t=this;return b.mode={quickCustomize:!1},a.active={},a.colors={},a.components=h.components,a.confirmedInvites=0,a.customizerVisible=!1,a.email_resume={},a.employers=[],a.facebook={},a.firstName={},a.github={},a.hasPublished=!1,a.id="",a.lastName={},a.linkedin={},a.linkedinPrefix={},a.location={},a.occupation={},a.phone={},a.projects=[],a.ref="",a.summaries=[],a.twitter={},a.website={},a.websitePrefix={},a.font={primary:"",secondary:""},a.format={date_connector:{dot:".",slash:"/",space:" "},date_period_connector:{dash:" - ",to:" to "},month:{long_name:"MMMM",long_number:"MM",short_name:"MMM",short_number:"M",three_name:"Three",ap_name:"Ap"},year:{"long":"yyyy","short":"yy"}},a.ngClass={document:function(){return{"font-sizing-fixed":"fixed"===(h.fontSizingModifiers[0]||{}).value}}},a.ngif={format:function(a){return(h.components.base.modifiers||{}).format===a}},a.options={dateFormat:"MMM y",monthFormat:"MMM",yearFormat:"y"},this.errorMessages={NoSuchKey:"You'll need to Publish your rsum before you can link to it"},this.watch=!0,$(window).resize(function(){return t.refreshWidth(!0)}),o.theme&&(b.batch||(m.postLayoutThemeDefault({express:o.express,theme:o.theme}),b.newUserSkipThemeSelection=!0)),o.express&&b.$broadcast("build.express.complete"),a.$watch(function(){return $(".document-container, .document-container *").length},function(){return b.hasFocus&&b.gotData&&t.watch?a.$emit("build","",{sections:a.sections,callback:function(){return o["export"]&&t.exportHtml(),t.watch=!1}}):void 0}),e(function(){return o.error?($("#error-modal .message").html(t.errorMessages[o.error]),$("#error-modal").modal({show:!0})):void 0},1e3),$(".main-column").click(function(){return b.$broadcast("selector.resume.hide"),b.$broadcast("selector.theme.hide")}),a.$on("component.activate",a.activateComponent=function(c,d){return a.$apply(function(){var c;return c=a.active[d.component],!c!=!d.active&&b.$broadcast("build"),a.active[d.component]=d.active})}),a.$on("customizer.hide",a.hideCustomizer=function(){return a.customizerVisible=!1,t.refreshWidth(!1),e(function(){return t.refreshWidth(!0)},0)}),a.$on("customizer.show",a.showCustomizer=function(){return a.customizerVisible=!0,t.refreshWidth(!1),e(function(){return t.refreshWidth(!0)},0)}),a.$on("customizer.toggle",a.toggleCustomizer=function(){return a.customizerVisible||!b.tooltips?(a.customizerVisible=!a.customizerVisible,t.refreshWidth(!1),e(function(){return t.refreshWidth(!0)},0)):void 0}),a.$on("data.coverLetter.get",a.getCoverLetterData=function(c,d){var f;return f=d.data.person,f.confirmed_invites>=1?t.applyContentData(f):b.$broadcast("showCoverLetterModal"),a.$broadcast("loadedDocumentData"),b.$broadcast("getUserAttributes",{referralCode:a.ref}),e(function(){return a.rootInclude=a.components.base.path},0)}),a.$on("data.document.get",a.getDocumentData=function(c,d){var f,g,h,i,j;if(f=d.data.person,t.applyContentData(f),a.content=f,b.$broadcast("components.empty",t.getEmptyComponents(a.content)),b.$broadcast("getUserAttributes",{confirmedInvites:a.confirmedInvites,referralCode:a.ref}),b.email=f.email,[null,void 0,""].indexOf(b.email)>1)for(j=f.resumes,h=0,i=j.length;i>h;h++)g=j[h],g.selected&&(b.email=f.email_resume[g.id]);return a.$broadcast("loadedDocumentData"),e(function(){return a.rootInclude=a.components.base.path},0)}),a.$on("data.document.request",function(b,c){return a.$broadcast("data."+c+".get",a.content[c])}),a.$on("data.layout.get",function(b,c){var d;return d=c.data.person,a.areaFormat=d.theme.area_format,g.setColors(d.theme.colors),l.setFonts(d.theme.fonts),h.build(d.theme),r.setAreaFormat(d.theme.area_format),p.setThemeId(d.theme.id),s.bindingComplete=!0}),a.$on("embed",a.embed=function(){var a,b,c,d,e,f;return d=$("#embed-modal"),a=$("#embed-modal code"),e=""+i.presentationUrl+"/embed/"+q.selectedUuid(),f=$(".a4").length>0?"827":"850",c=$(".a4").length>0?"1168":"1100",b='&lt;iframe src="'+e+'"<br />&nbsp;&nbsp;width="'+f+'" height="'+c+'" seamless&gt;&lt;/iframe&gt;',a.html(b),$("#embed-modal").modal({show:!0})}),a.$on("export",a["export"]=function(){var c;return j.init(),c={code:o.code||null,commands:s.exportCommands(),firstName:a.firstName[q.selectedId()],lastName:a.lastName[q.selectedId()],numbering:j.numbering,person:q.selectedUuid(),styles:j.exportStyles()},m.postExport(c,function(){return b.$broadcast("showDocxModal")})}),a.$on("extras.unlock.start",function(){return m.postUnlockExtras(t.unlockExtras)}),a.$on("facebook.invite",a.inviteFacebook=function(){return FB.ui({method:"share",href:"http://creddle.io/ref/"+a.ref},function(a){return a&&!a.error_code?m.postUnlockExtras(t.unlockExtras):void 0})}),a.$on("facebook.share",a.shareFacebook=function(){return FB.ui({method:"share_open_graph",action_type:"creddle:create",action_properties:JSON.stringify({resume:"https://resume.creddle.io/resume/"+q.selectedUuid()})},function(){return{}})}),a.$on("grayscale.toggle",a.toggleGrayscale=function(){return void 0===a.grayscale&&(a.grayscale=!1),a.grayscale=!a.grayscale}),a.$on("html.export.express.docx",a.docxExpressExportHtml=function(){var b;return j.init(),b={code:o.code||null,commands:s.exportCommands(),firstName:a.firstName[q.selectedId()],lastName:a.lastName[q.selectedId()],numbering:j.numbering,person:q.selectedUuid(),styles:j.exportStyles()},$("#export-container").html(JSON.stringify(b))}),a.$on("html.export.express.pdf",a.pdfExpressExportHtml=function(){return b.$broadcast("exportStylesheet",{callback:function(b){var c,d;return d=""+a.firstName[q.selectedId()]+" "+a.lastName[q.selectedId()],c=k.html(s.root(),b,a.hasPublished,d,!1,!1)}})}),a.$on("locale.change",function(){return f.ready("strings").then(function(){return a.format.date_period_connector.to=" "+(f.getString("strings.to")||"to")+" "})}),a.$on("linkedin.invite",a.inviteLinkedIn=function(){return IN.UI.Share().params({url:"http://creddle.io/ref/"+a.ref}).place()}),a.$on("linkedin.share",a.shareLinkedIn=function(){return IN.UI.Share().params({url:"https://resume.creddle.io/resume/"+q.selectedUuid()}).place()}),a.$on("mode.toggle",a.toggleMode=function(a){return b.mode[a]=!b.mode[a]}),a.$on("print",a.print=function(){return b.mode.quickCustomize=!1,e(function(){var a;return a=$(".a4").length>0,a&&$("#document-ctrl, #export-container, html, body").addClass("a4"),m.postPrint(),t.exportHtml()})}),a.$on("print.coverLetterResume",a.print=function(){return b.mode.quickCustomize=!1,e(function(){var c;return c=$(".a4").length>0,c&&$("#document-ctrl, #export-container, html, body").addClass("a4"),m.postPrint(),b.$broadcast("exportStylesheet",{callback:function(b){var c,d;return d=""+a.firstName[q.selectedId()]+(""+a.lastName[q.selectedId()]),c=k.html(s.root(),b,a.hasPublished,d,!0,!0,"cover-letter-resume")}})})}),a.$on("print.resumeCoverLetter",a.print=function(){return b.mode.quickCustomize=!1,e(function(){var c;return c=$(".a4").length>0,c&&$("#document-ctrl, #export-container, html, body").addClass("a4"),m.postPrint(),b.$broadcast("exportStylesheet",{callback:function(b){var c,d;return d=""+a.firstName[q.selectedId()]+(""+a.lastName[q.selectedId()]),c=k.html(s.root(),b,a.hasPublished,d,!0,!0,"resume-cover-letter")}})})}),a.$on("publish",a.publish=function(a,c){return null==c&&(c={}),b.mode.quickCustomize=!1,e(function(){return t.exportHtml(!0,(c||{}).callback,c.uuid)})}),a.$on("resume.change",a.resumeChange=function(){return b.firstLoad?(a.$$phase||a.$apply(),e(s.fontResize,500)):void 0}),a.$on("theme.set",function(c,d){var e,f;return f=d.theme,e=d.reset,e?m.postLayoutData({reset:!0},function(){return m.getLayoutData(function(a){return b.$broadcast("data.layout.get",{data:a})})}):d.copyBase?m.postThemeCopyBase({name:f},function(){return m.getLayoutData(function(a){return b.$broadcast("data.layout.base.copy",{data:a})})}):f!==a.theme&&m.postLayoutData({theme:f},function(){return m.getLayoutData(function(a){return b.$broadcast("data.layout.get",{data:a})})}),b.startedDataRequests?void 0:b.$broadcast("content.request")}),a.$on("twitter.invite",a.inviteTwitter=function(){var b,c;return c="Craft%20a%20better%20%23resume%20with%20@creddle.%20Paper-friendly,%20web-friendly,%20and%20free.",b="http://creddle.io/?ref="+a.ref,t.tweet(b,c)}),a.$on("twitter.share",a.shareTwitter=function(){var a,b;return b="I%20created%20a%20%23resume%20on%20@creddle",a="https://resume.creddle.io/resume/"+q.selectedUuid(),t.tweet(a,b)}),a.$on("unpublish",a.unpublish=function(){var c;return c={id:a.id,idResume:q.selectedUuid()},m.postDeleteHtml(c,function(){return b.$broadcast("showUnpublishedModal")},function(){return b.$broadcast("showErrorModal")})}),this.applyContentData=function(b){return a.confirmedInvites=b.confirmed_invites,a.coverLetterContent=b.content,a.email_resume=b.email_resume,a.facebook=b.facebook,a.firstName=b.first_name,a.github=b.github,a.hasPublished=b.has_published,a.id=b.id,a.lastName=b.last_name,a.linkedin=b.linkedin,a.linkedinPrefix=b.linkedin_prefix,a.location=b.location,a.occupation=b.occupation,a.phone=b.phone,a.ref=b.referral_code,a.twitter=b.twitter,a.website=b.website,a.websitePrefix=b.website_prefix,a.employers=b.employers||[],a.projects=b.projects||[],a.summaries=b.summaries||[]},this.getEmptyComponents=function(a){var b,c,d,e,f,g,h,i,j,k;for(b=[],f=["activities","awards","educations","employers","projects","skillGroups","summaries","volunteerings","freeforms"],g=0,i=f.length;i>g;g++)if(e=f[g],0===a[e].length&&("educations"===e&&(e="education"),"employers"===e&&(e="employment"),"summaries"===e&&(e="summary"),"skillGroups"===e&&(e="skills"),"volunteerings"===e?e="volunteering":b.push(e)),"freeforms"===e){for(d=[!0,!0,!0],k=a.freeforms,h=0,j=k.length;j>h;h++)c=k[h],d[c.index]=!1;d[0]&&b.push("freeform-1"),d[1]&&b.push("freeform-2"),d[2]&&b.push("freeform-3")}return{components:b}},this.exportHtml=function(c,d,e){return null==c&&(c=!1),b.$broadcast("exportStylesheet",{callback:function(b){var f,g;return g=""+a.firstName[q.selectedId()]+(""+a.lastName[q.selectedId()]),f=k.html(s.root(),b,a.hasPublished,g,!c),c?m.postSaveHtml(f,e||q.selectedUuid(),function(){return k.clean(),d?d():void 0}):void 0}})},this.refreshWidth=function(){var a,b,c,d;return d=window.innerWidth,a=450,c=850,b=(d-c)/2},this.tweet=function(a,b){var c,d,e,f,g,h;return h=575,c=400,d=($(window).width()-h)/2,f=($(window).height()-c)/2,g="https://twitter.com/intent/tweet?url="+a+"&text="+b,e="status=1,width="+h+",height="+c+",top="+f+",left="+d,window.open(g,"twitter",e)},this.unlockExtras=function(){return $("#cover-letter-modal").modal("hide"),$("#modal-unlocked-extras").modal({show:!0}),a.confirmedInvites<1&&b.$broadcast("extras.unlock"),a.confirmedInvites=Math.max(1,a.confirmedInvites)}}]),a.directive("weight",function(){return function(a,b,c){var d;return d=parseInt(b.css("font-size")),b.css("line-height",""+(d+3)+"px"),d+=c.weight-7,b.css("font-size",""+d+"px")}})}.call(this),function(){var a;a=angular.module("presentation"),a.controller("HelpCtrl",["$scope","$rootScope","$timeout",function(a,b,c){return a.activeGuide=null,a.activeHelp=!1,a.activeHelpCss=!1,a.hiddenSurvey=!1,a.cl={active:function(b){return{active:a.activeGuideCss===b}},activeHelp:function(){return{active:a.activeHelpCss}}},a.$on("help.close",a.closeHelp=function(){return a.activeHelpCss=!1}),a.$on("help.open",a.openHelp=function(){return b.$broadcast("customizer.hide"),b.$broadcast("selector.resume.hide"),b.$broadcast("selector.theme.hide"),c(function(){return a.activeHelpCss=!0},a.activeHelp?0:250),a.activeHelp=!0}),a.$on("help.pdf.open",function(){return a.openHelp(),a.open("pdf")}),a.$on("help.twoPages.open",function(){return a.openHelp(),a.open("two-pages")}),a.active=function(b){return a.activeGuide===b},a.close=function(){return a.activeGuideCss=null,c(function(){return"user-survey"===a.activeGuide&&(a.hiddenSurvey=!0),a.activeGuideCss?void 0:a.activeGuide=null},1e3)},a.open=function(b){return a.activeGuide=b,a.activeGuideCss=b},a.showHelpTooltips=function(){return a.closeHelp(),b.$broadcast("tooltips.show")}}])}.call(this),function(){var a;a=angular.module("presentation"),a.controller("ModalCtrl",["$scope","$rootScope","ConfigService","ResumeService",function(a,b,c,d){var e,f=this;return a.customizerVisible=!1,a.newUserModalReady=!1,a.showCogSpinner=!1,a.showWaitSpinner=!0,a.showPdfModal=!1,a.tweetUrl="",a.bind={resumeName:function(){return d.selectedResume&&d.resumes.length>1?""+d.selectedResume.name+" ":""}},a.href={docxLink:function(){return""+c.presentationUrl+"/resume/docx/"+d.selectedUuid()},resumeLink:function(){return""+c.presentationUrl+"/resume/"+d.selectedUuid()}},a.ngif={show:{review:!1}},a.$on("cog.hide",function(){return f.updateCog(!1)}),a.$on("cog.show",function(){return f.updateCog(!0)}),a.$on("customizer.hide",function(){return a.customizerVisible=!1}),a.$on("customizer.show",function(){return a.customizerVisible=!0}),a.$on("data.document.get",function(b,d){return a.ref=d.data.person.referral_code,a.tweetUrl=["https://twitter.com/intent/tweet?text=Craft%20a%20better%20%23resume%20","with%20@creddle.%20Paper-friendly,%20web-friendly,%20and%20free.","&url=http://creddle.io/ref/"+a.ref].join(""),a.checkoutUrl=""+c.contentUrl+"/?modal=ref"}),a.$on("getUserAttributes",function(b,d){return a.href.referralLink=""+c.landingUrl+"/ref/"+d.referralCode}),a.$on("hideWaitSpinner",function(){return a.showWaitSpinner=!1}),a.$on("modal.review.peer.show",function(){var b,c,d,e;for(a.ngif.show.review=!0,e=$("#modal-review-peer img"),c=0,d=e.length;d>c;c++)b=e[c],$(b).attr("src")||$(b).attr("src",$(b).attr("cr-src"));return $("#modal-review-peer").modal({show:!0})}),a.$on("showCoverLetterModal",function(){var a,b,c,d,e;for($("#cover-letter-modal").modal({show:!0}),d=$("#cover-letter-modal img"),e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push($(a).attr("src")?void 0:$(a).attr("src",$(a).attr("cr-src")));return e}),a.$on("showDocxModal",function(){return $("#docx-modal").modal({show:!0})}),a.$on("showErrorModal",function(){return $("#error-modal").modal({show:!0})}),a.$on("modal.fontSizeWarning.show",function(){return $("#modal-font-size-warning").modal({show:!0})}),a.$on("modal.coverLetterResumePublish.show",function(){return $("#modal-cover-letter-resume-publish").modal({show:!0})}),a.$on("showNewUserModal",function(){return f.showTooltips()}),a.$on("shoePdfModal",function(){var a,b,c,d,e;for($("#pdf-modal").modal({show:!0}),d=$("#pdf-modal img"),e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push($(a).attr("src")?void 0:$(a).attr("src",$(a).attr("cr-src")));return e}),a.$on("showUnpublishedModal",function(){return $("#unpublished-modal").modal({show:!0})}),a.$on("showWaitSpinner",function(){return a.showWaitSpinner=!0}),a.$on("tooltip.font-sizing-scheme",function(){return $("#modal-font-sizing-scheme").modal({show:!0})}),a.$on("tooltip.format",function(){return $("#modal-format").modal({show:!0})}),a.$on("tooltip.private",function(){return $("#modal-private-link").modal({show:!0})}),a.$on("customizer.toggle",function(){return a.customizerVisible=!a.customizerVisible}),a.$on("tooltips.show",function(){return f.showTooltips(!1)}),a.confirmPeerReview=function(){return b.$broadcast("review.peer.confirm")},a.initNewUserModal=function(){return a.newUserModalReady=!0},a.inviteFacebook=function(){return b.$broadcast("facebook.invite")},a.inviteLinkedIn=function(){return b.$broadcast("linkedin.invite")},a.showPageModifiers=function(){return b.$broadcast("customizer.panel.open",{path:["page.layout"],tab:"global"})},this.showTooltips=function(c){var d;return null==c&&(c=!0),b.tooltips=!0,$(".pop-1, .pop-2, .pop-3").popover({trigger:"manual"}),$(".pop-1").popover("show"),a.popovers=!0,d=function(){return b.$broadcast("customizer.toggle"),$("#colors-component").click(),setTimeout(function(){return $("#start-data-requests").click(),b.$broadcast("requests.start"),b.$broadcast("cog.show")},500)},setTimeout(function(){return $(document).unbind("click.popover"),$(document).bind("click.popover",function(){return $(".pop-1").popover("hide"),$(".pop-2").popover("show"),$(document).unbind("click.popover"),$(document).bind("click.popover",function(){return $(".pop-2").popover("hide"),$(".pop-3").popover("show"),$(document).unbind("click.popover"),$(document).bind("click.popover",function(){return $(".pop-3").popover("hide"),$(document).unbind("click.popover"),b.tooltips=!1,a.popovers=!1,c?b.newUserSkipThemeSelection?d():(b.$broadcast("showThemeSelectionApply"),$("#theme-selection-modal").on("hidden.bs.modal",function(){return setTimeout(function(){return d()},1500)})):void 0})})})},0)},this.updateCog=function(b){return a.$$phase?a.showCogSpinner=b:a.$apply(function(){return a.showCogSpinner=b})},window.twttr&&twttr.ready(function(a){return a.events.bind("tweet",function(){return b.$broadcast("extras.unlock.start")})}),e=setInterval(function(){return a.newUserModalReady?(clearInterval(e),$("#new-user-modal").on("hidden.bs.modal",function(){return a.newUserModalVisible&&(b.$broadcast("showThemeSelectionApply"),$("#theme-selection-modal").on("hidden.bs.modal",function(){return setTimeout(function(){return b.$broadcast("customizer.toggle"),$("#colors-component").click(),setTimeout(function(){return $("#start-data-requests").click(),b.$broadcast("requests.start"),b.$broadcast("cog.show")},500)},1500)})),a.newUserModalVisible=!1})):void 0},1e3)}])}.call(this),function(){var a;a=angular.module("presentation"),a.controller("NavbarCtrl",["$scope","$rootScope","$timeout","ConfigService","HttpService","MetadataService","ResumeService",function(a,b,c,d,e,f,g){var h=this;return this.saveMessageTimeout=1,a.customizerVisible=!1,a.confirmedInvites=0,a.disposable=window.disposable,a.isResume=!0,a.selectedResumeColor="transparent",a.cl={resumes:function(){return{hide:g.resumes.length<2}},secondary:function(){return{disposable:a.disposable,"off-canvas-left":a.customizerVisible}}},a.href={content:""+d.contentUrl+"/",logout:""+d.presentationUrl+"/"+SIGN_OUT_PATH,settings:""+d.contentUrl+"/persons/settings",docx:function(){return""+d.presentationUrl+"/resume/docx/"+g.selectedUuid()},link:function(){return""+d.presentationUrl+"/resume/"+g.selectedUuid()},review:function(){return""+d.presentationUrl+"/review/"+g.selectedRevisionUuid()}},a.$on("getUserAttributes",function(b,c){return a.confirmedInvites=c.confirmedInvites}),a.$on("customizer.hide",function(){return a.customizerVisible=!1}),a.$on("customizer.show",function(){return a.customizerVisible=!0}),a.$on("customizer.toggle",function(){return a.customizerVisible||!b.tooltips?a.customizerVisible=!a.customizerVisible:void 0}),a.$on("extras.unlock",function(){return a.confirmedInvites=1}),a.$on("getDocType",function(b,c){return"cover_letter"===c?(a.isResume=!1,a.isCoverLetter=!0):void 0}),a.$on("resume.change",function(b,c){var d;return d=c.base?"transparent":c.color,a.selectedResumeColor=d}),a.$on("review.peer.confirm",this.confirmPeerReview=function(){return b.$broadcast("publish",{callback:function(){return f.seenReview()?window.location=a.href.review():e.postContentPersonMetadataUpdate({seen_review:!0},function(){return $("#modal-peer-review").modal("hide"),window.location=a.href.review()},function(){return $("#modal-peer-review").modal("hide"),b.$broadcast("showErrorModal")})},uuid:g.selectedRuuid()})}),a.$on("showSavedMessage",function(a,b){var d;return b.message||(b.message="Published"),h.saveMessageTimeout++,d=h.saveMessageTimeout,c(function(){return d===h.saveMessageTimeout&&($(".save-message").html(b.message),d===h.saveMessageTimeout)?c(function(){return d===h.saveMessageTimeout?$(".save-message").fadeOut():void 0},3e3):void 0},3e3)}),a.$on("showSavingMessage",function(a,b){return b.message||(b.message="Publishing..."),$(".save-message").html(b.message),$(".save-message").stop(),$(".save-message").show()}),a.coverLetter=function(){return a.confirmedInvites>=1?window.location="/cover_letter":e.getCoverLetterStatus(function(c){return c===!0?(a.confirmedInvites=1,window.location="/cover_letter"):b.$broadcast("showCoverLetterModal")},function(){return console.log("failure"),b.$broadcast("showCoverLetterModal")})},a.embed=function(){return b.$broadcast("embed")},a["export"]=function(){return b.$broadcast("export")},a.inviteFacebook=function(){return b.$broadcast("facebook.invite")},a.inviteLinkedIn=function(){return b.$broadcast("linkedin.invite")},a.inviteTwitter=function(){return b.$broadcast("twitter.invite")},a.openHelp=function(){return b.$broadcast("help.open")},a.print=function(a){return b.$broadcast("cover-letter-resume"===a?"print.coverLetterResume":"resume-cover-letter"===a?"print.resumeCoverLetter":"print")},a.printPdf=function(){return b.$broadcast("help.pdf.open")},a.publish=function(){return b.$broadcast("publish")},a.requestPeerReview=function(){return f.seenReview()?h.confirmPeerReview():b.$broadcast("modal.review.peer.show")},a.shareFacebook=function(){return b.$broadcast("facebook.share")},a.shareLinkedIn=function(){return b.$broadcast("linkedin.share")},a.shareTwitter=function(){return b.$broadcast("twitter.share")},a.showHelpModal=function(){return b.$broadcast("showHelpModal")},a.showPdf=function(){return b.$broadcast("showPdfModal")},a.showResumeSelector=function(){return b.$broadcast("selector.resume.toggle")},a.showThemeSelection=function(){return b.$broadcast("selector.theme.toggle")},a.toggleCustomizer=function(){return b.$broadcast("customizer.toggle")},a.tooltipPrivate=function(){return b.$broadcast("tooltip.private")},a.unpublish=function(){return b.$broadcast("unpublish")}}])}.call(this),function(){var a;a=angular.module("presentation"),a.controller("ResumeCtrl",["$scope","$rootScope","HttpService","ResumeService",function(a,b,c,d){var e=this;return this.colorMap={black:"#444444",blue:"#1E88E5",brown:"#D81B60",cyan:"#00ACC1",green:"#43A047",red:"#F97D08",purple:"#5E35B1"},a.disposable=window.disposable,a.selectedResume={},a.selecting=!1,a.show=!1,a.cl={button:function(a){return{selected:a.selected}},selector:function(){return{show:a.show}}},a.$on("data.coverLetter.get",function(a,b){return e.onDataReceived(a,b)}),a.$on("data.document.get",function(a,b){return e.onDataReceived(a,b)}),a.$on("data.resumes.get",function(a,b){return e.onDataReceived(a,b)}),a.$on("selector.resume.show",function(){return e.show()}),a.$on("selector.resume.toggle",a.toggle=function(){return a.show?(e.hide(),b.$broadcast("selector.theme.hide")):(e.show(),b.$broadcast("customizer.hide"))}),a.$on("selector.theme.hide",this.hide=function(){return a.show=!1}),a.$on("selector.theme.show",function(){return e.show()}),a.select=function(e,f){return null==f&&(f=!0),f&&c.postResumeSelect(e.id),a.selectedResume.selected=!1,a.selectedResume=e,a.selectedResume.selected=!0,setTimeout(function(){return d.selectedResume=a.selectedResume,b.$broadcast("resume.change",a.selectedResume)},500)},this.onDataReceived=function(b,c){var f,g,h,i;for(a.resumes=c.data.person.resumes,i=a.resumes,g=0,h=i.length;h>g;g++)f=i[g],f.colorKey||(f.colorKey=f.color,f.color=e.colorMap[f.colorKey]),f.selected&&(a.selectedResume=f);return d.resumes=a.resumes,a.select(a.selectedResume,!1)},this.show=function(){return d.resumes.length>1?(a.show=!0,b.$broadcast("help.close")):void 0}}])}.call(this),function(){var a;a=angular.module("presentation"),a.controller("ThemeCtrl",["$scope","$rootScope","$filter","crFocus","HttpService","ResumeService",function(a,b,c,d,e,f){var g,h=this;return g=d,a.editingTheme=!1,a.hoverType=null,a.loadModal=!1,a.pendingTheme=null,a.selectedEditingTheme={},a.selectedTheme={},a.selectorType="base",a.theme="",a.cl={helpText:function(b){return{hide:null!==a.hoverType&&a.hoverType!==b||null===a.hoverType&&a.selectorType!==b}},rowLink:function(b){return{selected:a.selectedTheme===b}},selector:function(){return{"below-resumes":f.resumes.length>1,show:a.loadModal}},selectorType:function(b){return{selected:a.selectorType===b}},themeEditBtn:function(){return{invisible:a.editingTheme}}},a.themes=["Almada","Apollo","Bristol","Chelsea","Edsall","Marianas","Quantico","Tahoe","Urbana","Zurich"],a.$on("data.layout.get",function(c,d){var e,f,g,h,i;for(a.loaded=!0,a.type=d.data.person.theme.name,b.theme=a.type,a.savedThemes=d.data.person.themes,a.selectorType="saved",e=d.data.person.theme.id,i=a.savedThemes,g=0,h=i.length;h>g;g++)if(f=i[g],f.id===e){a.selectedTheme=f;break}return null}),a.$on("getLayoutOptions",function(b,c){return a.themes=c.data.themes}),a.$on("selector.theme.hide",function(){var c;return c=function(){return a.loadModal=!1},a.$$phase||b.$$phase?c():a.$apply(c)}),a.$on("selector.theme.show",function(){return b.tooltips?void 0:a.loadModal=!0}),a.$on("selector.theme.toggle",function(){var c;return a.loadModal=!a.loadModal,c=a.loadModal?"show":"hide",b.$broadcast("selector.theme."+c),"show"===c?b.$broadcast("customizer.hide"):void 0}),a.$on("showThemeSelectionApply",function(){return b.$broadcast("selector.resume.show"),a.$apply(function(){return a.loadModal=!0})}),a.$on("theme.copy.base",function(a,c){return b.readyForPrebuild=!1,b.$broadcast("cog.show"),b.$broadcast("theme.set",{theme:c,copyBase:!0})}),a.$on("theme.update",function(a,c){return b.readyForPrebuild=!1,b.$broadcast("cog.show"),b.$broadcast("theme.set",{theme:c})}),a.cancelSavedThemeCopy=function(){return a.editingTheme=!1,a.pendingTheme=null},a.cancelSavedThemeDelete=function(a,b){return b.stopPropagation(),a.deleting=!1},a.cancelSavedThemeEdit=function(){return a.editingTheme=!1,a.selectedEditingTheme.editing=!1},a.confirmSavedThemeCopy=function(){var b;return b={savedName:a.pendingTheme.savedName},e.postThemeCopy(a.copiedTheme.id,b,function(b){return a.pendingTheme.id=b.id,a.savedThemes.push(angular.extend({},a.pendingTheme)),a.selectedTheme=a.savedThemes[a.savedThemes.length-1],a.editingTheme=!1,a.pendingTheme=null})},a.confirmSavedThemeDelete=function(b,c){var d,f;return c.stopPropagation(),d=a.savedThemes.indexOf(b),f=d,b===a.selectedTheme&&d+1>=a.savedThemes.length&&d--,e.postThemeDelete(b.id,function(){return a.savedThemes.splice(f,1),b===a.selectedTheme?h.select(a.savedThemes[d]):void 0
})},a.confirmSavedThemeEdit=function(){var b,c;return c=a.selectedEditingTheme,b={saved_name:c.savedName},e.postThemeData(c.id,b,function(){return a.editingTheme=!1})},a.linkOut=function(){return a.hoverType=null},a.linkOver=function(b){return a.hoverType=b},a.requestSavedThemeCopy=function(b,c){return c.stopPropagation(),a.savedThemes.length>4?void 0:(a.copiedTheme=b,a.pendingTheme={editing:!0,savedName:""+b.savedName+" Copy"},a.editingTheme=!0,g("theme.pending"))},a.requestSavedThemeDelete=function(a,b){return b.stopPropagation(),a.deleting=!0},a.requestSavedThemeEdit=function(b,c,d){return d.stopPropagation(),b.editing=!0,a.editingTheme=!0,a.selectedEditingTheme=b,g("theme."+c)},a.select=function(c){return a.editing?void 0:(a.loaded=!0,e.postThemeSelect(c.id,function(){return b.readyForPrebuild=!1,b.$broadcast("cog.show"),a.selectedTheme=c,e.getLayoutData(function(a){return b.$broadcast("data.layout.get",{data:a}),b.$broadcast("selector.theme.hide")})}))},a.setSelectorType=function(b){return a.selectorType=b}}])}.call(this),function(){var a;a=angular.module("presentation"),a.controller("ActivitiesCtrl",["$scope","$rootScope","DateService","PlacementService","PlacementComponentCtrlFactory",function(a,b,c,d,e){var f=this;return a=angular.extend(a,e),a.init("activities"),a.repeaters=d.repeaters.activities,a.src.date="/views/components/shared/date_range.html",a.type="activities",a.bind||(a.bind={}),a.bind.separator=function(){return a.bindSeparator(a.modifiers)},a.cl.columns=function(){return{"col-md-12":"2"!==a.modifiers.columns,"col-md-6":"2"===a.modifiers.columns}},c.apply(a),a.separatorDateNotNull=function(a){return null!==a.startDate.year||null!==a.endDate.year},a.$on("data.activities.get",function(b,c){return a.activities=c,f.formatActivities(),a.list=a.activities}),this.formatActivities=function(){var b,c,d,e,f;for(e=a.activities,f=[],c=0,d=e.length;d>c;c++)b=e[c],b.startDate={month:b.start_month,year:b.start_year},b.endDate={month:b.end_month,year:b.end_year},delete b.start_month,delete b.start_year,delete b.end_month,f.push(delete b.end_year);return f},a.$emit("data.document.request","activities")}])}.call(this),function(){var a;a=angular.module("presentation"),a.controller("AwardsCtrl",["$scope","$rootScope","PlacementService","PlacementComponentCtrlFactory",function(a,b,c,d){var e=this;return this.$rootScope=b,this.PlacementService=c,a=angular.extend(a,d),a.init("awards"),a.repeaters=c.repeaters.awards,a.type="awards",a.bind||(a.bind={}),a.bind.separator=function(){return a.bindSeparator(a.modifiers)},a.cl.columns=function(){return{"col-md-12":"2"!==a.modifiers.columns,"col-md-6":"2"===a.modifiers.columns}},a.separatorDateNotNull=function(a){return null!==a.date.year},a.$on("data.awards.get",function(b,c){return a.awards=c,e.formatAwards(),a.list=a.awards}),this.formatAwards=function(){var b,c,d,e;for(e=a.awards,c=0,d=e.length;d>c;c++){if(b=e[c],b.date&&b.date.month&&b.date.year)return;b.date={month:b.month,year:b.year},delete b.month,delete b.year}},a.$emit("data.document.request","awards")}])}.call(this),function(){var a;a=angular.module("presentation"),a.controller("BaseCtrl",["$scope","$rootScope","ComponentCtrlFactory","ClassService","PageService",function(a,b,c,d,e){var f,g,h;return a=angular.extend(a,c),a.init("base"),(g=a.modifiers).format||(g.format="simple"),a.pageGap=50,a.type="base",f=a.modifiers,(h=a.cl).container||(h.container=function(){return{"no-vertical-padding":"2"===f.columns&&"right"===f.wide_column&&"no"===f.header,a4:"a4"===f.paper_size}}),a.cl.area1=function(a){return 2===a&&"yes"===f.second_page_one_column?{"col-md-12":!0}:{fill:"2"===f.header_columns,"col-md-12":"1"===f.header_columns,"col-md-9":"2"===f.header_columns&&"left"===f.header_wide_column&&"extra_wide"===f.header_wide_column_width,"col-md-8":"2"===f.header_columns&&"left"===f.header_wide_column&&"wide"===f.header_wide_column_width,"col-md-6":"2"===f.header_columns&&"none"===f.header_wide_column,"col-md-4":"2"===f.header_columns&&"right"===f.header_wide_column&&"wide"===f.header_wide_column_width,"col-md-3":"2"===f.header_columns&&"right"===f.header_wide_column&&"extra_wide"===f.header_wide_column_width}},a.cl.area2=function(a){return 2===a&&"yes"===f.second_page_one_column?{"col-md-12":!0}:{fill:"2"===f.header_columns,"col-md-12":"1"===f.header_columns,"col-md-9":"2"===f.header_columns&&"right"===f.header_wide_column&&"extra_wide"===f.header_wide_column_width,"col-md-8":"2"===f.header_columns&&"right"===f.header_wide_column&&"wide"===f.header_wide_column_width,"col-md-6":"2"===f.header_columns&&"none"===f.header_wide_column,"col-md-4":"2"===f.header_columns&&"left"===f.header_wide_column&&"wide"===f.header_wide_column_width,"col-md-3":"2"===f.header_columns&&"left"===f.header_wide_column&&"extra_wide"===f.header_wide_column_width}},a.cl.area3=function(a){return 2===a&&"yes"===f.second_page_one_column?{"col-md-12":!0}:angular.extend(d.clColorsBg(f,"left_background_color"),{fill:"2"===f.columns,"col-md-12":"1"===f.columns,"col-md-9":"2"===f.columns&&"left"===f.wide_column&&"extra_wide"===f.wide_column_width,"col-md-8":"2"===f.columns&&"left"===f.wide_column&&"wide"===f.wide_column_width,"col-md-6":"2"===f.columns&&"none"===f.wide_column,"col-md-4":"2"===f.columns&&"right"===f.wide_column&&"wide"===f.wide_column_width,"col-md-3":"2"===f.columns&&"right"===f.wide_column&&"extra_wide"===f.wide_column_width,"left-panel":"2"===f.columns&&"right"===f.wide_column&&"no"===f.header,"right-panel-left":"2"===f.columns&&"left"===f.wide_column&&"no"===f.header})},a.cl.area4=function(a){return 2===a&&"yes"===f.second_page_one_column?{"col-md-12":!0}:angular.extend(d.clColorsBg(f,"right_background_color"),{fill:"2"===f.columns,"right-panel":"2"===f.columns&&"left"===f.wide_column&&"no"===f.header,"left-panel-right":"2"===f.columns&&"right"===f.wide_column&&"no"===f.header,"col-md-12":"1"===f.columns,"col-md-9":"2"===f.columns&&"right"===f.wide_column&&"extra_wide"===f.wide_column_width,"col-md-8":"2"===f.columns&&"right"===f.wide_column&&"wide"===f.wide_column_width,"col-md-6":"2"===f.columns&&"none"===f.wide_column,"col-md-4":"2"===f.columns&&"left"===f.wide_column&&"wide"===f.wide_column_width,"col-md-3":"2"===f.columns&&"left"===f.wide_column&&"extra_wide"===f.wide_column_width})},a.cl.sideWrapper=function(){return{"left-panel-wrapper":"2"===f.columns&&"right"===f.wide_column,"right-panel-wrapper":"2"===f.columns&&"left"===f.wide_column}},a.cl.topHeader=function(a){return 1===a||"yes"===f.second_page_nameplate?2===a&&"no"===f.header?d.clColorsBg(f,"left_background_color"):d.clColorsBg(f,"top_background_color"):void 0},a.dim={documentHeight:function(){return e.dim.pageHeight()*e.pages+100*e.pages-100}},a.ngif=angular.extend(a.ngif||{},{showHeader:function(a){return"yes"===f.header||2===a&&"yes"===f.second_page_one_column},showPageFooter:function(){return"yes"===f.page_footer}}),a.pages=function(){return parseInt(a.modifiers.pages)||1},a.pageArray=function(){var b,c,d,e;for(b=[],c=d=0,e=a.pages();e>=0?e>d:d>e;c=e>=0?++d:--d)b.push(c);return b},a.pageHeight=function(){return e.dim.pageHeight()},a.setPaperSize=function(a){return $("body").removeClass("letter"),$("body").removeClass("a4"),$("body").addClass(a)},a.$on("modifier.base",function(c,d){return a.setModifier(d.modifier,d.value),"format"===d.modifier&&"simple"===d.value&&b.$broadcast("area.moveTo.simple"),"pages"===d.modifier&&"1"===d.value&&b.$broadcast("area.moveTo.onePage"),"pages"===d.modifier&&b.$broadcast("pages.update",d.value),"page_break_section_split"===d.modifier&&b.$broadcast("sectionSplit.update",d.value),"paper_size"===d.modifier?a.setPaperSize(d.value):void 0}),a.$on("modifiers.base",function(c,d){return a.setModifiers(d.modifiers),a.setPaperSize(d.modifiers.paper_size),b.readyForPrebuild=!0,b.$broadcast("pages.update",d.modifiers.pages),b.$broadcast("sectionSplit.update",d.modifiers.page_break_section_split)}),a.$on("pages.update",function(b,c){return a.modifiers.pages=c}),a.$on("setSections",function(b,c){return a.sections=c.sections}),b.onBaseReady()}])}.call(this),function(){var a;a=angular.module("presentation"),a.controller("ContactCtrl",["$scope","ComponentCtrlFactory","ClassService","ResumeService",function(a,b,c,d){var e;return a=angular.extend(a,b,c),a.init("contact"),a.type="contact",a.bind={email_resume:function(){return a.email_resume[d.selectedId()]},facebook:function(){return a.facebook[d.selectedId()]},github:function(){return a.github[d.selectedId()]},linkedin:function(){return a.linkedin[d.selectedId()]},linkedinPrefix:function(){return a.linkedinPrefix[d.selectedId()]||"linkedin.com/"},location:function(){return a.location[d.selectedId()]},phone:function(){return a.phone[d.selectedId()]},twitter:function(){return a.twitter[d.selectedId()]},website:function(){return a.website[d.selectedId()]},websitePrefix:function(){return a.websitePrefix[d.selectedId()]||"http://"}},a.src=angular.extend(a.src,{content:"/views/components/contact/components/content.html",horizontal:"/views/components/contact/components/horizontal.html",social:"/views/components/contact/components/social.html",vertical:"/views/components/contact/components/vertical.html"}),e=a.modifiers,a.cl.base=function(){return angular.extend(c.clColorsFg(e,"link_color"),c.clColorsHv(e,"link_hover_color"),{"align-center":"horizontal"===e.orientation&&"center"===e.align,"align-right":"horizontal"===e.orientation&&"right"===e.align,"align-middle":"middle"===e.vertical_align,"align-bottom":"bottom"===e.vertical_align,"cr-c-horizontal":"horizontal"===e.orientation})},a.cl.horizontal=function(){return{"inline-left":"horizontal"===e.orientation&&"no"===e.stack_rows&&"right"!==e.align,"inline-right":"horizontal"===e.orientation&&"right"===e.align}},a.cl.horizontalBlock=function(){return{"inline-block":"horizontal"===e.orientation&&"center"===e.align}},a.cl.horizontalLink=function(){return{"cr-contact-details-wide":"wide"===e.detail_column_width,"cr-contact-two-column":"two_column"===e.configuration,"cr-ct-bold":"bold"===e.contact_type_font_weight,"cr-ct-lower":"lower"===e.contact_type_case,"cr-ct-upper":"upper"===e.contact_type_case,"inline-left":"horizontal"===e.orientation,clearfix:"vertical"===e.orientation}}}])}.call(this),function(){var a;a=angular.module("presentation"),a.controller("EducationCtrl",["$scope","$filter","DateService","PlacementComponentCtrlFactory","PlacementService",function(a,b,c,d,e){var f=this;return a=angular.extend(a,d,e),a.init("education"),a.repeaters=e.repeaters.education,a.src.date="/views/components/shared/date_range.html",a.src.item="/views/components/education/components/item.html",a.type="education",a.bind||(a.bind={}),a.bind.separator=function(){return a.bindSeparator(a.modifiers)},c.apply(a),a.separatorDateNotNull=function(a){return null!==a.startDate.year||null!==a.endDate.year},a.cl.columns=function(){return{"col-md-12":"2"!==a.modifiers.columns,"col-md-6":"2"===a.modifiers.columns}},a.cl.degree=function(){return{"font-primary":"primary"===a.modifiers.degree_font,"font-secondary":"secondary"===a.modifiers.degree_font}},a.cl.note=function(){return{"font-primary":"primary"===a.modifiers.note_font,"font-secondary":"secondary"===a.modifiers.note_font}},this.formatEducations=function(){var b,c,d,e,f,g,h,i,j,k,l,m,n;for(k=a.educations,e=0,h=k.length;h>e;e++)for(c=k[e],l=c.degrees,f=0,i=l.length;i>f;f++)b=l[f],b.field=$("<span>"+b.field+"</span>").text(),b.degree=$("<span>"+b.degree+"</span>").text();for(m=a.educations,n=[],g=0,j=m.length;j>g;g++)d=m[g],d.startDate||(d.startDate={month:d.start_month,year:d.start_year}),d.endDate||(d.endDate={month:d.end_month,year:d.end_year}),delete d.start_month,delete d.start_year,delete d.end_month,n.push(delete d.end_year);return n},a.$on("data.educations.get",function(b,c){return a.educations=c,f.formatEducations(),a.list=a.educations}),a.$emit("data.document.request","educations")}])}.call(this),function(){var a;a=angular.module("presentation"),a.controller("EmploymentCtrl",["$scope","$rootScope","PlacementService","ComponentCtrlFactory","ClassService","ResumeService",function(a,b,c,d,e,f){var g=this;return a=angular.extend(a,d),a.init("employment"),a.repeaters=c.repeaters.employment,a.type="employment",a.cl.columns=function(){return{"col-md-12":"1"===a.modifiers.columns,"col-md-6":"2"===a.modifiers.columns}},a.src=angular.extend(a.src||{},{content:"/views/components/employment/components/content.html",date:"/views/components/employment/components/date.html",details:"/views/components/employment/components/details.html",item:"/views/components/employment/components/item.html",name:"/views/components/employment/components/name.html",location:"/views/components/employment/components/location.html",title:"/views/components/employment/components/title.html"}),a.cl.title=function(){return angular.extend({bold:"bold"===a.modifiers.title_font_weight,italic:"italic"===a.modifiers.title_font_style},e.clColorsFg(a.modifiers,"title_color"))},a.$on("data.employers.get",function(b,c){return a.employers=c,a.list=a.employers,g.sort()}),a.$on("placement.change",function(){return a.repeaters=c.repeaters.employment,a.$$phase||a.$apply(),b.$broadcast("cog.show"),b.$broadcast("build")}),a.$on("resume.change",this.sort),a.setModifier_=a.setModifier,a.setModifiers_=a.setModifiers,a.bind=angular.extend(a.bind||{},{separator:function(){return a.bindSeparator(a.modifiers)}}),a.separatorDateNotNull=function(a){return null!==a.startDate.year||null!==a.endDate.year},a.setModifier=function(b,c){return a.setModifier_(b,c)},a.setModifiers=function(b){return a.setModifiers_(b)},a.showSeparator=function(b,c,d,e,f){var g,h,i,j,k,l,m;try{if(g=a.list[b],h=a.list[b].employments[c],i=function(a){return"name"===a?g[a]:"title"===a||"location"===a?h[a]:"date"===a?h.dates.length>0?"_":"":null},j=a.repeaters[d][e][f],m=i(j),"date"===j&&"two_column"===a.modifiers.configuration)return!1;for(l="";f>=0&&0===l.length;)f--,k=a.repeaters[d][e][f],l=i(k),("name"===k&&c>0||"date"===k&&"two_column"===a.modifiers.configuration)&&(l="");return l.length>0&&m.length>0}catch(n){return!1}},this.sort=function(){var b;return b=f.selectedId(),b?a.list=a.list.sort(function(a,c){return void 0===a.position[b]?1:void 0===c.position[b]?-1:a.position[b]>c.position[b]?1:-1}):void 0},delete a.setModifier,delete a.setModifiers,a.$emit("data.document.request","employers")}])}.call(this),function(){var a;a=angular.module("presentation"),a.controller("FreeformsCtrl",["$scope","$element","$rootScope","DateService","PlacementService","PlacementComponentCtrlFactory",function(a,b,c,d,e,f){var g=this;return a=angular.extend(a,f),a.repeaters=[],a.type="freeforms",a.bind||(a.bind={}),a.bind.separator=function(){return a.bindSeparator(a.modifiers)},a.initFreeforms=function(){var c,f,g,h,i,j,k,l;if(f=$(b).parent().attr("cr").match(/\d/)[0],a.init("freeform-"+f),a.index=f-1,a.list&&(a.list=a.list.filter(function(b){return b.index===a.index})),a.index>0)for(k=a.list,i=0,j=k.length;j>i;i++){c=k[i],l=c.position;for(h in l)g=l[h],c.position[h]=g-a.index}return a.repeaters=e.repeaters["freeform-"+f],a.cl.columns=function(){return{"col-md-12":"2"!==a.modifiers.columns,"col-md-6":"2"===a.modifiers.columns}},d.apply(a),a.src.date="/views/components/shared/date_range.html"},a.separatorDateNotNull=function(a){return null!==a.startDate.year||null!==a.endDate.year},a.$on("data.freeforms.get",function(b,c){return a.freeforms=c,g.formatFreeforms(),a.list=a.freeforms.filter(function(b){return void 0===a.index?!0:b.index===a.index}),a.sort()}),a.$on("resume.change",a.sort),this.formatFreeforms=function(){var b,c,d,e,f;for(e=a.freeforms,f=[],c=0,d=e.length;d>c;c++)b=e[c],(void 0!==b.start_month||void 0!==b.start_year)&&(b.startDate={month:b.start_month,year:b.start_year}),(void 0!==b.end_month||void 0!==b.end_year)&&(b.endDate={month:b.end_month,year:b.end_year}),delete b.start_month,delete b.start_year,delete b.end_month,delete b.end_year,f.push(a.sort());return f},a.$emit("data.document.request","freeforms")}])}.call(this),function(){var a;a=angular.module("presentation"),a.controller("NameplateCtrl",["$scope","ComponentCtrlFactory","ClassService","ComponentService","ResumeService",function(a,b,c,d,e){var f,g,h;return a=angular.extend(a,b),a.init("nameplate"),a.src=angular.extend(a.src,{name:"/views/components/nameplate/components/name.html",occupation:"/views/components/nameplate/components/occupation.html"}),h=a.modifiers,g=a.inheritedAlign,f=d.components.base.modifiers,a.bind={firstName:function(){return a.firstName[e.selectedId()]},lastName:function(){return a.lastName[e.selectedId()]},occupation:function(){return a.occupation[e.selectedId()]}},a.cl.alignHorizontal=function(){var a;return a="","1"===f.columns&&"yes"===f.header?a="top_background_color":"2"===f.columns&&"right"===f.wide_column?a="left_background_color":"2"===f.columns&&"left"===f.wide_column&&(a="right_background_color"),angular.extend(c.clColorsBg(f,a),{"align-center":"center"===h.align,"align-right":"right"===h.align,"span-left":"left"===h.align})},a.cl.alignVertical=function(){return{"align-middle":"middle"===h.vertical_align,"align-bottom":"bottom"===h.vertical_align}},a.cl.firstName=function(){return angular.extend(c.clColorsFg(h,"first_name_color"),{bold:"bold"===h.first_name_font_weight})},a.cl.horizontalRow=function(){return angular.extend(c.clSize(h),{"nameplate-horizontal":"horizontal"===h.configuration,"nameplate-horizontal-row":"horizontal_row"===h.configuration,"nameplate-vertical":"vertical"===h.configuration})},a.cl.lastName=function(){return angular.extend(c.clColorsFg(h,"last_name_color"),{bold:"bold"===h.last_name_font_weight})},a.cl.name=function(){return angular.extend(c.clCase(h),{row:"vertical"===h.configuration})},a.cl.nameInner=function(){return{"col-md-12":"vertical"===h.configuration}},a.cl.occupation=function(){return angular.extend(c.clColorsFg(h,"occupation_color"),c.clCase(h),{"float-right-justify":"horizontal_row"===h.configuration})},a.cl.underline=function(){return angular.extend(c.clColorsUnderline(h,"underline_color"),c.clUnderline(h),{"float-right":"right"===g&&"center"!==h.align})}}])}.call(this),function(){var a;a=angular.module("presentation"),a.controller("ProjectsCtrl",["$scope","DateService","PlacementService","PlacementComponentCtrlFactory",function(a,b,c,d){var e=this;return a=angular.extend(a,d),a.init("projects"),a.repeaters=c.repeaters.projects,a.src.name="/views/components/projects/components/name.html",a.src.date="/views/components/shared/date_range.html",a.type="projects",a.bind||(a.bind={}),a.bind.separator=function(){return a.bindSeparator(a.modifiers)},b.apply(a),a.separatorDateNotNull=function(a){return null!==a.startDate.year||null!==a.endDate.year},a.cl.columns=function(){return{"col-md-12":"2"!==a.modifiers.columns,"col-md-6":"2"===a.modifiers.columns}},a.$on("data.projects.get",function(b,c){return a.projects=c,e.formatProjects(),a.list=a.projects}),this.formatProjects=function(){var b,c,d,e,f;for(e=a.projects,f=[],c=0,d=e.length;d>c;c++)b=e[c],b.startDate||(b.startDate={month:b.start_month,year:b.start_year}),b.endDate||(b.endDate={month:b.end_month,year:b.end_year}),delete b.start_month,delete b.start_year,delete b.end_month,f.push(delete b.end_year);return f},a.$emit("data.document.request","projects")}])}.call(this),function(){var a;a=angular.module("presentation"),a.controller("SummaryCtrl",["$scope","ComponentCtrlFactory",function(a,b){return a=angular.extend(a,b),a.init("summary"),a.src.item="/views/components/summary/components/item.html",a.cl.columns=function(){return{"col-md-12":"2"!==a.modifiers.columns,"col-md-6":"2"===a.modifiers.columns}},a.$on("data.summaries.get",function(b,c){return a.summaries=c,a.list=a.summaries}),a.$emit("data.document.request","summaries")}])}.call(this),function(){var a;a=angular.module("presentation"),a.controller("SkillsCtrl",["$scope","$filter","ComponentCtrlFactory","ClassService","ResumeService",function(a,b,c,d,e){var f,g=this;return a=angular.extend(a,c,d),a.init("skills"),a.src.content="/views/components/skills/components/content.html",a.src.item="/views/components/skills/components/item.html",a.listRow={},a.ResumeService=e,f=a.modifiers,a.cl.base=function(){return{"font-primary":"primary"===f.font,"font-secondary":"secondary"===f.font,"no-wrap":"horizontal"===f.orientation}},a.cl.graphicStyle=function(){return{"col-md-12":"vertical"===f.orientation}},a.cl.groupName=function(){return angular.extend(d.clCase(f,"group_name_case"),d.clFontWeight(f,"group_name_font_weight"),{"sk-v":"vertical"===f.orientation})},a.cl.stackColumns=function(){var b,c,d,g,h,i;for(c=[],d=e.selectedId(),i=a.list,g=0,h=i.length;h>g;g++)b=i[g],b.resume_ids.indexOf(d)>-1&&c.push(b);return{"col-md-12":c.length<=1||"yes"===f.stack_columns,"col-md-6":2===c.length&&"no"===f.stack_columns,"col-md-4":3===c.length&&"no"===f.stack_columns,"col-md-3":c.length>=4&&"no"===f.stack_columns,"padded-row":"yes"===f.stack_columns}},a.cl.stackColumnsWrapper=function(){return{"stacked-cols":"yes"===f.stack_columns}},a.cl.vertical=function(){return{"sk-v":"vertical"===f.orientation}},a.listRow_=function(){var c,d,f,g,h,i,j,k,l,m,n,o;for(f={},n=e.resumes,j=0,l=n.length;l>j;j++){for(g=n[j],h=g.id,i=[],c=[],o=b("positionSort")(a.list),k=0,m=o.length;m>k;k++)d=o[k],d.resume_ids.indexOf(h)>-1&&(4===c.length&&(i.push(c),c=[]),c.push(d));c.length>0&&i.push(c),f[h]=i}return f},a.hasSkills=function(){var b,c,d,f,g,h,i,j,k;for(b=e.selectedId(),j=a.skill_groups,f=0,h=j.length;h>f;f++)if(d=j[f],d.resume_ids.indexOf(b)>-1){if((d.name||"").trim().length>0)return!0;for(k=d.skills,g=0,i=k.length;i>g;g++)return c=k[g],!0}return!1},this.formatSkills=function(){var b,c,d,e,f,g;for(f=a.skill_groups,g=[],d=0,e=f.length;e>d;d++)c=f[d],g.push(function(){var a,d,e,f;for(e=c.skills,f=[],a=0,d=e.length;d>a;a++)b=e[a],b.name=b.name.replace(/<[^<>]*>/g,""),f.push(b.rating=parseInt(b.rating));return f}());return g},a.$on("data.skillGroups.get",function(b,c){return a.skill_groups=c,g.formatSkills(),a.list=a.skill_groups,a.listRow=a.listRow_()}),a.$emit("data.document.request","skillGroups")}])}.call(this),function(){var a;a=angular.module("presentation"),a.controller("VolunteeringCtrl",["$scope","$rootScope","DateService","PlacementService","PlacementComponentCtrlFactory",function(a,b,c,d,e){var f=this;return a=angular.extend(a,e),a.init("volunteering"),a.repeaters=d.repeaters.volunteering,a.src.date="/views/components/shared/date_range.html",a.src.location="/views/components/shared/location.html",a.type="volunteering",a.bind||(a.bind={}),a.bind.separator=function(){return a.bindSeparator(a.modifiers)},a.cl.columns=function(){return{"col-md-12":"2"!==a.modifiers.columns,"col-md-6":"2"===a.modifiers.columns}},c.apply(a),a.separatorDateNotNull=function(a){return null!==a.startDate.year||null!==a.endDate.year},a.$on("data.volunteerings.get",function(b,c){return a.volunteerings=c,f.formatVolunteerings(),a.list=a.volunteerings}),this.formatVolunteerings=function(){var b,c,d,e,f;for(e=a.volunteerings,f=[],c=0,d=e.length;d>c;c++)b=e[c],b.startDate={month:b.start_month,year:b.start_year},b.endDate={month:b.end_month,year:b.end_year},delete b.start_month,delete b.start_year,delete b.end_month,f.push(delete b.end_year);return f},a.$emit("data.document.request","volunteerings")}])}.call(this),function(){var a;a=angular.module("presentation"),a.controller("PresentationCtrl",["$scope","$rootScope","$timeout","locale","tmhDynamicLocale","ComponentService","HttpService","PageService","ParamService","TreeService",function(a,b,c,d,e,f,g,h,i,j){var k=this;return this.build=null,a.build=!1,a.customizerVisible=!1,b.baseReady=!1,b.batch=i.batch,b.batchTheme=i.theme,b.batchRId=i.bId,b.fixed=i.fixed,b.docType="resume",b.gotData=!1,b.gotDocumentData=!1,b.gotLayoutData=!1,b.hasFocus=document.hasFocus(),b.broadcastModifiers=function(a){var c;return c=setInterval(function(){return b.baseReady?(b.$broadcast("modifiers",a),b.$broadcast("modifiers."+a.component,a),clearInterval(c)):void 0},1e3)},b.onBaseReady=function(){return b.baseReady=!0},b.onGetDocumentData=function(){return b.gotDocumentData=!0,a.gotLayoutData?b.gotData=!0:void 0},b.onGetLayoutData=function(){return b.gotLayoutData=!0,a.gotDocumentData&&(b.gotData=!0),window.preset?g.postClearPerson(window.preset.json.person.id):void 0},a.$on("build",this.build=this.startBuild=function(a,d,e){return e&&e.immediate?(k.startRequests&&b.$broadcast("cog.show"),j.prebuild(e.sections),j.build(function(){return e&&e.callback?e.callback():void 0})):b.gotData?(c.cancel(k.build),k.build=c(function(){return k.startRequests&&b.$broadcast("cog.show"),e&&j.prebuild(e.sections),c(function(){return j.build(function(){return b.built=!0,e&&e.callback&&e.callback(),e?j.prebuild(e.sections):void 0})},1e3)},1e3)):c(function(){return k.startBuild(e)},1e3)}),a.$on("build.express.complete",function(){return b.built=!1,b.express=!0,b.hasFocus=!0,k.onFocus()}),a.$on("content.request",a.requestContent=function(){return g.getDocumentData(function(a){return b.$broadcast("data.document.get",{data:a})})}),a.$on("customizer.hide",a.hideCustomizer=function(c,d){return!a.customizerVisible&&b.tooltips||(a.customizerVisible=!1,1===d)?void 0:b.$broadcast("customizer.hide",1)}),a.$on("customizer.show",a.showCustomizer=function(){return a.customizerVisible||!b.tooltips?a.customizerVisible=!0:void 0}),a.$on("customizer.toggle",a.toggleCustomizer=function(){return a.customizerVisible||!b.tooltips?a.customizerVisible=!a.customizerVisible:void 0}),a.$on("data.document.get",function(a,c){var f;return f=c.data.person.locale||"en-US",d.setLocale(f),"en-US"!==f?(e.set(f.toLowerCase()),b.$broadcast("locale.change")):void 0}),a.$on("data.layout.base.copy",function(a,c){return k.layoutData?b.$broadcast("data.layout.get",c):(k.layoutData=c,k.broadcastData())}),a.$on("prebuild",function(a,b,c){return c?j.prebuild(c.sections,c.callback):void 0}),a.$on("requests.start",function(){return k.startRequests=!0,k.startDataRequests()}),this.initDim=function(){return a.dim={mainColumnHeight:function(){return 1===h.pages?a.customizerVisible?800:h.dim.pageHeight()+180:a.customizerVisible?h.dim.pageHeight()+180:2*(h.dim.pageHeight()+120)}}},this.initFocus=function(){var d=this;return(i["export"]||window.disposable)&&(b.hasFocus=!0,this.onFocus()),$(window).focus(function(){return d.onFocus()}),c(function(){return i["new"]&&b.$broadcast("showNewUserModal"),d.startLayoutOptionsRequests()},1e3),a.$watch(function(){return document.hasFocus()},function(){return d.onFocus()})},this.initParams=function(){return i.express?(b.expressDocType=i.docType,b["break"]=i["break"],b.code=i.code,b.hasFocus=!0,i.theme?void 0:(b.express=!0,this.onFocus())):a.build=!0},this.initRequests=function(){return i["new"]?this.startResumeRequests=!0:this.startRequests=!0},this.broadcastData=function(){return k.documentData&&void 0===k.layoutData&&b.$broadcast("data.resumes.get",{data:{person:{resumes:k.documentData.data.person.resumes},show:!0}}),k.documentData&&k.layoutData&&(b.$broadcast("data.document.get",k.documentData),b.$broadcast("data.layout.get",k.layoutData)),k.coverLetterData&&k.layoutData?(b.$broadcast("data.coverLetter.get",k.coverLetterData),b.$broadcast("data.layout.get",k.layoutData)):void 0},this.onFocus=function(){return document.hasFocus()&&(b.hasFocus=!0),!b.built&&b.hasFocus&&(b.$broadcast("hideWaitSpinner"),k.startRequests&&(b.$broadcast("cog.show"),k.startDataRequests(),k.gotLayoutOptions||k.startLayoutOptionsRequests(),k.startRequests=!1),k.startResumeRequests)?g.getDocumentData(function(a){return k.documentData={data:a},k.broadcastData()}):void 0},this.startDataRequests=function(){return b.startedDataRequests=!0,b.docType=$(".document").attr("type"),b.$broadcast("getDocType",b.docType),"cover_letter"===b.docType?g.getCoverLetterContent(function(a){return k.coverLetterData={data:a},k.broadcastData()}):k.documentData||g.getDocumentData(function(a){return k.documentData={data:a},k.broadcastData()}),g.getLayoutData(function(a){var b,c,d,e,f,g;for(k.layoutData={data:a},d={},g=a.person.theme.components,c=e=0,f=g.length;f>e;c=++e)b=g[c],b.type&&(d[b.type]=c);return k.broadcastData()})},this.startLayoutOptionsRequests=function(){return g.getLayoutOptions(function(a){return k.gotLayoutOptions=!0,b.$broadcast("getLayoutOptions",{data:a})})},this.initDim(),this.initFocus(),this.initParams(),this.initRequests()}]),angular.bootstrap(document,["presentation"])}.call(this);